!function r(l,e,c){function t(s,o){if(!e[s]){if(!l[s]){var a="function"==typeof require&&require;if(!o&&a)return a(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var i=e[s]={exports:{}};l[s][0].call(i.exports,function(r){var e=l[s][1][r];return t(e||r)},i,i.exports,r,l,e,c)}return e[s].exports}for(var n="function"==typeof require&&require,s=0;s<c.length;s++)t(c[s]);return t}({1:[function(r,l,e){"use strict";var c=r("./pouch-utils"),t=r("datascript-async"),n=function(r){return r?r.toLowerCase():r};e.dataquery=c.toPromise(function(r,l){var e=this,c=function(r,l){return function(e,c,t){var s=l+"/"+l;return"eav"===l?(e=[e.e,e.a,e.v],c=[c.e,c.a,c.v]):"ave"===l&&(e=[e.a,e.v,e.e],c=[c.a,c.v,c.e]),e=e.map(n),c=c.map(n),c=c.map(function(r){return null===r?{}:r}),r.query(s,{startkey:e,endkey:c}).then(function(r){var l=r.rows.map(function(r){return r.value});t(l)}).catch(function(r){console.error("An error occured.",r)})}},s=t.set_indexes(c(e,"eav"),c(e,"ave"));return t.q(function(r,e){return r||l(null,e)},r,s)}),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},{"./pouch-utils":19,"datascript-async":2}],2:[function(require,module,exports){var process=require("__browserify_process"),global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};!function(r){"object"==typeof exports?module.exports=r():"function"==typeof define&&define.amd?define(r):datascript=r()}(function(){return function(){void 0!==Math.imul&&0!=Math.imul(4294967295,5)||(Math.imul=function(r,l){var e=r>>>16&65535,c=65535&r,t=l>>>16&65535,n=65535&l;return c*n+(e*n+c*t<<16>>>0)|0});var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(r){return void 0!==r},goog.exportPath_=function(r,l,e){r=r.split("."),e=e||goog.global,r[0]in e||!e.execScript||e.execScript("var "+r[0]);for(var c;r.length&&(c=r.shift());)!r.length&&goog.isDef(l)?e[c]=l:e=e[c]?e[c]:e[c]={}},goog.define=function(r,l){var e=l;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,r)?e=goog.global.CLOSURE_UNCOMPILED_DEFINES[r]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,r)&&(e=goog.global.CLOSURE_DEFINES[r])),goog.exportPath_(r,e)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(r){if(!COMPILED&&goog.isProvided_(r))throw Error('Namespace "'+r+'" already declared.');goog.constructNamespace_(r)},goog.constructNamespace_=function(r,l){if(!COMPILED){delete goog.implicitNamespaces_[r];for(var e=r;(e=e.substring(0,e.lastIndexOf(".")))&&!goog.getObjectByName(e);)goog.implicitNamespaces_[e]=!0}goog.exportPath_(r,l)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(r){if(!goog.isString(r)||!r||-1==r.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+r+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=r,!COMPILED){if(goog.isProvided_(r))throw Error('Namespace "'+r+'" already declared.');delete goog.implicitNamespaces_[r]}},goog.module.get=function(r){return goog.module.getInternal_(r)},goog.module.getInternal_=function(r){if(!COMPILED)return goog.isProvided_(r)?r in goog.loadedModules_?goog.loadedModules_[r]:goog.getObjectByName(r):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(r){if(goog.DISALLOW_TEST_ONLY_CODE)throw r=r||"",Error("Importing test-only code into non-debug environment"+(r?": "+r:"."))},goog.forwardDeclare=function(r){},COMPILED||(goog.isProvided_=function(r){return r in goog.loadedModules_||!goog.implicitNamespaces_[r]&&goog.isDefAndNotNull(goog.getObjectByName(r))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(r,l){for(var e,c=r.split("."),t=l||goog.global;e=c.shift();){if(!goog.isDefAndNotNull(t[e]))return null;t=t[e]}return t},goog.globalize=function(r,l){var e,c=l||goog.global;for(e in r)c[e]=r[e]},goog.addDependency=function(r,l,e,c){if(goog.DEPENDENCIES_ENABLED){var t;r=r.replace(/\\/g,"/");for(var n=goog.dependencies_,s=0;t=l[s];s++)n.nameToPath[t]=r,n.pathIsModule[r]=!!c;for(c=0;l=e[c];c++)r in n.requires||(n.requires[r]={}),n.requires[r][l]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(r){goog.global.console&&goog.global.console.error(r)},goog.require=function(r){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(r),goog.isProvided_(r))return goog.isInModuleLoader_()?goog.module.getInternal_(r):null;if(goog.ENABLE_DEBUG_LOADER){var l=goog.getPathFromDeps_(r);if(l)return goog.included_[l]=!0,goog.writeScripts_(),null}throw r="goog.require could not find: "+r,goog.logToConsole_(r),Error(r)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(r){r.getInstance=function(){return r.instance_?r.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=r),r.instance_=new r)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var r=goog.global.document;return void 0!==r&&"write"in r},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var r=goog.global.document.getElementsByTagName("SCRIPT"),l=r.length-1;0<=l;--l){var e=r[l].src,c=e.lastIndexOf("?"),c=-1==c?e.length:c;if("base.js"==e.substr(c-7,7)){goog.basePath=e.substr(0,c-7);break}}},goog.importScript_=function(r,l){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(r,l)&&(goog.dependencies_.written[r]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(r){goog.importScript_("",'goog.retrieveAndExecModule_("'+r+'");')&&(goog.dependencies_.written[r]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(r,l){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(l+"\n//# sourceURL="+r+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+l+"\n;return exports});\n//# sourceURL="+r+"\n"},goog.loadQueuedModules_=function(){var r=goog.queuedModules_.length;if(0<r){var l=goog.queuedModules_;goog.queuedModules_=[];for(var e=0;e<r;e++)goog.maybeProcessDeferredPath_(l[e])}},goog.maybeProcessDeferredDep_=function(r){goog.isDeferredModule_(r)&&goog.allDepsAreAvailable_(r)&&(r=goog.getPathFromDeps_(r),goog.maybeProcessDeferredPath_(goog.basePath+r))},goog.isDeferredModule_=function(r){return!(!(r=goog.getPathFromDeps_(r))||!goog.dependencies_.pathIsModule[r])&&goog.basePath+r in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(r){if((r=goog.getPathFromDeps_(r))&&r in goog.dependencies_.requires)for(var l in goog.dependencies_.requires[r])if(!goog.isProvided_(l)&&!goog.isDeferredModule_(l))return!1;return!0},goog.maybeProcessDeferredPath_=function(r){if(r in goog.dependencies_.deferred){var l=goog.dependencies_.deferred[r];delete goog.dependencies_.deferred[r],goog.globalEval(l)}},goog.loadModule=function(r){var l=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var e;if(goog.isFunction(r))e=r.call(goog.global,{});else{if(!goog.isString(r))throw Error("Invalid module definition");e=goog.loadModuleFromSource_.call(goog.global,r)}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c)throw Error('Invalid module name "'+c+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(c,e):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(e),goog.loadedModules_[c]=e,goog.moduleLoaderState_.declareTestMethods)for(var t in e)0!==t.indexOf("test",0)&&"tearDown"!=t&&"setUp"!=t&&"setUpPage"!=t&&"tearDownPage"!=t||(goog.global[t]=e[t])}finally{goog.moduleLoaderState_=l}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(r){goog.global.document.write('<script type="text/javascript" src="'+r+'"><\/script>')},goog.appendScriptSrcNode_=function(r){var l=goog.global.document,e=l.createElement("script");e.type="text/javascript",e.src=r,e.defer=!1,e.async=!1,l.head.appendChild(e)},goog.writeScriptTag_=function(r,l){if(goog.inHtmlDocument_()){var e=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==e.readyState){if(/\bdeps.js$/.test(r))return!1;throw Error('Cannot write "'+r+'" after document load')}var c=goog.IS_OLD_IE_;return void 0===l?c?(c=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",e.write('<script type="text/javascript" src="'+r+'"'+c+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(r):goog.writeScriptSrcNode_(r):e.write('<script type="text/javascript">'+l+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(r,l){return"complete"==r.readyState&&goog.lastNonModuleScriptIndex_==l&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function r(l){if(!(l in t.written)){if(!(l in t.visited)&&(t.visited[l]=!0,l in t.requires))for(var n in t.requires[l])if(!goog.isProvided_(n)){if(!(n in t.nameToPath))throw Error("Undefined nameToPath for "+n);r(t.nameToPath[n])}l in c||(c[l]=!0,e.push(l))}}var l,e=[],c={},t=goog.dependencies_;for(l in goog.included_)t.written[l]||r(l);for(var n=0;n<e.length;n++)l=e[n],goog.dependencies_.written[l]=!0;var s=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,n=0;n<e.length;n++){if(!(l=e[n]))throw goog.moduleLoaderState_=s,Error("Undefined script input");t.pathIsModule[l]?goog.importModule_(goog.basePath+l):goog.importScript_(goog.basePath+l)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(r){return r in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[r]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(r){r=r.split("/");for(var l=0;l<r.length;)"."==r[l]?r.splice(l,1):l&&".."==r[l]&&r[l-1]&&".."!=r[l-1]?r.splice(--l,2):l++;return r.join("/")},goog.loadFileSync_=function(r){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(r);var l=new goog.global.XMLHttpRequest;return l.open("get",r,!1),l.send(),l.responseText},goog.retrieveAndExecModule_=function(r){if(!COMPILED){var l=r;r=goog.normalizePath_(r);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,c=goog.loadFileSync_(r);if(null==c)throw Error("load of "+r+"failed");c=goog.wrapModule_(r,c),goog.IS_OLD_IE_?(goog.dependencies_.deferred[l]=c,goog.queuedModules_.push(l)):e(r,c)}},goog.typeOf=function(r){var l=typeof r;if("object"==l){if(!r)return"null";if(r instanceof Array)return"array";if(r instanceof Object)return l;var e=Object.prototype.toString.call(r);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof r.length&&void 0!==r.splice&&void 0!==r.propertyIsEnumerable&&!r.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||void 0!==r.call&&void 0!==r.propertyIsEnumerable&&!r.propertyIsEnumerable("call"))return"function"}else if("function"==l&&void 0===r.call)return"object";return l},goog.isNull=function(r){return null===r},goog.isDefAndNotNull=function(r){return null!=r},goog.isArray=function(r){return"array"==goog.typeOf(r)},goog.isArrayLike=function(r){var l=goog.typeOf(r);return"array"==l||"object"==l&&"number"==typeof r.length},goog.isDateLike=function(r){return goog.isObject(r)&&"function"==typeof r.getFullYear},goog.isString=function(r){return"string"==typeof r},goog.isBoolean=function(r){return"boolean"==typeof r},goog.isNumber=function(r){return"number"==typeof r},goog.isFunction=function(r){return"function"==goog.typeOf(r)},goog.isObject=function(r){var l=typeof r;return"object"==l&&null!=r||"function"==l},goog.getUid=function(r){return r[goog.UID_PROPERTY_]||(r[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(r){return!!r[goog.UID_PROPERTY_]},goog.removeUid=function(r){"removeAttribute"in r&&r.removeAttribute(goog.UID_PROPERTY_);try{delete r[goog.UID_PROPERTY_]}catch(r){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(r){var l=goog.typeOf(r);if("object"==l||"array"==l){if(r.clone)return r.clone();var e,l="array"==l?[]:{};for(e in r)l[e]=goog.cloneObject(r[e]);return l}return r},goog.bindNative_=function(r,l,e){return r.call.apply(r.bind,arguments)},goog.bindJs_=function(r,l,e){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,c),r.apply(l,e)}}return function(){return r.apply(l,arguments)}},goog.bind=function(r,l,e){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(r,l){var e=Array.prototype.slice.call(arguments,1);return function(){var l=e.slice();return l.push.apply(l,arguments),r.apply(this,l)}},goog.mixin=function(r,l){for(var e in l)r[e]=l[e]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(r){if(goog.global.execScript)goog.global.execScript(r,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(r);else{var l=goog.global.document,e=l.createElement("SCRIPT");e.type="text/javascript",e.defer=!1,e.appendChild(l.createTextNode(r)),l.body.appendChild(e),l.body.removeChild(e)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(r,l){var e=function(r){return goog.cssNameMapping_[r]||r},c=function(r){r=r.split("-");for(var l=[],c=0;c<r.length;c++)l.push(e(r[c]));return l.join("-")},c=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?e:c:function(r){return r};return l?r+"-"+c(l):c(r)},goog.setCssNameMapping=function(r,l){goog.cssNameMapping_=r,goog.cssNameMappingStyle_=l},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(r,l){return l&&(r=r.replace(/\{\$([^}]+)}/g,function(r,e){return e in l?l[e]:r})),r},goog.getMsgWithFallback=function(r,l){return r},goog.exportSymbol=function(r,l,e){goog.exportPath_(r,l,e)},goog.exportProperty=function(r,l,e){r[l]=e},goog.inherits=function(r,l){function e(){}e.prototype=l.prototype,r.superClass_=l.prototype,r.prototype=new e,r.prototype.constructor=r,r.base=function(r,e,c){for(var t=Array(arguments.length-2),n=2;n<arguments.length;n++)t[n-2]=arguments[n];return l.prototype[e].apply(r,t)}},goog.base=function(r,l,e){var c=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(c.superClass_){for(var t=Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return c.superClass_.constructor.apply(r,t)}for(t=Array(arguments.length-2),n=2;n<arguments.length;n++)t[n-2]=arguments[n];for(var n=!1,s=r.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[l]===c)n=!0;else if(n)return s.prototype[l].apply(r,t);if(r[l]===c)return r.constructor.prototype[l].apply(r,t);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(r){r.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(r,l){var e=l.constructor,c=l.statics;return e&&e!=Object.prototype.constructor||(e=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),e=goog.defineClass.createSealingConstructor_(e,r),r&&goog.inherits(e,r),delete l.constructor,delete l.statics,goog.defineClass.applyProperties_(e.prototype,l),null!=c&&(c instanceof Function?c(e):goog.defineClass.applyProperties_(e,c)),e},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(r,l){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(l&&l.prototype&&l.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return r;var e=function(){var l=r.apply(this,arguments)||this;return l[goog.UID_PROPERTY_]=l[goog.UID_PROPERTY_],this.constructor===e&&Object.seal(l),l};return e}return r},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(r,l){for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e]);for(var c=0;c<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;c++)e=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[c],Object.prototype.hasOwnProperty.call(l,e)&&(r[e]=l[e])},goog.tagUnsealableClass=function(r){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(r.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(r,l){return 0==r.lastIndexOf(l,0)},goog.string.endsWith=function(r,l){var e=r.length-l.length;return 0<=e&&r.indexOf(l,e)==e},goog.string.caseInsensitiveStartsWith=function(r,l){return 0==goog.string.caseInsensitiveCompare(l,r.substr(0,l.length))},goog.string.caseInsensitiveEndsWith=function(r,l){return 0==goog.string.caseInsensitiveCompare(l,r.substr(r.length-l.length,l.length))},goog.string.caseInsensitiveEquals=function(r,l){return r.toLowerCase()==l.toLowerCase()},goog.string.subs=function(r,l){for(var e=r.split("%s"),c="",t=Array.prototype.slice.call(arguments,1);t.length&&1<e.length;)c+=e.shift()+t.shift();return c+e.join("%s")},goog.string.collapseWhitespace=function(r){return r.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(r){return/^[\s\xa0]*$/.test(r)},goog.string.isEmptyString=function(r){return 0==r.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(r){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(r))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(r){return!/[^\t\n\r ]/.test(r)},goog.string.isAlpha=function(r){return!/[^a-zA-Z]/.test(r)},goog.string.isNumeric=function(r){return!/[^0-9]/.test(r)},goog.string.isAlphaNumeric=function(r){return!/[^a-zA-Z0-9]/.test(r)},goog.string.isSpace=function(r){return" "==r},goog.string.isUnicodeChar=function(r){return 1==r.length&&" "<=r&&"~">=r||""<=r&&"�">=r},goog.string.stripNewlines=function(r){return r.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(r){return r.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(r){return r.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(r){return r.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(r){return r.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(r){return r.trim()}:function(r){return r.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(r){return r.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(r){return r.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(r,l){var e=String(r).toLowerCase(),c=String(l).toLowerCase();return e<c?-1:e==c?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(r,l){if(r==l)return 0;if(!r)return-1;if(!l)return 1;for(var e=r.toLowerCase().match(goog.string.numerateCompareRegExp_),c=l.toLowerCase().match(goog.string.numerateCompareRegExp_),t=Math.min(e.length,c.length),n=0;n<t;n++){var s=e[n],o=c[n];if(s!=o)return e=parseInt(s,10),!isNaN(e)&&(c=parseInt(o,10),!isNaN(c)&&e-c)?e-c:s<o?-1:1}return e.length!=c.length?e.length-c.length:r<l?-1:1},goog.string.urlEncode=function(r){return encodeURIComponent(String(r))},goog.string.urlDecode=function(r){return decodeURIComponent(r.replace(/\+/g," "))},goog.string.newLineToBr=function(r,l){return r.replace(/(\r\n|\r|\n)/g,l?"<br />":"<br>")},goog.string.htmlEscape=function(r,l){if(l)r=r.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(r=r.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(r))return r;-1!=r.indexOf("&")&&(r=r.replace(goog.string.AMP_RE_,"&amp;")),-1!=r.indexOf("<")&&(r=r.replace(goog.string.LT_RE_,"&lt;")),-1!=r.indexOf(">")&&(r=r.replace(goog.string.GT_RE_,"&gt;")),-1!=r.indexOf('"')&&(r=r.replace(goog.string.QUOT_RE_,"&quot;")),-1!=r.indexOf("'")&&(r=r.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=r.indexOf("\0")&&(r=r.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=r.indexOf("e")&&(r=r.replace(goog.string.E_RE_,"&#101;"))}return r},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(r){return goog.string.contains(r,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(r):goog.string.unescapePureXmlEntities_(r):r},goog.string.unescapeEntitiesWithDocument=function(r,l){return goog.string.contains(r,"&")?goog.string.unescapeEntitiesUsingDom_(r,l):r},goog.string.unescapeEntitiesUsingDom_=function(r,l){var e,c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return e=l?l.createElement("div"):goog.global.document.createElement("div"),r.replace(goog.string.HTML_ENTITY_PATTERN_,function(r,l){var t=c[r];if(t)return t;if("#"==l.charAt(0)){var n=Number("0"+l.substr(1));isNaN(n)||(t=String.fromCharCode(n))}return t||(e.innerHTML=r+" ",t=e.firstChild.nodeValue.slice(0,-1)),c[r]=t})},goog.string.unescapePureXmlEntities_=function(r){return r.replace(/&([^;]+);/g,function(r,l){switch(l){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==l.charAt(0)){var e=Number("0"+l.substr(1));if(!isNaN(e))return String.fromCharCode(e)}return r}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(r,l){return goog.string.newLineToBr(r.replace(/  /g," &#160;"),l)},goog.string.preserveSpaces=function(r){return r.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(r,l){for(var e=l.length,c=0;c<e;c++){var t=1==e?l:l.charAt(c);if(r.charAt(0)==t&&r.charAt(r.length-1)==t)return r.substring(1,r.length-1)}return r},goog.string.truncate=function(r,l,e){return e&&(r=goog.string.unescapeEntities(r)),r.length>l&&(r=r.substring(0,l-3)+"..."),e&&(r=goog.string.htmlEscape(r)),r},goog.string.truncateMiddle=function(r,l,e,c){if(e&&(r=goog.string.unescapeEntities(r)),c&&r.length>l){c>l&&(c=l);var t=r.length-c;r=r.substring(0,l-c)+"..."+r.substring(t)}else r.length>l&&(c=Math.floor(l/2),t=r.length-c,r=r.substring(0,c+l%2)+"..."+r.substring(t));return e&&(r=goog.string.htmlEscape(r)),r},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(r){if(r=String(r),r.quote)return r.quote();for(var l=['"'],e=0;e<r.length;e++){var c=r.charAt(e),t=c.charCodeAt(0);l[e+1]=goog.string.specialEscapeChars_[c]||(31<t&&127>t?c:goog.string.escapeChar(c))}return l.push('"'),l.join("")},goog.string.escapeString=function(r){for(var l=[],e=0;e<r.length;e++)l[e]=goog.string.escapeChar(r.charAt(e));return l.join("")},goog.string.escapeChar=function(r){if(r in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[r];if(r in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[r]=goog.string.specialEscapeChars_[r];var l=r,e=r.charCodeAt(0);return 31<e&&127>e?l=r:(256>e?(l="\\x",(16>e||256<e)&&(l+="0")):(l="\\u",4096>e&&(l+="0")),l+=e.toString(16).toUpperCase()),goog.string.jsEscapeCache_[r]=l},goog.string.contains=function(r,l){return-1!=r.indexOf(l)},goog.string.caseInsensitiveContains=function(r,l){return goog.string.contains(r.toLowerCase(),l.toLowerCase())},goog.string.countOf=function(r,l){return r&&l?r.split(l).length-1:0},goog.string.removeAt=function(r,l,e){var c=r;return 0<=l&&l<r.length&&0<e&&(c=r.substr(0,l)+r.substr(l+e,r.length-l-e)),c},goog.string.remove=function(r,l){var e=new RegExp(goog.string.regExpEscape(l),"");return r.replace(e,"")},goog.string.removeAll=function(r,l){var e=new RegExp(goog.string.regExpEscape(l),"g");return r.replace(e,"")},goog.string.regExpEscape=function(r){return String(r).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(r,l){return Array(l+1).join(r)},goog.string.padNumber=function(r,l,e){return r=goog.isDef(e)?r.toFixed(e):String(r),e=r.indexOf("."),-1==e&&(e=r.length),goog.string.repeat("0",Math.max(0,l-e))+r},goog.string.makeSafe=function(r){return null==r?"":String(r)},goog.string.buildString=function(r){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(r,l){for(var e=0,c=goog.string.trim(String(r)).split("."),t=goog.string.trim(String(l)).split("."),n=Math.max(c.length,t.length),s=0;0==e&&s<n;s++){var o=c[s]||"",a=t[s]||"",i=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var $=i.exec(o)||["","",""],j=u.exec(a)||["","",""];if(0==$[0].length&&0==j[0].length)break;var e=0==$[1].length?0:parseInt($[1],10),_=0==j[1].length?0:parseInt(j[1],10),e=goog.string.compareElements_(e,_)||goog.string.compareElements_(0==$[2].length,0==j[2].length)||goog.string.compareElements_($[2],j[2])}while(0==e)}return e},goog.string.compareElements_=function(r,l){return r<l?-1:r>l?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(r){for(var l=0,e=0;e<r.length;++e)l=31*l+r.charCodeAt(e),l%=goog.string.HASHCODE_MAX_;return l},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(r){var l=Number(r);return 0==l&&goog.string.isEmptyOrWhitespace(r)?NaN:l},goog.string.isLowerCamelCase=function(r){return/^[a-z]+([A-Z][a-z]*)*$/.test(r)},goog.string.isUpperCamelCase=function(r){return/^([A-Z][a-z]*)+$/.test(r)},goog.string.toCamelCase=function(r){return String(r).replace(/\-([a-z])/g,function(r,l){return l.toUpperCase()})},goog.string.toSelectorCase=function(r){return String(r).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(r,l){var e=goog.isString(l)?goog.string.regExpEscape(l):"\\s";return r.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(r,l,e){return l+e.toUpperCase()})},goog.string.capitalize=function(r){return String(r.charAt(0)).toUpperCase()+String(r.substr(1)).toLowerCase()},goog.string.parseInt=function(r){return isFinite(r)&&(r=String(r)),goog.isString(r)?/^\s*-?0x/i.test(r)?parseInt(r,16):parseInt(r,10):NaN},goog.string.splitLimit=function(r,l,e){r=r.split(l);for(var c=[];0<e&&r.length;)c.push(r.shift()),e--;return r.length&&c.push(r.join(l)),c},goog.string.editDistance=function(r,l){var e=[],c=[];if(r==l)return 0;if(!r.length||!l.length)return Math.max(r.length,l.length);for(var t=0;t<l.length+1;t++)e[t]=t;for(t=0;t<r.length;t++){c[0]=t+1;for(var n=0;n<l.length;n++)c[n+1]=Math.min(c[n]+1,e[n+1]+1,e[n]+(r[t]!=l[n]));for(n=0;n<e.length;n++)e[n]=c[n]}return c[l.length]},goog.object={},goog.object.forEach=function(r,l,e){for(var c in r)l.call(e,r[c],c,r)},goog.object.filter=function(r,l,e){var c,t={};for(c in r)l.call(e,r[c],c,r)&&(t[c]=r[c]);return t},goog.object.map=function(r,l,e){var c,t={};for(c in r)t[c]=l.call(e,r[c],c,r);return t},goog.object.some=function(r,l,e){for(var c in r)if(l.call(e,r[c],c,r))return!0;return!1},goog.object.every=function(r,l,e){for(var c in r)if(!l.call(e,r[c],c,r))return!1;return!0},goog.object.getCount=function(r){var l,e=0;for(l in r)e++;return e},goog.object.getAnyKey=function(r){for(var l in r)return l},goog.object.getAnyValue=function(r){for(var l in r)return r[l]},goog.object.contains=function(r,l){return goog.object.containsValue(r,l)},goog.object.getValues=function(r){var l,e=[],c=0;for(l in r)e[c++]=r[l];return e},goog.object.getKeys=function(r){var l,e=[],c=0;for(l in r)e[c++]=l;return e},goog.object.getValueByKeys=function(r,l){for(var e=goog.isArrayLike(l),c=e?l:arguments,e=e?0:1;e<c.length&&(r=r[c[e]],goog.isDef(r));e++);return r},goog.object.containsKey=function(r,l){return l in r},goog.object.containsValue=function(r,l){for(var e in r)if(r[e]==l)return!0;return!1},goog.object.findKey=function(r,l,e){for(var c in r)if(l.call(e,r[c],c,r))return c},goog.object.findValue=function(r,l,e){return(l=goog.object.findKey(r,l,e))&&r[l]},goog.object.isEmpty=function(r){for(var l in r)return!1;return!0},goog.object.clear=function(r){for(var l in r)delete r[l]},goog.object.remove=function(r,l){var e;return(e=l in r)&&delete r[l],e},goog.object.add=function(r,l,e){if(l in r)throw Error('The object already contains the key "'+l+'"');goog.object.set(r,l,e)},goog.object.get=function(r,l,e){return l in r?r[l]:e},goog.object.set=function(r,l,e){r[l]=e},goog.object.setIfUndefined=function(r,l,e){return l in r?r[l]:r[l]=e},goog.object.setWithReturnValueIfNotSet=function(r,l,e){return l in r?r[l]:(e=e(),r[l]=e)};goog.object.equals=function(r,l){for(var e in r)if(!(e in l)||r[e]!==l[e])return!1;for(e in l)if(!(e in r))return!1;return!0},goog.object.clone=function(r){var l,e={};for(l in r)e[l]=r[l];return e},goog.object.unsafeClone=function(r){var l=goog.typeOf(r);if("object"==l||"array"==l){if(r.clone)return r.clone();var e,l="array"==l?[]:{};for(e in r)l[e]=goog.object.unsafeClone(r[e]);return l}return r},goog.object.transpose=function(r){var l,e={};for(l in r)e[r[l]]=l;return e},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(r,l){
for(var e,c,t=1;t<arguments.length;t++){c=arguments[t];for(e in c)r[e]=c[e];for(var n=0;n<goog.object.PROTOTYPE_FIELDS_.length;n++)e=goog.object.PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(c,e)&&(r[e]=c[e])}},goog.object.create=function(r){var l=arguments.length;if(1==l&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(l%2)throw Error("Uneven number of arguments");for(var e={},c=0;c<l;c+=2)e[arguments[c]]=arguments[c+1];return e},goog.object.createSet=function(r){var l=arguments.length;if(1==l&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var e={},c=0;c<l;c++)e[arguments[c]]=!0;return e},goog.object.createImmutableView=function(r){var l=r;return Object.isFrozen&&!Object.isFrozen(r)&&(l=Object.create(r),Object.freeze(l)),l},goog.object.isImmutableView=function(r){return!!Object.isFrozen&&Object.isFrozen(r)},goog.string.StringBuffer=function(r,l){null!=r&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(r){this.buffer_=""+r},goog.string.StringBuffer.prototype.append=function(r,l,e){if(this.buffer_+=r,null!=l)for(var c=1;c<arguments.length;c++)this.buffer_+=arguments[c];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.debug={},goog.debug.Error=function(r){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var l=Error().stack;l&&(this.stack=l)}r&&(this.message=String(r)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(r,l){l.unshift(r),goog.debug.Error.call(this,goog.string.subs.apply(null,l)),l.shift(),this.messagePattern=r},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(r){throw r},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(r,l,e,c){var t="Assertion failed";if(e)var t=t+": "+e,n=c;else r&&(t+=": "+r,n=l);r=new goog.asserts.AssertionError(""+t,n||[]),goog.asserts.errorHandler_(r)},goog.asserts.setErrorHandler=function(r){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=r)},goog.asserts.assert=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!r&&goog.asserts.doAssertFailure_("",null,l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.fail=function(r,l){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(r)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertString=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(r)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertFunction=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(r)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertObject=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(r)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertArray=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(r)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertBoolean=function(r,l,e){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(r)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertElement=function(r,l,e){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(r)&&r.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(r),r],l,Array.prototype.slice.call(arguments,2)),r},goog.asserts.assertInstanceof=function(r,l,e,c){return!goog.asserts.ENABLE_ASSERTS||r instanceof l||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(l),goog.asserts.getType_(r)],e,Array.prototype.slice.call(arguments,3)),r},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var r in Object.prototype)goog.asserts.fail(r+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(r){return r instanceof Function?r.displayName||r.name||"unknown type name":r instanceof Object?r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r):null===r?"null":typeof r},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(r){return r[r.length-1]},goog.array.last=goog.array.peek,goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(r,l,e)}:function(r,l,e){if(e=null==e?0:0>e?Math.max(0,r.length+e):e,goog.isString(r))return goog.isString(l)&&1==l.length?r.indexOf(l,e):-1;for(;e<r.length;e++)if(e in r&&r[e]===l)return e;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(r,l,null==e?r.length-1:e)}:function(r,l,e){if(e=null==e?r.length-1:e,0>e&&(e=Math.max(0,r.length+e)),goog.isString(r))return goog.isString(l)&&1==l.length?r.lastIndexOf(l,e):-1;for(;0<=e;e--)if(e in r&&r[e]===l)return e;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(r,l,e){goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(r,l,e)}:function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,n=0;n<c;n++)n in t&&l.call(e,t[n],n,r)},goog.array.forEachRight=function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,c=c-1;0<=c;--c)c in t&&l.call(e,t[c],c,r)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.filter.call(r,l,e)}:function(r,l,e){for(var c=r.length,t=[],n=0,s=goog.isString(r)?r.split(""):r,o=0;o<c;o++)if(o in s){var a=s[o];l.call(e,a,o,r)&&(t[n++]=a)}return t},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.map.call(r,l,e)}:function(r,l,e){for(var c=r.length,t=Array(c),n=goog.isString(r)?r.split(""):r,s=0;s<c;s++)s in n&&(t[s]=l.call(e,n[s],s,r));return t},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(r,l,e,c){return goog.asserts.assert(null!=r.length),c&&(l=goog.bind(l,c)),goog.array.ARRAY_PROTOTYPE_.reduce.call(r,l,e)}:function(r,l,e,c){var t=e;return goog.array.forEach(r,function(e,n){t=l.call(c,t,e,n,r)}),t},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(r,l,e,c){return goog.asserts.assert(null!=r.length),c&&(l=goog.bind(l,c)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(r,l,e)}:function(r,l,e,c){var t=e;return goog.array.forEachRight(r,function(e,n){t=l.call(c,t,e,n,r)}),t},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.some.call(r,l,e)}:function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,n=0;n<c;n++)if(n in t&&l.call(e,t[n],n,r))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(r,l,e){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.every.call(r,l,e)}:function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,n=0;n<c;n++)if(n in t&&!l.call(e,t[n],n,r))return!1;return!0},goog.array.count=function(r,l,e){var c=0;return goog.array.forEach(r,function(r,t,n){l.call(e,r,t,n)&&++c},e),c},goog.array.find=function(r,l,e){return l=goog.array.findIndex(r,l,e),0>l?null:goog.isString(r)?r.charAt(l):r[l]},goog.array.findIndex=function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,n=0;n<c;n++)if(n in t&&l.call(e,t[n],n,r))return n;return-1},goog.array.findRight=function(r,l,e){return l=goog.array.findIndexRight(r,l,e),0>l?null:goog.isString(r)?r.charAt(l):r[l]},goog.array.findIndexRight=function(r,l,e){for(var c=r.length,t=goog.isString(r)?r.split(""):r,c=c-1;0<=c;c--)if(c in t&&l.call(e,t[c],c,r))return c;return-1},goog.array.contains=function(r,l){return 0<=goog.array.indexOf(r,l)},goog.array.isEmpty=function(r){return 0==r.length},goog.array.clear=function(r){if(!goog.isArray(r))for(var l=r.length-1;0<=l;l--)delete r[l];r.length=0},goog.array.insert=function(r,l){goog.array.contains(r,l)||r.push(l)},goog.array.insertAt=function(r,l,e){goog.array.splice(r,e,0,l)},goog.array.insertArrayAt=function(r,l,e){goog.partial(goog.array.splice,r,e,0).apply(null,l)},goog.array.insertBefore=function(r,l,e){var c;2==arguments.length||0>(c=goog.array.indexOf(r,e))?r.push(l):goog.array.insertAt(r,l,c)},goog.array.remove=function(r,l){var e,c=goog.array.indexOf(r,l);return(e=0<=c)&&goog.array.removeAt(r,c),e},goog.array.removeAt=function(r,l){return goog.asserts.assert(null!=r.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(r,l,1).length},goog.array.removeIf=function(r,l,e){return 0<=(l=goog.array.findIndex(r,l,e))&&(goog.array.removeAt(r,l),!0)},goog.array.removeAllIf=function(r,l,e){var c=0;return goog.array.forEachRight(r,function(t,n){l.call(e,t,n,r)&&goog.array.removeAt(r,n)&&c++}),c},goog.array.concat=function(r){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(r){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(r){var l=r.length;if(0<l){for(var e=Array(l),c=0;c<l;c++)e[c]=r[c];return e}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(r,l){for(var e=1;e<arguments.length;e++){var c=arguments[e];if(goog.isArrayLike(c)){var t=r.length||0,n=c.length||0;r.length=t+n;for(var s=0;s<n;s++)r[t+s]=c[s]}else r.push(c)}},goog.array.splice=function(r,l,e,c){return goog.asserts.assert(null!=r.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(r,goog.array.slice(arguments,1))},goog.array.slice=function(r,l,e){return goog.asserts.assert(null!=r.length),2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(r,l):goog.array.ARRAY_PROTOTYPE_.slice.call(r,l,e)},goog.array.removeDuplicates=function(r,l,e){l=l||r;var c=function(r){return goog.isObject(s)?"o"+goog.getUid(s):(typeof s).charAt(0)+s};e=e||c;for(var c={},t=0,n=0;n<r.length;){var s=r[n++],o=e(s);Object.prototype.hasOwnProperty.call(c,o)||(c[o]=!0,l[t++]=s)}l.length=t},goog.array.binarySearch=function(r,l,e){return goog.array.binarySearch_(r,e||goog.array.defaultCompare,!1,l)},goog.array.binarySelect=function(r,l,e){return goog.array.binarySearch_(r,l,!0,void 0,e)},goog.array.binarySearch_=function(r,l,e,c,t){for(var n,s=0,o=r.length;s<o;){var a,i=s+o>>1;a=e?l.call(t,r[i],i,r):l(c,r[i]),0<a?s=i+1:(o=i,n=!a)}return n?s:~s},goog.array.sort=function(r,l){r.sort(l||goog.array.defaultCompare)},goog.array.stableSort=function(r,l){for(var e=0;e<r.length;e++)r[e]={index:e,value:r[e]};var c=l||goog.array.defaultCompare;for(goog.array.sort(r,function(r,l){return c(r.value,l.value)||r.index-l.index}),e=0;e<r.length;e++)r[e]=r[e].value},goog.array.sortByKey=function(r,l,e){var c=e||goog.array.defaultCompare;goog.array.sort(r,function(r,e){return c(l(r),l(e))})},goog.array.sortObjectsByKey=function(r,l,e){goog.array.sortByKey(r,function(r){return r[l]},e)},goog.array.isSorted=function(r,l,e){l=l||goog.array.defaultCompare;for(var c=1;c<r.length;c++){var t=l(r[c-1],r[c]);if(0<t||0==t&&e)return!1}return!0},goog.array.equals=function(r,l,e){if(!goog.isArrayLike(r)||!goog.isArrayLike(l)||r.length!=l.length)return!1;var c=r.length;e=e||goog.array.defaultCompareEquality;for(var t=0;t<c;t++)if(!e(r[t],l[t]))return!1;return!0},goog.array.compare3=function(r,l,e){e=e||goog.array.defaultCompare;for(var c=Math.min(r.length,l.length),t=0;t<c;t++){var n=e(r[t],l[t]);if(0!=n)return n}return goog.array.defaultCompare(r.length,l.length)},goog.array.defaultCompare=function(r,l){return r>l?1:r<l?-1:0},goog.array.inverseDefaultCompare=function(r,l){return-goog.array.defaultCompare(r,l)},goog.array.defaultCompareEquality=function(r,l){return r===l},goog.array.binaryInsert=function(r,l,e){return 0>(e=goog.array.binarySearch(r,l,e))&&(goog.array.insertAt(r,l,-(e+1)),!0)},goog.array.binaryRemove=function(r,l,e){return 0<=(l=goog.array.binarySearch(r,l,e))&&goog.array.removeAt(r,l)},goog.array.bucket=function(r,l,e){for(var c={},t=0;t<r.length;t++){var n=r[t],s=l.call(e,n,t,r);goog.isDef(s)&&(c[s]||(c[s]=[])).push(n)}return c},goog.array.toObject=function(r,l,e){var c={};return goog.array.forEach(r,function(t,n){c[l.call(e,t,n,r)]=t}),c},goog.array.range=function(r,l,e){var c=[],t=0,n=r;if(e=e||1,void 0!==l&&(t=r,n=l),0>e*(n-t))return[];if(0<e)for(r=t;r<n;r+=e)c.push(r);else for(r=t;r>n;r+=e)c.push(r);return c},goog.array.repeat=function(r,l){for(var e=[],c=0;c<l;c++)e[c]=r;return e},goog.array.flatten=function(r){for(var l=[],e=0;e<arguments.length;e++){var c=arguments[e];if(goog.isArray(c))for(var t=0;t<c.length;t+=8192)for(var n=goog.array.slice(c,t,t+8192),n=goog.array.flatten.apply(null,n),s=0;s<n.length;s++)l.push(n[s]);else l.push(c)}return l},goog.array.rotate=function(r,l){return goog.asserts.assert(null!=r.length),r.length&&(l%=r.length,0<l?goog.array.ARRAY_PROTOTYPE_.unshift.apply(r,r.splice(-l,l)):0>l&&goog.array.ARRAY_PROTOTYPE_.push.apply(r,r.splice(0,-l))),r},goog.array.moveItem=function(r,l,e){goog.asserts.assert(0<=l&&l<r.length),goog.asserts.assert(0<=e&&e<r.length),l=goog.array.ARRAY_PROTOTYPE_.splice.call(r,l,1),goog.array.ARRAY_PROTOTYPE_.splice.call(r,e,0,l[0])},goog.array.zip=function(r){if(!arguments.length)return[];for(var l=[],e=0;;e++){for(var c=[],t=0;t<arguments.length;t++){var n=arguments[t];if(e>=n.length)return l;c.push(n[e])}l.push(c)}},goog.array.shuffle=function(r,l){for(var e=l||Math.random,c=r.length-1;0<c;c--){var t=Math.floor(e()*(c+1)),n=r[c];r[c]=r[t],r[t]=n}},goog.array.copyByIndex=function(r,l){var e=[];return goog.array.forEach(l,function(l){e.push(r[l])}),e};var cljs={core:{}};cljs.core._STAR_clojurescript_version_STAR_="0.0-3308",cljs.core._STAR_unchecked_if_STAR_=!1,cljs.core._STAR_target_STAR_="nodejs",void 0===cljs.core._STAR_print_fn_STAR_&&(cljs.core._STAR_print_fn_STAR_=function(r){throw Error("No *print-fn* fn set for evaluation environment")}),cljs.core.set_print_fn_BANG_=function(r){return cljs.core._STAR_print_fn_STAR_=r},cljs.core._STAR_flush_on_newline_STAR_=!0,cljs.core._STAR_print_newline_STAR_=!0,cljs.core._STAR_print_readably_STAR_=!0,cljs.core._STAR_print_meta_STAR_=!1,cljs.core._STAR_print_dup_STAR_=!1,cljs.core._STAR_print_length_STAR_=null,cljs.core._STAR_print_level_STAR_=null,void 0===cljs.core._STAR_loaded_libs_STAR_&&(cljs.core._STAR_loaded_libs_STAR_=null),cljs.core.pr_opts=function(){return new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",-151457939),cljs.core._STAR_flush_on_newline_STAR_,new cljs.core.Keyword(null,"readably","readably",1129599760),cljs.core._STAR_print_readably_STAR_,new cljs.core.Keyword(null,"meta","meta",1499536964),cljs.core._STAR_print_meta_STAR_,new cljs.core.Keyword(null,"dup","dup",556298533),cljs.core._STAR_print_dup_STAR_,new cljs.core.Keyword(null,"print-length","print-length",1931866356),cljs.core._STAR_print_length_STAR_],null)},cljs.core.enable_console_print_BANG_=function(){return cljs.core._STAR_print_newline_STAR_=!1,cljs.core._STAR_print_fn_STAR_=function(){var r=function(r){return console.log.apply(console,cljs.core.into_array.cljs$core$IFn$_invoke$arity$1?cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r):cljs.core.into_array.call(null,r))},l=function(l){var e=null;if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;e=new cljs.core.IndexedSeq(c,0)}return r.call(this,e)};return l.cljs$lang$maxFixedArity=0,l.cljs$lang$applyTo=function(l){return l=cljs.core.seq(l),r(l)},l.cljs$core$IFn$_invoke$arity$variadic=r,l}()},cljs.core.truth_=function(r){return null!=r&&!1!==r},cljs.core.not_native=null,cljs.core.identical_QMARK_=function(r,l){return r===l},cljs.core.nil_QMARK_=function(r){return null==r},cljs.core.array_QMARK_=function(r){return"nodejs"===cljs.core._STAR_target_STAR_?Array.isArray(r):r instanceof Array},cljs.core.number_QMARK_=function(r){return"number"==typeof r},cljs.core.not=function(r){return!cljs.core.truth_(r)},cljs.core.some_QMARK_=function(r){return null!=r},cljs.core.object_QMARK_=function(r){return null!=r&&r.constructor===Object},cljs.core.string_QMARK_=function(r){return goog.isString(r)},cljs.core.native_satisfies_QMARK_=function(r,l){var e;return e=goog.typeOf(null==l?null:l),!!r[e]||!!r._},cljs.core.is_proto_=function(r){return r.constructor.prototype===r},cljs.core._STAR_main_cli_fn_STAR_=null,cljs.core.type=function(r){return null==r?null:r.constructor},cljs.core.missing_protocol=function(r,l){var e=cljs.core.type(l),e=cljs.core.truth_(cljs.core.truth_(e)?e.cljs$lang$type:e)?e.cljs$lang$ctorStr:goog.typeOf(l);return Error(["No protocol method ",r," defined for type ",e,": ",l].join(""))},cljs.core.type__GT_str=function(r){var l=r.cljs$lang$ctorStr;return cljs.core.truth_(l)?l:""+cljs.core.str(r)},cljs.core.load_file=function(r){return cljs.core.truth_(COMPILED)?null:goog.nodeGlobalRequire(r)},"undefined"!=typeof Symbol&&"function"===function(){return goog.typeOf(Symbol)}()?cljs.core.ITER_SYMBOL=Symbol.iterator:cljs.core.ITER_SYMBOL="@@iterator",cljs.core.make_array=function(){switch(arguments.length){case 1:return cljs.core.make_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.make_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.make_array.cljs$core$IFn$_invoke$arity$1=function(r){return Array(r)},cljs.core.make_array.cljs$core$IFn$_invoke$arity$2=function(r,l){return Array(l)},cljs.core.make_array.cljs$lang$maxFixedArity=2,cljs.core.aclone=function(r){for(var l=r.length,e=Array(l),c=0;c<l;)e[c]=r[c],c+=1;return e},cljs.core.array=function(r){for(var l=Array(arguments.length),e=0;;){if(!(e<l.length))return l;l[e]=arguments[e],e+=1}},cljs.core.aget=function(){switch(arguments.length){case 2:return cljs.core.aget.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.aget.cljs$core$IFn$_invoke$arity$2=function(r,l){return r[l]},cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){var c=cljs.core.aget;return r=r[l],cljs.core.apply.cljs$core$IFn$_invoke$arity$3?cljs.core.apply.cljs$core$IFn$_invoke$arity$3(c,r,e):cljs.core.apply.call(null,c,r,e)},cljs.core.aget.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.aget.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.aget.cljs$lang$maxFixedArity=2,cljs.core.aset=function(){switch(arguments.length){case 3:return cljs.core.aset.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.aset.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r[l]=e},cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){var t=cljs.core.aset;return r=r[l],cljs.core.apply.cljs$core$IFn$_invoke$arity$4?cljs.core.apply.cljs$core$IFn$_invoke$arity$4(t,r,e,c):cljs.core.apply.call(null,t,r,e,c)},cljs.core.aset.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.aset.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.aset.cljs$lang$maxFixedArity=3,cljs.core.alength=function(r){return r.length},cljs.core.into_array=function(){switch(arguments.length){case 1:return cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.into_array.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.into_array.cljs$core$IFn$_invoke$arity$2(null,r)},cljs.core.into_array.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=function(r,l){return r.push(l),r},c=[];return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(e,c,l):cljs.core.reduce.call(null,e,c,l)},cljs.core.into_array.cljs$lang$maxFixedArity=2,cljs.core.js_invoke=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return r[l].apply(r,cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(e))},cljs.core.js_invoke.cljs$lang$maxFixedArity=2,cljs.core.js_invoke.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.js_invoke.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.Fn=function(){return{}}(),cljs.core.IFn=function(){return{}}(),cljs.core._invoke=function(){switch(arguments.length){case 1:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$7(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 8:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$8(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 9:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$9(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 10:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$10(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 11:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$11(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);case 12:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$12(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 13:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$13(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 14:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$14(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13]);case 15:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$15(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 16:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$16(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 17:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$17(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 18:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$18(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 19:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$19(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 20:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$20(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 21:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$21(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 22:return cljs.core._invoke.cljs$core$IFn$_invoke$arity$22(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core._invoke.cljs$core$IFn$_invoke$arity$1=function(r){if(r?r.cljs$core$IFn$_invoke$arity$1:r)return r.cljs$core$IFn$_invoke$arity$1(r);var l;l=cljs.core._invoke;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return l.call(null,r)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$IFn$_invoke$arity$2:r)return r.cljs$core$IFn$_invoke$arity$2(r,l);var e;e=cljs.core._invoke;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return e.call(null,r,l)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r?r.cljs$core$IFn$_invoke$arity$3:r)return r.cljs$core$IFn$_invoke$arity$3(r,l,e);var c;c=cljs.core._invoke;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return c.call(null,r,l,e)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){if(r?r.cljs$core$IFn$_invoke$arity$4:r)return r.cljs$core$IFn$_invoke$arity$4(r,l,e,c);var t;t=cljs.core._invoke;var n;if(n=goog.typeOf(null==r?null:r),!(t=t[n])&&!(t=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return t.call(null,r,l,e,c)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){if(r?r.cljs$core$IFn$_invoke$arity$5:r)return r.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t);var n;n=cljs.core._invoke;var s;if(s=goog.typeOf(null==r?null:r),!(n=n[s])&&!(n=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return n.call(null,r,l,e,c,t)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){if(r?r.cljs$core$IFn$_invoke$arity$6:r)return r.cljs$core$IFn$_invoke$arity$6(r,l,e,c,t,n);var s;s=cljs.core._invoke;var o;if(o=goog.typeOf(null==r?null:r),!(s=s[o])&&!(s=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return s.call(null,r,l,e,c,t,n)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$7=function(r,l,e,c,t,n,s){if(r?r.cljs$core$IFn$_invoke$arity$7:r)return r.cljs$core$IFn$_invoke$arity$7(r,l,e,c,t,n,s);var o;o=cljs.core._invoke;var a;if(a=goog.typeOf(null==r?null:r),!(o=o[a])&&!(o=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return o.call(null,r,l,e,c,t,n,s)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$8=function(r,l,e,c,t,n,s,o){if(r?r.cljs$core$IFn$_invoke$arity$8:r)return r.cljs$core$IFn$_invoke$arity$8(r,l,e,c,t,n,s,o);var a;a=cljs.core._invoke;var i;if(i=goog.typeOf(null==r?null:r),!(a=a[i])&&!(a=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return a.call(null,r,l,e,c,t,n,s,o)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$9=function(r,l,e,c,t,n,s,o,a){if(r?r.cljs$core$IFn$_invoke$arity$9:r)return r.cljs$core$IFn$_invoke$arity$9(r,l,e,c,t,n,s,o,a);var i;i=cljs.core._invoke;var u;if(u=goog.typeOf(null==r?null:r),!(i=i[u])&&!(i=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return i.call(null,r,l,e,c,t,n,s,o,a)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$10=function(r,l,e,c,t,n,s,o,a,i){if(r?r.cljs$core$IFn$_invoke$arity$10:r)return r.cljs$core$IFn$_invoke$arity$10(r,l,e,c,t,n,s,o,a,i);var u;u=cljs.core._invoke;var $;if($=goog.typeOf(null==r?null:r),!(u=u[$])&&!(u=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return u.call(null,r,l,e,c,t,n,s,o,a,i)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$11=function(r,l,e,c,t,n,s,o,a,i,u){if(r?r.cljs$core$IFn$_invoke$arity$11:r)return r.cljs$core$IFn$_invoke$arity$11(r,l,e,c,t,n,s,o,a,i,u);var $;$=cljs.core._invoke;var j;if(j=goog.typeOf(null==r?null:r),!($=$[j])&&!($=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return $.call(null,r,l,e,c,t,n,s,o,a,i,u)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$12=function(r,l,e,c,t,n,s,o,a,i,u,$){
if(r?r.cljs$core$IFn$_invoke$arity$12:r)return r.cljs$core$IFn$_invoke$arity$12(r,l,e,c,t,n,s,o,a,i,u,$);var j;j=cljs.core._invoke;var _;if(_=goog.typeOf(null==r?null:r),!(j=j[_])&&!(j=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return j.call(null,r,l,e,c,t,n,s,o,a,i,u,$)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$13=function(r,l,e,c,t,n,s,o,a,i,u,$,j){if(r?r.cljs$core$IFn$_invoke$arity$13:r)return r.cljs$core$IFn$_invoke$arity$13(r,l,e,c,t,n,s,o,a,i,u,$,j);var _;_=cljs.core._invoke;var p;if(p=goog.typeOf(null==r?null:r),!(_=_[p])&&!(_=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return _.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$14=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){if(r?r.cljs$core$IFn$_invoke$arity$14:r)return r.cljs$core$IFn$_invoke$arity$14(r,l,e,c,t,n,s,o,a,i,u,$,j,_);var p;p=cljs.core._invoke;var d;if(d=goog.typeOf(null==r?null:r),!(p=p[d])&&!(p=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return p.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$15=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){if(r?r.cljs$core$IFn$_invoke$arity$15:r)return r.cljs$core$IFn$_invoke$arity$15(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p);var d;d=cljs.core._invoke;var y;if(y=goog.typeOf(null==r?null:r),!(d=d[y])&&!(d=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return d.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$16=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){if(r?r.cljs$core$IFn$_invoke$arity$16:r)return r.cljs$core$IFn$_invoke$arity$16(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d);var y;y=cljs.core._invoke;var f;if(f=goog.typeOf(null==r?null:r),!(y=y[f])&&!(y=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return y.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$17=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){if(r?r.cljs$core$IFn$_invoke$arity$17:r)return r.cljs$core$IFn$_invoke$arity$17(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y);var f;f=cljs.core._invoke;var h;if(h=goog.typeOf(null==r?null:r),!(f=f[h])&&!(f=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return f.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$18=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){if(r?r.cljs$core$IFn$_invoke$arity$18:r)return r.cljs$core$IFn$_invoke$arity$18(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f);var h;h=cljs.core._invoke;var v;if(v=goog.typeOf(null==r?null:r),!(h=h[v])&&!(h=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return h.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$19=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){if(r?r.cljs$core$IFn$_invoke$arity$19:r)return r.cljs$core$IFn$_invoke$arity$19(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h);var v;v=cljs.core._invoke;var w;if(w=goog.typeOf(null==r?null:r),!(v=v[w])&&!(v=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return v.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$20=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){if(r?r.cljs$core$IFn$_invoke$arity$20:r)return r.cljs$core$IFn$_invoke$arity$20(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v);var w;w=cljs.core._invoke;var m;if(m=goog.typeOf(null==r?null:r),!(w=w[m])&&!(w=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return w.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$21=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){if(r?r.cljs$core$IFn$_invoke$arity$21:r)return r.cljs$core$IFn$_invoke$arity$21(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w);var m;m=cljs.core._invoke;var g;if(g=goog.typeOf(null==r?null:r),!(m=m[g])&&!(m=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return m.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},cljs.core._invoke.cljs$core$IFn$_invoke$arity$22=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m){if(r?r.cljs$core$IFn$_invoke$arity$22:r)return r.cljs$core$IFn$_invoke$arity$22(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m);var g;g=cljs.core._invoke;var I;if(I=goog.typeOf(null==r?null:r),!(g=g[I])&&!(g=cljs.core._invoke._))throw cljs.core.missing_protocol("IFn.-invoke",r);return g.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m)},cljs.core._invoke.cljs$lang$maxFixedArity=22,cljs.core.ICloneable=function(){return{}}(),cljs.core._clone=function(r){if(r?r.cljs$core$ICloneable$_clone$arity$1:r)return r.cljs$core$ICloneable$_clone$arity$1(r);var l;l=cljs.core._clone;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._clone._))throw cljs.core.missing_protocol("ICloneable.-clone",r);return l.call(null,r)},cljs.core.ICounted=function(){return{}}(),cljs.core._count=function(r){if(r?r.cljs$core$ICounted$_count$arity$1:r)return r.cljs$core$ICounted$_count$arity$1(r);var l;l=cljs.core._count;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._count._))throw cljs.core.missing_protocol("ICounted.-count",r);return l.call(null,r)},cljs.core.IEmptyableCollection=function(){return{}}(),cljs.core._empty=function(r){if(r?r.cljs$core$IEmptyableCollection$_empty$arity$1:r)return r.cljs$core$IEmptyableCollection$_empty$arity$1(r);var l;l=cljs.core._empty;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._empty._))throw cljs.core.missing_protocol("IEmptyableCollection.-empty",r);return l.call(null,r)},cljs.core.ICollection=function(){return{}}(),cljs.core._conj=function(r,l){if(r?r.cljs$core$ICollection$_conj$arity$2:r)return r.cljs$core$ICollection$_conj$arity$2(r,l);var e;e=cljs.core._conj;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._conj._))throw cljs.core.missing_protocol("ICollection.-conj",r);return e.call(null,r,l)},cljs.core.IIndexed=function(){return{}}(),cljs.core._nth=function(){switch(arguments.length){case 2:return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core._nth.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$IIndexed$_nth$arity$2:r)return r.cljs$core$IIndexed$_nth$arity$2(r,l);var e;e=cljs.core._nth;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._nth._))throw cljs.core.missing_protocol("IIndexed.-nth",r);return e.call(null,r,l)},cljs.core._nth.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r?r.cljs$core$IIndexed$_nth$arity$3:r)return r.cljs$core$IIndexed$_nth$arity$3(r,l,e);var c;c=cljs.core._nth;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._nth._))throw cljs.core.missing_protocol("IIndexed.-nth",r);return c.call(null,r,l,e)},cljs.core._nth.cljs$lang$maxFixedArity=3,cljs.core.ASeq=function(){return{}}(),cljs.core.ISeq=function(){return{}}(),cljs.core._first=function(r){if(r?r.cljs$core$ISeq$_first$arity$1:r)return r.cljs$core$ISeq$_first$arity$1(r);var l;l=cljs.core._first;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._first._))throw cljs.core.missing_protocol("ISeq.-first",r);return l.call(null,r)},cljs.core._rest=function(r){if(r?r.cljs$core$ISeq$_rest$arity$1:r)return r.cljs$core$ISeq$_rest$arity$1(r);var l;l=cljs.core._rest;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._rest._))throw cljs.core.missing_protocol("ISeq.-rest",r);return l.call(null,r)},cljs.core.INext=function(){return{}}(),cljs.core._next=function(r){if(r?r.cljs$core$INext$_next$arity$1:r)return r.cljs$core$INext$_next$arity$1(r);var l;l=cljs.core._next;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._next._))throw cljs.core.missing_protocol("INext.-next",r);return l.call(null,r)},cljs.core.ILookup=function(){return{}}(),cljs.core._lookup=function(){switch(arguments.length){case 2:return cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core._lookup.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$ILookup$_lookup$arity$2:r)return r.cljs$core$ILookup$_lookup$arity$2(r,l);var e;e=cljs.core._lookup;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._lookup._))throw cljs.core.missing_protocol("ILookup.-lookup",r);return e.call(null,r,l)},cljs.core._lookup.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r?r.cljs$core$ILookup$_lookup$arity$3:r)return r.cljs$core$ILookup$_lookup$arity$3(r,l,e);var c;c=cljs.core._lookup;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._lookup._))throw cljs.core.missing_protocol("ILookup.-lookup",r);return c.call(null,r,l,e)},cljs.core._lookup.cljs$lang$maxFixedArity=3,cljs.core.IAssociative=function(){return{}}(),cljs.core._contains_key_QMARK_=function(r,l){if(r?r.cljs$core$IAssociative$_contains_key_QMARK_$arity$2:r)return r.cljs$core$IAssociative$_contains_key_QMARK_$arity$2(r,l);var e;e=cljs.core._contains_key_QMARK_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._contains_key_QMARK_._))throw cljs.core.missing_protocol("IAssociative.-contains-key?",r);return e.call(null,r,l)},cljs.core._assoc=function(r,l,e){if(r?r.cljs$core$IAssociative$_assoc$arity$3:r)return r.cljs$core$IAssociative$_assoc$arity$3(r,l,e);var c;c=cljs.core._assoc;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._assoc._))throw cljs.core.missing_protocol("IAssociative.-assoc",r);return c.call(null,r,l,e)},cljs.core.IMap=function(){return{}}(),cljs.core._dissoc=function(r,l){if(r?r.cljs$core$IMap$_dissoc$arity$2:r)return r.cljs$core$IMap$_dissoc$arity$2(r,l);var e;e=cljs.core._dissoc;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._dissoc._))throw cljs.core.missing_protocol("IMap.-dissoc",r);return e.call(null,r,l)},cljs.core.IMapEntry=function(){return{}}(),cljs.core._key=function(r){if(r?r.cljs$core$IMapEntry$_key$arity$1:r)return r.cljs$core$IMapEntry$_key$arity$1(r);var l;l=cljs.core._key;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._key._))throw cljs.core.missing_protocol("IMapEntry.-key",r);return l.call(null,r)},cljs.core._val=function(r){if(r?r.cljs$core$IMapEntry$_val$arity$1:r)return r.cljs$core$IMapEntry$_val$arity$1(r);var l;l=cljs.core._val;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._val._))throw cljs.core.missing_protocol("IMapEntry.-val",r);return l.call(null,r)},cljs.core.ISet=function(){return{}}(),cljs.core._disjoin=function(r,l){if(r?r.cljs$core$ISet$_disjoin$arity$2:r)return r.cljs$core$ISet$_disjoin$arity$2(r,l);var e;e=cljs.core._disjoin;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._disjoin._))throw cljs.core.missing_protocol("ISet.-disjoin",r);return e.call(null,r,l)},cljs.core.IStack=function(){return{}}(),cljs.core._peek=function(r){if(r?r.cljs$core$IStack$_peek$arity$1:r)return r.cljs$core$IStack$_peek$arity$1(r);var l;l=cljs.core._peek;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._peek._))throw cljs.core.missing_protocol("IStack.-peek",r);return l.call(null,r)},cljs.core._pop=function(r){if(r?r.cljs$core$IStack$_pop$arity$1:r)return r.cljs$core$IStack$_pop$arity$1(r);var l;l=cljs.core._pop;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._pop._))throw cljs.core.missing_protocol("IStack.-pop",r);return l.call(null,r)},cljs.core.IVector=function(){return{}}(),cljs.core._assoc_n=function(r,l,e){if(r?r.cljs$core$IVector$_assoc_n$arity$3:r)return r.cljs$core$IVector$_assoc_n$arity$3(r,l,e);var c;c=cljs.core._assoc_n;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._assoc_n._))throw cljs.core.missing_protocol("IVector.-assoc-n",r);return c.call(null,r,l,e)},cljs.core.IDeref=function(){return{}}(),cljs.core._deref=function(r){if(r?r.cljs$core$IDeref$_deref$arity$1:r)return r.cljs$core$IDeref$_deref$arity$1(r);var l;l=cljs.core._deref;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._deref._))throw cljs.core.missing_protocol("IDeref.-deref",r);return l.call(null,r)},cljs.core.IDerefWithTimeout=function(){return{}}(),cljs.core._deref_with_timeout=function(r,l,e){if(r?r.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3:r)return r.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3(r,l,e);var c;c=cljs.core._deref_with_timeout;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._deref_with_timeout._))throw cljs.core.missing_protocol("IDerefWithTimeout.-deref-with-timeout",r);return c.call(null,r,l,e)},cljs.core.IMeta=function(){return{}}(),cljs.core._meta=function(r){if(r?r.cljs$core$IMeta$_meta$arity$1:r)return r.cljs$core$IMeta$_meta$arity$1(r);var l;l=cljs.core._meta;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._meta._))throw cljs.core.missing_protocol("IMeta.-meta",r);return l.call(null,r)},cljs.core.IWithMeta=function(){return{}}(),cljs.core._with_meta=function(r,l){if(r?r.cljs$core$IWithMeta$_with_meta$arity$2:r)return r.cljs$core$IWithMeta$_with_meta$arity$2(r,l);var e;e=cljs.core._with_meta;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._with_meta._))throw cljs.core.missing_protocol("IWithMeta.-with-meta",r);return e.call(null,r,l)},cljs.core.IReduce=function(){return{}}(),cljs.core._reduce=function(){switch(arguments.length){case 2:return cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core._reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$IReduce$_reduce$arity$2:r)return r.cljs$core$IReduce$_reduce$arity$2(r,l);var e;e=cljs.core._reduce;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._reduce._))throw cljs.core.missing_protocol("IReduce.-reduce",r);return e.call(null,r,l)},cljs.core._reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r?r.cljs$core$IReduce$_reduce$arity$3:r)return r.cljs$core$IReduce$_reduce$arity$3(r,l,e);var c;c=cljs.core._reduce;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._reduce._))throw cljs.core.missing_protocol("IReduce.-reduce",r);return c.call(null,r,l,e)},cljs.core._reduce.cljs$lang$maxFixedArity=3,cljs.core.IKVReduce=function(){return{}}(),cljs.core._kv_reduce=function(r,l,e){if(r?r.cljs$core$IKVReduce$_kv_reduce$arity$3:r)return r.cljs$core$IKVReduce$_kv_reduce$arity$3(r,l,e);var c;c=cljs.core._kv_reduce;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._kv_reduce._))throw cljs.core.missing_protocol("IKVReduce.-kv-reduce",r);return c.call(null,r,l,e)},cljs.core.IEquiv=function(){return{}}(),cljs.core._equiv=function(r,l){if(r?r.cljs$core$IEquiv$_equiv$arity$2:r)return r.cljs$core$IEquiv$_equiv$arity$2(r,l);var e;e=cljs.core._equiv;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._equiv._))throw cljs.core.missing_protocol("IEquiv.-equiv",r);return e.call(null,r,l)},cljs.core.IHash=function(){return{}}(),cljs.core._hash=function(r){if(r?r.cljs$core$IHash$_hash$arity$1:r)return r.cljs$core$IHash$_hash$arity$1(r);var l;l=cljs.core._hash;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._hash._))throw cljs.core.missing_protocol("IHash.-hash",r);return l.call(null,r)},cljs.core.ISeqable=function(){return{}}(),cljs.core._seq=function(r){if(r?r.cljs$core$ISeqable$_seq$arity$1:r)return r.cljs$core$ISeqable$_seq$arity$1(r);var l;l=cljs.core._seq;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._seq._))throw cljs.core.missing_protocol("ISeqable.-seq",r);return l.call(null,r)},cljs.core.ISequential=function(){return{}}(),cljs.core.IList=function(){return{}}(),cljs.core.IRecord=function(){return{}}(),cljs.core.IReversible=function(){return{}}(),cljs.core._rseq=function(r){if(r?r.cljs$core$IReversible$_rseq$arity$1:r)return r.cljs$core$IReversible$_rseq$arity$1(r);var l;l=cljs.core._rseq;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._rseq._))throw cljs.core.missing_protocol("IReversible.-rseq",r);return l.call(null,r)},cljs.core.ISorted=function(){return{}}(),cljs.core._sorted_seq=function(r,l){if(r?r.cljs$core$ISorted$_sorted_seq$arity$2:r)return r.cljs$core$ISorted$_sorted_seq$arity$2(r,l);var e;e=cljs.core._sorted_seq;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._sorted_seq._))throw cljs.core.missing_protocol("ISorted.-sorted-seq",r);return e.call(null,r,l)},cljs.core._sorted_seq_from=function(r,l,e){if(r?r.cljs$core$ISorted$_sorted_seq_from$arity$3:r)return r.cljs$core$ISorted$_sorted_seq_from$arity$3(r,l,e);var c;c=cljs.core._sorted_seq_from;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._sorted_seq_from._))throw cljs.core.missing_protocol("ISorted.-sorted-seq-from",r);return c.call(null,r,l,e)},cljs.core._entry_key=function(r,l){if(r?r.cljs$core$ISorted$_entry_key$arity$2:r)return r.cljs$core$ISorted$_entry_key$arity$2(r,l);var e;e=cljs.core._entry_key;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._entry_key._))throw cljs.core.missing_protocol("ISorted.-entry-key",r);return e.call(null,r,l)},cljs.core._comparator=function(r){if(r?r.cljs$core$ISorted$_comparator$arity$1:r)return r.cljs$core$ISorted$_comparator$arity$1(r);var l;l=cljs.core._comparator;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._comparator._))throw cljs.core.missing_protocol("ISorted.-comparator",r);return l.call(null,r)},cljs.core.IWriter=function(){return{}}(),cljs.core._write=function(r,l){if(r?r.cljs$core$IWriter$_write$arity$2:r)return r.cljs$core$IWriter$_write$arity$2(r,l);var e;e=cljs.core._write;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._write._))throw cljs.core.missing_protocol("IWriter.-write",r);return e.call(null,r,l)},cljs.core._flush=function(r){if(r?r.cljs$core$IWriter$_flush$arity$1:r)return r.cljs$core$IWriter$_flush$arity$1(r);var l;l=cljs.core._flush;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._flush._))throw cljs.core.missing_protocol("IWriter.-flush",r);return l.call(null,r)},cljs.core.IPrintWithWriter=function(){return{}}(),cljs.core._pr_writer=function(r,l,e){if(r?r.cljs$core$IPrintWithWriter$_pr_writer$arity$3:r)return r.cljs$core$IPrintWithWriter$_pr_writer$arity$3(r,l,e);var c;c=cljs.core._pr_writer;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._pr_writer._))throw cljs.core.missing_protocol("IPrintWithWriter.-pr-writer",r);return c.call(null,r,l,e)},cljs.core.IPending=function(){return{}}(),cljs.core._realized_QMARK_=function(r){if(r?r.cljs$core$IPending$_realized_QMARK_$arity$1:r)return r.cljs$core$IPending$_realized_QMARK_$arity$1(r);var l;l=cljs.core._realized_QMARK_;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._realized_QMARK_._))throw cljs.core.missing_protocol("IPending.-realized?",r);return l.call(null,r)},cljs.core.IWatchable=function(){return{}}(),cljs.core._notify_watches=function(r,l,e){if(r?r.cljs$core$IWatchable$_notify_watches$arity$3:r)return r.cljs$core$IWatchable$_notify_watches$arity$3(r,l,e);var c;c=cljs.core._notify_watches;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._notify_watches._))throw cljs.core.missing_protocol("IWatchable.-notify-watches",r);return c.call(null,r,l,e)},cljs.core._add_watch=function(r,l,e){if(r?r.cljs$core$IWatchable$_add_watch$arity$3:r)return r.cljs$core$IWatchable$_add_watch$arity$3(r,l,e);var c;c=cljs.core._add_watch;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._add_watch._))throw cljs.core.missing_protocol("IWatchable.-add-watch",r);return c.call(null,r,l,e)},cljs.core._remove_watch=function(r,l){if(r?r.cljs$core$IWatchable$_remove_watch$arity$2:r)return r.cljs$core$IWatchable$_remove_watch$arity$2(r,l);var e;e=cljs.core._remove_watch;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._remove_watch._))throw cljs.core.missing_protocol("IWatchable.-remove-watch",r);return e.call(null,r,l)},cljs.core.IEditableCollection=function(){return{}}(),cljs.core._as_transient=function(r){if(r?r.cljs$core$IEditableCollection$_as_transient$arity$1:r)return r.cljs$core$IEditableCollection$_as_transient$arity$1(r);var l;l=cljs.core._as_transient;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._as_transient._))throw cljs.core.missing_protocol("IEditableCollection.-as-transient",r);return l.call(null,r)},cljs.core.ITransientCollection=function(){return{}}(),cljs.core._conj_BANG_=function(r,l){if(r?r.cljs$core$ITransientCollection$_conj_BANG_$arity$2:r)return r.cljs$core$ITransientCollection$_conj_BANG_$arity$2(r,l);var e;e=cljs.core._conj_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._conj_BANG_._))throw cljs.core.missing_protocol("ITransientCollection.-conj!",r);return e.call(null,r,l)},cljs.core._persistent_BANG_=function(r){if(r?r.cljs$core$ITransientCollection$_persistent_BANG_$arity$1:r)return r.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(r);var l;l=cljs.core._persistent_BANG_;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._persistent_BANG_._))throw cljs.core.missing_protocol("ITransientCollection.-persistent!",r);return l.call(null,r)},cljs.core.ITransientAssociative=function(){return{}}(),cljs.core._assoc_BANG_=function(r,l,e){if(r?r.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3:r)return r.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(r,l,e);var c;c=cljs.core._assoc_BANG_;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._assoc_BANG_._))throw cljs.core.missing_protocol("ITransientAssociative.-assoc!",r);return c.call(null,r,l,e)},cljs.core.ITransientMap=function(){return{}}(),cljs.core._dissoc_BANG_=function(r,l){if(r?r.cljs$core$ITransientMap$_dissoc_BANG_$arity$2:r)return r.cljs$core$ITransientMap$_dissoc_BANG_$arity$2(r,l);var e;e=cljs.core._dissoc_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._dissoc_BANG_._))throw cljs.core.missing_protocol("ITransientMap.-dissoc!",r);return e.call(null,r,l)},cljs.core.ITransientVector=function(){return{}}(),cljs.core._assoc_n_BANG_=function(r,l,e){if(r?r.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3:r)return r.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3(r,l,e);var c;c=cljs.core._assoc_n_BANG_;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._assoc_n_BANG_._))throw cljs.core.missing_protocol("ITransientVector.-assoc-n!",r);return c.call(null,r,l,e)},cljs.core._pop_BANG_=function(r){if(r?r.cljs$core$ITransientVector$_pop_BANG_$arity$1:r)return r.cljs$core$ITransientVector$_pop_BANG_$arity$1(r);var l;l=cljs.core._pop_BANG_;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._pop_BANG_._))throw cljs.core.missing_protocol("ITransientVector.-pop!",r);return l.call(null,r)},cljs.core.ITransientSet=function(){return{}}(),cljs.core._disjoin_BANG_=function(r,l){if(r?r.cljs$core$ITransientSet$_disjoin_BANG_$arity$2:r)return r.cljs$core$ITransientSet$_disjoin_BANG_$arity$2(r,l);var e;e=cljs.core._disjoin_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._disjoin_BANG_._))throw cljs.core.missing_protocol("ITransientSet.-disjoin!",r);return e.call(null,r,l)},cljs.core.IComparable=function(){return{}}(),cljs.core._compare=function(r,l){if(r?r.cljs$core$IComparable$_compare$arity$2:r)return r.cljs$core$IComparable$_compare$arity$2(r,l);var e;e=cljs.core._compare;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._compare._))throw cljs.core.missing_protocol("IComparable.-compare",r);return e.call(null,r,l)},cljs.core.IChunk=function(){return{}}(),cljs.core._drop_first=function(r){if(r?r.cljs$core$IChunk$_drop_first$arity$1:r)return r.cljs$core$IChunk$_drop_first$arity$1(r);var l;l=cljs.core._drop_first;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._drop_first._))throw cljs.core.missing_protocol("IChunk.-drop-first",r);return l.call(null,r)},cljs.core.IChunkedSeq=function(){return{}}(),cljs.core._chunked_first=function(r){if(r?r.cljs$core$IChunkedSeq$_chunked_first$arity$1:r)return r.cljs$core$IChunkedSeq$_chunked_first$arity$1(r);var l;l=cljs.core._chunked_first;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._chunked_first._))throw cljs.core.missing_protocol("IChunkedSeq.-chunked-first",r);return l.call(null,r)},cljs.core._chunked_rest=function(r){if(r?r.cljs$core$IChunkedSeq$_chunked_rest$arity$1:r)return r.cljs$core$IChunkedSeq$_chunked_rest$arity$1(r);var l;l=cljs.core._chunked_rest;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._chunked_rest._))throw cljs.core.missing_protocol("IChunkedSeq.-chunked-rest",r);return l.call(null,r)},cljs.core.IChunkedNext=function(){return{}}(),cljs.core._chunked_next=function(r){if(r?r.cljs$core$IChunkedNext$_chunked_next$arity$1:r)return r.cljs$core$IChunkedNext$_chunked_next$arity$1(r);var l;l=cljs.core._chunked_next;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._chunked_next._))throw cljs.core.missing_protocol("IChunkedNext.-chunked-next",r);return l.call(null,r)},cljs.core.INamed=function(){return{}}(),cljs.core._name=function(r){if(r?r.cljs$core$INamed$_name$arity$1:r)return r.cljs$core$INamed$_name$arity$1(r);var l;l=cljs.core._name;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._name._))throw cljs.core.missing_protocol("INamed.-name",r);return l.call(null,r)},cljs.core._namespace=function(r){if(r?r.cljs$core$INamed$_namespace$arity$1:r)return r.cljs$core$INamed$_namespace$arity$1(r);var l;l=cljs.core._namespace;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._namespace._))throw cljs.core.missing_protocol("INamed.-namespace",r);return l.call(null,r)},cljs.core.IAtom=function(){return{}}(),cljs.core.IReset=function(){return{}}(),cljs.core._reset_BANG_=function(r,l){if(r?r.cljs$core$IReset$_reset_BANG_$arity$2:r)return r.cljs$core$IReset$_reset_BANG_$arity$2(r,l);var e;e=cljs.core._reset_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._reset_BANG_._))throw cljs.core.missing_protocol("IReset.-reset!",r);return e.call(null,r,l)},cljs.core.ISwap=function(){return{}}(),cljs.core._swap_BANG_=function(){switch(arguments.length){case 2:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$ISwap$_swap_BANG_$arity$2:r)return r.cljs$core$ISwap$_swap_BANG_$arity$2(r,l);var e;e=cljs.core._swap_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._swap_BANG_._))throw cljs.core.missing_protocol("ISwap.-swap!",r);return e.call(null,r,l)},cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r?r.cljs$core$ISwap$_swap_BANG_$arity$3:r)return r.cljs$core$ISwap$_swap_BANG_$arity$3(r,l,e);var c;c=cljs.core._swap_BANG_;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._swap_BANG_._))throw cljs.core.missing_protocol("ISwap.-swap!",r);return c.call(null,r,l,e)},cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){if(r?r.cljs$core$ISwap$_swap_BANG_$arity$4:r)return r.cljs$core$ISwap$_swap_BANG_$arity$4(r,l,e,c);var t;t=cljs.core._swap_BANG_;var n;if(n=goog.typeOf(null==r?null:r),!(t=t[n])&&!(t=cljs.core._swap_BANG_._))throw cljs.core.missing_protocol("ISwap.-swap!",r);return t.call(null,r,l,e,c)},cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){if(r?r.cljs$core$ISwap$_swap_BANG_$arity$5:r)return r.cljs$core$ISwap$_swap_BANG_$arity$5(r,l,e,c,t);var n;n=cljs.core._swap_BANG_;var s;if(s=goog.typeOf(null==r?null:r),!(n=n[s])&&!(n=cljs.core._swap_BANG_._))throw cljs.core.missing_protocol("ISwap.-swap!",r);return n.call(null,r,l,e,c,t)};cljs.core._swap_BANG_.cljs$lang$maxFixedArity=5,cljs.core.IVolatile=function(){return{}}(),cljs.core._vreset_BANG_=function(r,l){if(r?r.cljs$core$IVolatile$_vreset_BANG_$arity$2:r)return r.cljs$core$IVolatile$_vreset_BANG_$arity$2(r,l);var e;e=cljs.core._vreset_BANG_;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._vreset_BANG_._))throw cljs.core.missing_protocol("IVolatile.-vreset!",r);return e.call(null,r,l)},cljs.core.IIterable=function(){return{}}(),cljs.core._iterator=function(r){if(r?r.cljs$core$IIterable$_iterator$arity$1:r)return r.cljs$core$IIterable$_iterator$arity$1(r);var l;l=cljs.core._iterator;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._iterator._))throw cljs.core.missing_protocol("IIterable.-iterator",r);return l.call(null,r)},cljs.core.StringBufferWriter=function(r){this.sb=r,this.cljs$lang$protocol_mask$partition0$=1073741824,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_write$arity$2=function(r,l){return this.sb.append(l)},cljs.core.StringBufferWriter.prototype.cljs$core$IWriter$_flush$arity$1=function(r){return null},cljs.core.StringBufferWriter.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"sb","sb",-1249746442,null)],null)},cljs.core.StringBufferWriter.cljs$lang$type=!0,cljs.core.StringBufferWriter.cljs$lang$ctorStr="cljs.core/StringBufferWriter",cljs.core.StringBufferWriter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/StringBufferWriter")},cljs.core.__GT_StringBufferWriter=function(r){return new cljs.core.StringBufferWriter(r)},cljs.core.pr_str_STAR_=function(r){var l=new goog.string.StringBuffer,e=new cljs.core.StringBufferWriter(l);return r.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null,e,cljs.core.pr_opts()),e.cljs$core$IWriter$_flush$arity$1(null),""+cljs.core.str(l)},cljs.core.int_rotate_left=function(r,l){return r<<l|r>>>-l},void 0!==Math.imul&&0!==function(){return Math.imul(4294967295,5)}()?cljs.core.imul=function(r,l){return Math.imul(r,l)}:cljs.core.imul=function(r,l){var e=65535&r,c=65535&l;return e*c+((r>>>16&65535)*c+e*(l>>>16&65535)<<16>>>0)|0},cljs.core.m3_seed=0,cljs.core.m3_C1=-862048943,cljs.core.m3_C2=461845907,cljs.core.m3_mix_K1=function(r){return cljs.core.imul(cljs.core.int_rotate_left(cljs.core.imul(0|r,cljs.core.m3_C1),15),cljs.core.m3_C2)},cljs.core.m3_mix_H1=function(r,l){return cljs.core.imul(cljs.core.int_rotate_left((0|r)^(0|l),13),5)+-430675100|0},cljs.core.m3_fmix=function(r,l){var e=(0|r)^l,e=cljs.core.imul(e^e>>>16,-2048144789),e=cljs.core.imul(e^e>>>13,-1028477387);return e^e>>>16},cljs.core.m3_hash_int=function(r){return 0===r?r:(r=cljs.core.m3_mix_K1(r),r=cljs.core.m3_mix_H1(cljs.core.m3_seed,r),cljs.core.m3_fmix(r,4))},cljs.core.m3_hash_unencoded_chars=function(r){var l;r:{l=1;for(var e=cljs.core.m3_seed;;){if(!(l<r.length)){l=e;break r}var c=l+2,e=cljs.core.m3_mix_H1(e,cljs.core.m3_mix_K1(r.charCodeAt(l-1)|r.charCodeAt(l)<<16));l=c}}return l=1==(1&r.length)?l^cljs.core.m3_mix_K1(r.charCodeAt(r.length-1)):l,cljs.core.m3_fmix(l,cljs.core.imul(2,r.length))},cljs.core.string_hash_cache=function(){return{}}(),cljs.core.string_hash_cache_count=0,cljs.core.hash_string_STAR_=function(r){if(null==r)return 0;var l=r.length;if(!(0<l))return 0;for(var e=0,c=0;;){if(!(e<l))return c;var t=e+1,c=cljs.core.imul(31,c)+r.charCodeAt(e),e=t}},
cljs.core.add_to_string_hash_cache=function(r){var l=cljs.core.hash_string_STAR_(r);return cljs.core.string_hash_cache[r]=l,cljs.core.string_hash_cache_count+=1,l},cljs.core.hash_string=function(r){255<cljs.core.string_hash_cache_count&&(cljs.core.string_hash_cache={},cljs.core.string_hash_cache_count=0);var l=cljs.core.string_hash_cache[r];return"number"==typeof l?l:cljs.core.add_to_string_hash_cache(r)},cljs.core.hash=function(r){return r&&(4194304&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IHash$)?r.cljs$core$IHash$_hash$arity$1(null):"number"==typeof r?Math.floor(r)%2147483647:!0===r?1:!1===r?0:"string"==typeof r?cljs.core.m3_hash_int(cljs.core.hash_string(r)):r instanceof Date?r.valueOf():null==r?0:cljs.core._hash(r)},cljs.core.hash_combine=function(r,l){return r^l+2654435769+(r<<6)+(r>>2)},cljs.core.instance_QMARK_=function(r,l){return l instanceof r},cljs.core.symbol_QMARK_=function(r){return r instanceof cljs.core.Symbol},cljs.core.hash_symbol=function(r){return cljs.core.hash_combine(cljs.core.m3_hash_unencoded_chars(r.name),cljs.core.hash_string(r.ns))},cljs.core.compare_symbols=function(r,l){if(r.str===l.str)return 0;if(cljs.core.truth_(function(){var e=cljs.core.not(r.ns);return e?l.ns:e}()))return-1;if(cljs.core.truth_(r.ns)){if(cljs.core.not(l.ns))return 1;var e=goog.array.defaultCompare(r.ns,l.ns);return 0===e?goog.array.defaultCompare(r.name,l.name):e}return goog.array.defaultCompare(r.name,l.name)},cljs.core.Symbol=function(r,l,e,c,t){this.ns=r,this.name=l,this.str=e,this._hash=c,this._meta=t,this.cljs$lang$protocol_mask$partition0$=2154168321,this.cljs$lang$protocol_mask$partition1$=4096},cljs.core.Symbol.prototype.toString=function(){return this.str},cljs.core.Symbol.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Symbol.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return l instanceof cljs.core.Symbol&&this.str===l.str},cljs.core.Symbol.prototype.call=function(){var r=null,l=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(l,this,null)},e=function(r,l,e){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(l,this,e)},r=function(r,c,t){switch(arguments.length){case 2:return l.call(this,r,c);case 3:return e.call(this,r,c,t)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=l,r.cljs$core$IFn$_invoke$arity$3=e,r}(),cljs.core.Symbol.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(r,this,null)},cljs.core.Symbol.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(r,this,l)},cljs.core.Symbol.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this._meta},cljs.core.Symbol.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.Symbol(this.ns,this.name,this.str,this._hash,l)},cljs.core.Symbol.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this._hash,null!=r?r:this._hash=r=cljs.core.hash_symbol(this)},cljs.core.Symbol.prototype.cljs$core$INamed$_name$arity$1=function(r){return this.name},cljs.core.Symbol.prototype.cljs$core$INamed$_namespace$arity$1=function(r){return this.ns},cljs.core.Symbol.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,this.str)},cljs.core.Symbol.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ns","ns",2082130287,null),new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"str","str",-1564826950,null),new cljs.core.Symbol(null,"_hash","_hash",-2130838312,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)},cljs.core.Symbol.cljs$lang$type=!0,cljs.core.Symbol.cljs$lang$ctorStr="cljs.core/Symbol",cljs.core.Symbol.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Symbol")},cljs.core.__GT_Symbol=function(r,l,e,c,t){return new cljs.core.Symbol(r,l,e,c,t)},cljs.core.symbol=function(){switch(arguments.length){case 1:return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.symbol.cljs$core$IFn$_invoke$arity$1=function(r){return r instanceof cljs.core.Symbol?r:cljs.core.symbol.cljs$core$IFn$_invoke$arity$2(null,r)},cljs.core.symbol.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=null!=r?[cljs.core.str(r),cljs.core.str("/"),cljs.core.str(l)].join(""):l;return new cljs.core.Symbol(r,l,e,null,null)},cljs.core.symbol.cljs$lang$maxFixedArity=2,cljs.core.Var=function(r,l,e){this.val=r,this.sym=l,this._meta=e,this.cljs$lang$protocol_mask$partition0$=163841,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.Var.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)},cljs.core.Var.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this._meta},cljs.core.Var.prototype.cljs$core$Fn$=!0,cljs.core.Var.prototype.call=function(){var r=null,l=function(r){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null)},e=function(r,l){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l)},c=function(r,l,e){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e)},t=function(r,l,e,c){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c)},n=function(r,l,e,c,t){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t)},s=function(r,l,e,c,t,n){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n)},o=function(r,l,e,c,t,n,s){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s)},a=function(r,l,e,c,t,n,s,o){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o)},i=function(r,l,e,c,t,n,s,o,a){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a)},u=function(r,l,e,c,t,n,s,o,a,i){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i)},$=function(r,l,e,c,t,n,s,o,a,i,u){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u)},j=function(r,l,e,c,t,n,s,o,a,i,u,$){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$)},_=function(r,l,e,c,t,n,s,o,a,i,u,$,j){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j)},p=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_)},d=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},y=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},f=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},h=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},v=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},w=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},m=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return r=this,(r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null)).call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},g=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m){return r=this,r=r.val.cljs$core$IFn$_invoke$arity$0?r.val.cljs$core$IFn$_invoke$arity$0():r.val.call(null),cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m):cljs.core.apply.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m)},r=function(r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,I);case 3:return c.call(this,r,I,k);case 4:return t.call(this,r,I,k,A);case 5:return n.call(this,r,I,k,A,b);case 6:return s.call(this,r,I,k,A,b,F);case 7:return o.call(this,r,I,k,A,b,F,P);case 8:return a.call(this,r,I,k,A,b,F,P,S);case 9:return i.call(this,r,I,k,A,b,F,P,S,T);case 10:return u.call(this,r,I,k,A,b,F,P,S,T,R);case 11:return $.call(this,r,I,k,A,b,F,P,S,T,R,E);case 12:return j.call(this,r,I,k,A,b,F,P,S,T,R,E,M);case 13:return _.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x);case 14:return p.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K);case 15:return d.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q);case 16:return y.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N);case 17:return f.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V);case 18:return h.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B);case 19:return v.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O);case 20:return w.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q);case 21:return m.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D);case 22:return g.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r.cljs$core$IFn$_invoke$arity$3=c,r.cljs$core$IFn$_invoke$arity$4=t,r.cljs$core$IFn$_invoke$arity$5=n,r.cljs$core$IFn$_invoke$arity$6=s,r.cljs$core$IFn$_invoke$arity$7=o,r.cljs$core$IFn$_invoke$arity$8=a,r.cljs$core$IFn$_invoke$arity$9=i,r.cljs$core$IFn$_invoke$arity$10=u,r.cljs$core$IFn$_invoke$arity$11=$,r.cljs$core$IFn$_invoke$arity$12=j,r.cljs$core$IFn$_invoke$arity$13=_,r.cljs$core$IFn$_invoke$arity$14=p,r.cljs$core$IFn$_invoke$arity$15=d,r.cljs$core$IFn$_invoke$arity$16=y,r.cljs$core$IFn$_invoke$arity$17=f,r.cljs$core$IFn$_invoke$arity$18=h,r.cljs$core$IFn$_invoke$arity$19=v,r.cljs$core$IFn$_invoke$arity$20=w,r.cljs$core$IFn$_invoke$arity$21=m,r.cljs$core$IFn$_invoke$arity$22=g,r}(),cljs.core.Var.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$0=function(){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$7=function(r,l,e,c,t,n,s){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$8=function(r,l,e,c,t,n,s,o){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$9=function(r,l,e,c,t,n,s,o,a){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$10=function(r,l,e,c,t,n,s,o,a,i){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$11=function(r,l,e,c,t,n,s,o,a,i,u){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$12=function(r,l,e,c,t,n,s,o,a,i,u,$){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$13=function(r,l,e,c,t,n,s,o,a,i,u,$,j){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$14=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$15=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$16=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$17=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$18=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$19=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$20=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){return(this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null)).call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},cljs.core.Var.prototype.cljs$core$IFn$_invoke$arity$21=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){var m=this.val.cljs$core$IFn$_invoke$arity$0?this.val.cljs$core$IFn$_invoke$arity$0():this.val.call(null);return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(m,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):cljs.core.apply.call(null,m,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},cljs.core.Var.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"sym","sym",195671222,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)},cljs.core.Var.cljs$lang$type=!0,cljs.core.Var.cljs$lang$ctorStr="cljs.core/Var",cljs.core.Var.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Var")},cljs.core.__GT_Var=function(r,l,e){return new cljs.core.Var(r,l,e)},cljs.core.var_QMARK_=function(r){return r instanceof cljs.core.Var},cljs.core.iterable_QMARK_=function(r){return r?!!cljs.core.truth_(cljs.core.truth_(null)?null:r.cljs$core$IIterable$)||!r.cljs$lang$protocol_mask$partition$&&cljs.core.native_satisfies_QMARK_(cljs.core.IIterable,r):cljs.core.native_satisfies_QMARK_(cljs.core.IIterable,r)},cljs.core.clone=function(r){return cljs.core._clone(r)},cljs.core.cloneable_QMARK_=function(r){return r?!!(8192&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$ICloneable$)||!r.cljs$lang$protocol_mask$partition1$&&cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable,r):cljs.core.native_satisfies_QMARK_(cljs.core.ICloneable,r)},cljs.core.seq=function(r){if(null==r)return null;if(r&&(8388608&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeqable$))return r.cljs$core$ISeqable$_seq$arity$1(null);if(cljs.core.array_QMARK_(r)||"string"==typeof r)return 0===r.length?null:new cljs.core.IndexedSeq(r,0);if(cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,r))return cljs.core._seq(r);throw Error([cljs.core.str(r),cljs.core.str(" is not ISeqable")].join(""))},cljs.core.first=function(r){return null==r?null:r&&(64&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeq$)?r.cljs$core$ISeq$_first$arity$1(null):(r=cljs.core.seq(r),null==r?null:cljs.core._first(r))},cljs.core.rest=function(r){return null!=r?r&&(64&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeq$)?r.cljs$core$ISeq$_rest$arity$1(null):(r=cljs.core.seq(r))?cljs.core._rest(r):cljs.core.List.EMPTY:cljs.core.List.EMPTY},cljs.core.next=function(r){return null==r?null:r&&(128&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$INext$)?r.cljs$core$INext$_next$arity$1(null):cljs.core.seq(cljs.core.rest(r))},cljs.core._EQ_=function(){switch(arguments.length){case 1:return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._EQ_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2=function(r,l){return null==r?null==l:r===l||cljs.core._equiv(r,l)},cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,l))return!1;if(!cljs.core.next(e))return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(l,cljs.core.first(e));r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._EQ_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._EQ_.cljs$lang$maxFixedArity=2,cljs.core.ES6Iterator=function(r){this.s=r},cljs.core.ES6Iterator.prototype.next=function(){if(null!=this.s){var r=cljs.core.first(this.s);return this.s=cljs.core.next(this.s),{value:r,done:!1}}return{value:null,done:!0}},cljs.core.ES6Iterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null)],null)},cljs.core.ES6Iterator.cljs$lang$type=!0,cljs.core.ES6Iterator.cljs$lang$ctorStr="cljs.core/ES6Iterator",cljs.core.ES6Iterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ES6Iterator")},cljs.core.__GT_ES6Iterator=function(r){return new cljs.core.ES6Iterator(r)},cljs.core.es6_iterator=function(r){return new cljs.core.ES6Iterator(cljs.core.seq(r))},cljs.core.ES6IteratorSeq=function(r,l,e){this.value=r,this.iter=l,this._rest=e,this.cljs$lang$protocol_mask$partition0$=8388672,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.value},cljs.core.ES6IteratorSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return null==this._rest&&(r=this.iter,this._rest=cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.es6_iterator_seq.cljs$core$IFn$_invoke$arity$1(r):cljs.core.es6_iterator_seq.call(null,r)),this._rest},cljs.core.ES6IteratorSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"value","value",1946509744,null),new cljs.core.Symbol(null,"iter","iter",-1346195486,null),new cljs.core.Symbol(null,"_rest","_rest",-2100466189,null)],null)},cljs.core.ES6IteratorSeq.cljs$lang$type=!0,cljs.core.ES6IteratorSeq.cljs$lang$ctorStr="cljs.core/ES6IteratorSeq",cljs.core.ES6IteratorSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ES6IteratorSeq")},cljs.core.__GT_ES6IteratorSeq=function(r,l,e){return new cljs.core.ES6IteratorSeq(r,l,e)},cljs.core.es6_iterator_seq=function(r){var l=r.next();return cljs.core.truth_(l.done)?cljs.core.List.EMPTY:new cljs.core.ES6IteratorSeq(l.value,r,null)},cljs.core.mix_collection_hash=function(r,l){var e=cljs.core.m3_seed,c=cljs.core.m3_mix_K1(r),e=cljs.core.m3_mix_H1(e,c);return cljs.core.m3_fmix(e,l)},cljs.core.hash_ordered_coll=function(r){var l=0,e=1;for(r=cljs.core.seq(r);;){if(null==r)return cljs.core.mix_collection_hash(e,l);l+=1,e=cljs.core.imul(31,e)+cljs.core.hash(cljs.core.first(r))|0,r=cljs.core.next(r)}},cljs.core.empty_ordered_hash=cljs.core.mix_collection_hash(1,0),cljs.core.hash_unordered_coll=function(r){var l=0,e=0;for(r=cljs.core.seq(r);;){if(null==r)return cljs.core.mix_collection_hash(e,l);l+=1,e=e+cljs.core.hash(cljs.core.first(r))|0,r=cljs.core.next(r)}},cljs.core.empty_unordered_hash=cljs.core.mix_collection_hash(0,0),cljs.core.ICounted.null=!0,cljs.core._count.null=function(r){return 0},Date.prototype.cljs$core$IEquiv$=!0,Date.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return l instanceof Date&&this.valueOf()===l.valueOf()},Date.prototype.cljs$core$IComparable$=!0,Date.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){if(l instanceof Date)return goog.array.defaultCompare(this.valueOf(),l.valueOf());throw Error([cljs.core.str("Cannot compare "),cljs.core.str(this),cljs.core.str(" to "),cljs.core.str(l)].join(""))},cljs.core.IEquiv.number=!0,cljs.core._equiv.number=function(r,l){return r===l},cljs.core.Fn.function=!0,cljs.core.IMeta.function=!0,cljs.core._meta.function=function(r){return null},cljs.core.IHash._=!0,cljs.core._hash._=function(r){return goog.getUid(r)},cljs.core.inc=function(r){return r+1},cljs.core.Reduced=function(r){this.val=r,this.cljs$lang$protocol_mask$partition0$=32768,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.Reduced.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return this.val},cljs.core.Reduced.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null)],null)},cljs.core.Reduced.cljs$lang$type=!0,cljs.core.Reduced.cljs$lang$ctorStr="cljs.core/Reduced",cljs.core.Reduced.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Reduced")},cljs.core.__GT_Reduced=function(r){return new cljs.core.Reduced(r)},cljs.core.reduced=function(r){return new cljs.core.Reduced(r)},cljs.core.reduced_QMARK_=function(r){return r instanceof cljs.core.Reduced},cljs.core.ensure_reduced=function(r){return cljs.core.reduced_QMARK_(r)?r:cljs.core.reduced(r)},cljs.core.unreduced=function(r){return cljs.core.reduced_QMARK_(r)?cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r):r},cljs.core.deref=function(r){return cljs.core._deref(r)},cljs.core.ci_reduce=function(){switch(arguments.length){case 2:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core._count(r);if(0===e)return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null);for(var c=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,0),t=1;;){if(!(t<e))return c;var n=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,t),c=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n);if(cljs.core.reduced_QMARK_(c))return cljs.core.deref(c);t+=1}},cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core._count(r),t=e;for(e=0;;){if(!(e<c))return t;var n=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,e),t=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(t,n):l.call(null,t,n);if(cljs.core.reduced_QMARK_(t))return cljs.core.deref(t);e+=1}},cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){for(var t=cljs.core._count(r);;){if(!(c<t))return e;var n=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,c);if(e=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,n):l.call(null,e,n),cljs.core.reduced_QMARK_(e))return cljs.core.deref(e);c+=1}},cljs.core.ci_reduce.cljs$lang$maxFixedArity=4,cljs.core.array_reduce=function(){switch(arguments.length){case 2:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=r.length;if(0===r.length)return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null);for(var c=r[0],t=1;;){if(!(t<e))return c;var n=r[t],c=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n);if(cljs.core.reduced_QMARK_(c))return cljs.core.deref(c);t+=1}},cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=r.length,t=e;for(e=0;;){if(!(e<c))return t;var n=r[e],t=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(t,n):l.call(null,t,n);if(cljs.core.reduced_QMARK_(t))return cljs.core.deref(t);e+=1}},cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){for(var t=r.length;;){if(!(c<t))return e;var n=r[c];if(e=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,n):l.call(null,e,n),cljs.core.reduced_QMARK_(e))return cljs.core.deref(e);c+=1}},cljs.core.array_reduce.cljs$lang$maxFixedArity=4,cljs.core.counted_QMARK_=function(r){return r?!!(2&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ICounted$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ICounted,r):cljs.core.native_satisfies_QMARK_(cljs.core.ICounted,r)},cljs.core.indexed_QMARK_=function(r){return r?!!(16&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IIndexed$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,r):cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,r)},cljs.core.IndexedSeqIterator=function(r,l){this.arr=r,this.i=l},cljs.core.IndexedSeqIterator.prototype.hasNext=function(){return this.i<this.arr.length},cljs.core.IndexedSeqIterator.prototype.next=function(){var r=this.arr[this.i];return this.i+=1,r},cljs.core.IndexedSeqIterator.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null)],null)},cljs.core.IndexedSeqIterator.cljs$lang$type=!0,cljs.core.IndexedSeqIterator.cljs$lang$ctorStr="cljs.core/IndexedSeqIterator",cljs.core.IndexedSeqIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/IndexedSeqIterator")},cljs.core.__GT_IndexedSeqIterator=function(r,l){return new cljs.core.IndexedSeqIterator(r,l)},cljs.core.IndexedSeq=function(r,l){this.arr=r,this.i=l,this.cljs$lang$protocol_mask$partition0$=166199550,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.IndexedSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.IndexedSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){var e=l+this.i;return e<this.arr.length?this.arr[e]:null},cljs.core.IndexedSeq.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return r=l+this.i,r<this.arr.length?this.arr[r]:e},cljs.core.IndexedSeq.prototype.cljs$core$IIterable$=!0,cljs.core.IndexedSeq.prototype.cljs$core$IIterable$_iterator$arity$1=function(r){return new cljs.core.IndexedSeqIterator(this.arr,this.i)},cljs.core.IndexedSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.IndexedSeq(this.arr,this.i)},cljs.core.IndexedSeq.prototype.cljs$core$INext$_next$arity$1=function(r){return this.i+1<this.arr.length?new cljs.core.IndexedSeq(this.arr,this.i+1):null},cljs.core.IndexedSeq.prototype.cljs$core$ICounted$_count$arity$1=function(r){return r=this.arr.length-this.i,0>r?0:r},cljs.core.IndexedSeq.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return r=cljs.core._count(this),0<r?new cljs.core.RSeq(this,r-1,null):null},cljs.core.IndexedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.IndexedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2?cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(this,l):cljs.core.equiv_sequential.call(null,this,l)},cljs.core.IndexedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.List.EMPTY},cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(this.arr,l,this.arr[this.i],this.i+1)},cljs.core.IndexedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(this.arr,l,e,this.i)},cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.arr[this.i]},cljs.core.IndexedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return this.i+1<this.arr.length?new cljs.core.IndexedSeq(this.arr,this.i+1):cljs.core.List.EMPTY},cljs.core.IndexedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this.i<this.arr.length?this:null},
cljs.core.IndexedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons.cljs$core$IFn$_invoke$arity$2?cljs.core.cons.cljs$core$IFn$_invoke$arity$2(l,this):cljs.core.cons.call(null,l,this)},cljs.core.IndexedSeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null)],null)},cljs.core.IndexedSeq.cljs$lang$type=!0,cljs.core.IndexedSeq.cljs$lang$ctorStr="cljs.core/IndexedSeq",cljs.core.IndexedSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/IndexedSeq")},cljs.core.__GT_IndexedSeq=function(r,l){return new cljs.core.IndexedSeq(r,l)},cljs.core.IndexedSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)};cljs.core.prim_seq=function(){switch(arguments.length){case 1:return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(r,0)},cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2=function(r,l){return l<r.length?new cljs.core.IndexedSeq(r,l):null},cljs.core.prim_seq.cljs$lang$maxFixedArity=2,cljs.core.array_seq=function(){switch(arguments.length){case 1:return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.array_seq.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(r,0)},cljs.core.array_seq.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.array_seq.cljs$lang$maxFixedArity=2,cljs.core.RSeq=function(r,l,e){this.ci=r,this.i=l,this.meta=e,this.cljs$lang$protocol_mask$partition0$=32374990,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.RSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.RSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.RSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.RSeq.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.RSeq(this.ci,this.i,this.meta)},cljs.core.RSeq.prototype.cljs$core$INext$_next$arity$1=function(r){return 0<this.i?new cljs.core.RSeq(this.ci,this.i-1,null):null},cljs.core.RSeq.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.i+1},cljs.core.RSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.RSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2?cljs.core.equiv_sequential.cljs$core$IFn$_invoke$arity$2(this,l):cljs.core.equiv_sequential.call(null,this,l)},cljs.core.RSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){r=cljs.core.List.EMPTY;var l=this.meta;return cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2?cljs.core.with_meta.cljs$core$IFn$_invoke$arity$2(r,l):cljs.core.with_meta.call(null,r,l)},cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2?cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this):cljs.core.seq_reduce.call(null,l,this)},cljs.core.RSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this):cljs.core.seq_reduce.call(null,l,e,this)},cljs.core.RSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this.ci,this.i)},cljs.core.RSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return 0<this.i?new cljs.core.RSeq(this.ci,this.i-1,null):cljs.core.List.EMPTY},cljs.core.RSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.RSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.RSeq(this.ci,this.i,l)},cljs.core.RSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons.cljs$core$IFn$_invoke$arity$2?cljs.core.cons.cljs$core$IFn$_invoke$arity$2(l,this):cljs.core.cons.call(null,l,this)},cljs.core.RSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ci","ci",2049808339,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)},cljs.core.RSeq.cljs$lang$type=!0,cljs.core.RSeq.cljs$lang$ctorStr="cljs.core/RSeq",cljs.core.RSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/RSeq")},cljs.core.__GT_RSeq=function(r,l,e){return new cljs.core.RSeq(r,l,e)},cljs.core.RSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.second=function(r){return cljs.core.first(cljs.core.next(r))},cljs.core.ffirst=function(r){return cljs.core.first(cljs.core.first(r))},cljs.core.nfirst=function(r){return cljs.core.next(cljs.core.first(r))},cljs.core.fnext=function(r){return cljs.core.first(cljs.core.next(r))},cljs.core.nnext=function(r){return cljs.core.next(cljs.core.next(r))},cljs.core.last=function(r){for(;;){var l=cljs.core.next(r);if(null==l)return cljs.core.first(r);r=l}},cljs.core.IEquiv._=!0,cljs.core._equiv._=function(r,l){return r===l},cljs.core.conj=function(){switch(arguments.length){case 0:return cljs.core.conj.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.conj.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.conj.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.PersistentVector.EMPTY},cljs.core.conj.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.conj.cljs$core$IFn$_invoke$arity$2=function(r,l){return null!=r?cljs.core._conj(r,l):cljs.core._conj(cljs.core.List.EMPTY,l)},cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!cljs.core.truth_(e))return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,l);r=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,l),l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.conj.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.conj.cljs$lang$maxFixedArity=2,cljs.core.empty=function(r){return null==r?null:cljs.core._empty(r)},cljs.core.accumulating_seq_count=function(r){r=cljs.core.seq(r);for(var l=0;;){if(cljs.core.counted_QMARK_(r))return l+cljs.core._count(r);r=cljs.core.next(r),l+=1}},cljs.core.count=function(r){return null!=r?r&&(2&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ICounted$)?r.cljs$core$ICounted$_count$arity$1(null):cljs.core.array_QMARK_(r)?r.length:"string"==typeof r?r.length:cljs.core.native_satisfies_QMARK_(cljs.core.ICounted,r)?cljs.core._count(r):cljs.core.accumulating_seq_count(r):0},cljs.core.linear_traversal_nth=function(){switch(arguments.length){case 2:return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2=function(r,l){for(;;){if(null==r)throw Error("Index out of bounds");if(0===l){if(cljs.core.seq(r))return cljs.core.first(r);throw Error("Index out of bounds")}if(cljs.core.indexed_QMARK_(r))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,l);if(!cljs.core.seq(r))throw Error("Index out of bounds");var e=cljs.core.next(r),c=l-1;r=e,l=c}},cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3=function(r,l,e){for(;;){if(null==r)return e;if(0===l)return cljs.core.seq(r)?cljs.core.first(r):e;if(cljs.core.indexed_QMARK_(r))return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(r,l,e);if(!cljs.core.seq(r))return e;r=cljs.core.next(r),--l}},cljs.core.linear_traversal_nth.cljs$lang$maxFixedArity=3,cljs.core.nth=function(){switch(arguments.length){case 2:return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.nth.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.nth.cljs$core$IFn$_invoke$arity$2=function(r,l){if("number"!=typeof l)throw Error("index argument to nth must be a number");if(null==r)return r;if(r&&(16&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IIndexed$))return r.cljs$core$IIndexed$_nth$arity$2(null,l);if(cljs.core.array_QMARK_(r)||"string"==typeof r)return l<r.length?r[l]:null;if(cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,r))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,l);if(r?64&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeq$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r)):cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r))return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$2(r,l);throw Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str(cljs.core.type(r)))].join(""))},cljs.core.nth.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if("number"!=typeof l)throw Error("index argument to nth must be a number.");if(null==r)return e;if(r&&(16&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IIndexed$))return r.cljs$core$IIndexed$_nth$arity$3(null,l,e);if(cljs.core.array_QMARK_(r)||"string"==typeof r)return l<r.length?r[l]:e;if(cljs.core.native_satisfies_QMARK_(cljs.core.IIndexed,r))return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(r,l);if(r?64&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeq$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r)):cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r))return cljs.core.linear_traversal_nth.cljs$core$IFn$_invoke$arity$3(r,l,e);throw Error([cljs.core.str("nth not supported on this type "),cljs.core.str(cljs.core.type__GT_str(cljs.core.type(r)))].join(""))},cljs.core.nth.cljs$lang$maxFixedArity=3,cljs.core.nthrest=function(r,l){for(var e=l,c=r;;){if(!(0<e&&cljs.core.seq(c)))return c;--e,c=cljs.core.rest(c)}},cljs.core.get=function(){switch(arguments.length){case 2:return cljs.core.get.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.get.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.get.cljs$core$IFn$_invoke$arity$2=function(r,l){return null==r?null:r&&(256&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ILookup$)?r.cljs$core$ILookup$_lookup$arity$2(null,l):cljs.core.array_QMARK_(r)?l<r.length?r[0|l]:null:"string"==typeof r?l<r.length?r[0|l]:null:cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,r)?cljs.core._lookup.cljs$core$IFn$_invoke$arity$2(r,l):null},cljs.core.get.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return null!=r?r&&(256&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ILookup$)?r.cljs$core$ILookup$_lookup$arity$3(null,l,e):cljs.core.array_QMARK_(r)?l<r.length?r[l]:e:"string"==typeof r?l<r.length?r[l]:e:cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,r)?cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(r,l,e):e:e},cljs.core.get.cljs$lang$maxFixedArity=3,cljs.core.assoc=function(){switch(arguments.length){case 3:return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.assoc.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return null!=r?cljs.core._assoc(r,l,e):cljs.core.PersistentHashMap.fromArrays([l],[e])},cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){for(;;){if(r=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,e),!cljs.core.truth_(c))return r;l=cljs.core.first(c),e=cljs.core.second(c),c=cljs.core.nnext(c)}},cljs.core.assoc.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.assoc.cljs$lang$maxFixedArity=3,cljs.core.dissoc=function(){switch(arguments.length){case 1:return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.dissoc.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2=function(r,l){return null==r?null:cljs.core._dissoc(r,l)},cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(null==r)return null;if(r=cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(r,l),!cljs.core.truth_(e))return r;l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.dissoc.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.dissoc.cljs$lang$maxFixedArity=2,cljs.core.fn_QMARK_=function(r){var l=goog.isFunction(r);return cljs.core.truth_(l)?l:r?!!cljs.core.truth_(cljs.core.truth_(null)?null:r.cljs$core$Fn$)||!r.cljs$lang$protocol_mask$partition$&&cljs.core.native_satisfies_QMARK_(cljs.core.Fn,r):cljs.core.native_satisfies_QMARK_(cljs.core.Fn,r)},cljs.core.MetaFn=function(r,l){this.afn=r,this.meta=l,this.cljs$lang$protocol_mask$partition0$=393217,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.MetaFn.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.MetaFn.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.MetaFn(this.afn,l)},cljs.core.MetaFn.prototype.cljs$core$Fn$=!0,cljs.core.MetaFn.prototype.call=function(){var r=null,l=function(r){return r=this,r.afn.cljs$core$IFn$_invoke$arity$0?r.afn.cljs$core$IFn$_invoke$arity$0():r.afn.call(null)},e=function(r,l){return r=this,r.afn.cljs$core$IFn$_invoke$arity$1?r.afn.cljs$core$IFn$_invoke$arity$1(l):r.afn.call(null,l)},c=function(r,l,e){return r=this,r.afn.cljs$core$IFn$_invoke$arity$2?r.afn.cljs$core$IFn$_invoke$arity$2(l,e):r.afn.call(null,l,e)},t=function(r,l,e,c){return r=this,r.afn.cljs$core$IFn$_invoke$arity$3?r.afn.cljs$core$IFn$_invoke$arity$3(l,e,c):r.afn.call(null,l,e,c)},n=function(r,l,e,c,t){return r=this,r.afn.cljs$core$IFn$_invoke$arity$4?r.afn.cljs$core$IFn$_invoke$arity$4(l,e,c,t):r.afn.call(null,l,e,c,t)},s=function(r,l,e,c,t,n){return r=this,r.afn.cljs$core$IFn$_invoke$arity$5?r.afn.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):r.afn.call(null,l,e,c,t,n)},o=function(r,l,e,c,t,n,s){return r=this,r.afn.cljs$core$IFn$_invoke$arity$6?r.afn.cljs$core$IFn$_invoke$arity$6(l,e,c,t,n,s):r.afn.call(null,l,e,c,t,n,s)},a=function(r,l,e,c,t,n,s,o){return r=this,r.afn.cljs$core$IFn$_invoke$arity$7?r.afn.cljs$core$IFn$_invoke$arity$7(l,e,c,t,n,s,o):r.afn.call(null,l,e,c,t,n,s,o)},i=function(r,l,e,c,t,n,s,o,a){return r=this,r.afn.cljs$core$IFn$_invoke$arity$8?r.afn.cljs$core$IFn$_invoke$arity$8(l,e,c,t,n,s,o,a):r.afn.call(null,l,e,c,t,n,s,o,a)},u=function(r,l,e,c,t,n,s,o,a,i){return r=this,r.afn.cljs$core$IFn$_invoke$arity$9?r.afn.cljs$core$IFn$_invoke$arity$9(l,e,c,t,n,s,o,a,i):r.afn.call(null,l,e,c,t,n,s,o,a,i)},$=function(r,l,e,c,t,n,s,o,a,i,u){return r=this,r.afn.cljs$core$IFn$_invoke$arity$10?r.afn.cljs$core$IFn$_invoke$arity$10(l,e,c,t,n,s,o,a,i,u):r.afn.call(null,l,e,c,t,n,s,o,a,i,u)},j=function(r,l,e,c,t,n,s,o,a,i,u,$){return r=this,r.afn.cljs$core$IFn$_invoke$arity$11?r.afn.cljs$core$IFn$_invoke$arity$11(l,e,c,t,n,s,o,a,i,u,$):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$)},_=function(r,l,e,c,t,n,s,o,a,i,u,$,j){return r=this,r.afn.cljs$core$IFn$_invoke$arity$12?r.afn.cljs$core$IFn$_invoke$arity$12(l,e,c,t,n,s,o,a,i,u,$,j):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j)},p=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return r=this,r.afn.cljs$core$IFn$_invoke$arity$13?r.afn.cljs$core$IFn$_invoke$arity$13(l,e,c,t,n,s,o,a,i,u,$,j,_):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_)},d=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return r=this,r.afn.cljs$core$IFn$_invoke$arity$14?r.afn.cljs$core$IFn$_invoke$arity$14(l,e,c,t,n,s,o,a,i,u,$,j,_,p):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},y=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){return r=this,r.afn.cljs$core$IFn$_invoke$arity$15?r.afn.cljs$core$IFn$_invoke$arity$15(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},f=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return r=this,r.afn.cljs$core$IFn$_invoke$arity$16?r.afn.cljs$core$IFn$_invoke$arity$16(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},h=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return r=this,r.afn.cljs$core$IFn$_invoke$arity$17?r.afn.cljs$core$IFn$_invoke$arity$17(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},v=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return r=this,r.afn.cljs$core$IFn$_invoke$arity$18?r.afn.cljs$core$IFn$_invoke$arity$18(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},w=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){return r=this,r.afn.cljs$core$IFn$_invoke$arity$19?r.afn.cljs$core$IFn$_invoke$arity$19(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},m=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return r=this,r.afn.cljs$core$IFn$_invoke$arity$20?r.afn.cljs$core$IFn$_invoke$arity$20(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):r.afn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},g=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m){return r=this.afn,cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m):cljs.core.apply.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m)},r=function(r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,I);case 3:return c.call(this,r,I,k);case 4:return t.call(this,r,I,k,A);case 5:return n.call(this,r,I,k,A,b);case 6:return s.call(this,r,I,k,A,b,F);case 7:return o.call(this,r,I,k,A,b,F,P);case 8:return a.call(this,r,I,k,A,b,F,P,S);case 9:return i.call(this,r,I,k,A,b,F,P,S,T);case 10:return u.call(this,r,I,k,A,b,F,P,S,T,R);case 11:return $.call(this,r,I,k,A,b,F,P,S,T,R,E);case 12:return j.call(this,r,I,k,A,b,F,P,S,T,R,E,M);case 13:return _.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x);case 14:return p.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K);case 15:return d.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q);case 16:return y.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N);case 17:return f.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V);case 18:return h.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B);case 19:return v.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O);case 20:return w.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q);case 21:return m.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D);case 22:return g.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r.cljs$core$IFn$_invoke$arity$3=c,r.cljs$core$IFn$_invoke$arity$4=t,r.cljs$core$IFn$_invoke$arity$5=n,r.cljs$core$IFn$_invoke$arity$6=s,r.cljs$core$IFn$_invoke$arity$7=o,r.cljs$core$IFn$_invoke$arity$8=a,r.cljs$core$IFn$_invoke$arity$9=i,r.cljs$core$IFn$_invoke$arity$10=u,r.cljs$core$IFn$_invoke$arity$11=$,r.cljs$core$IFn$_invoke$arity$12=j,r.cljs$core$IFn$_invoke$arity$13=_,r.cljs$core$IFn$_invoke$arity$14=p,r.cljs$core$IFn$_invoke$arity$15=d,r.cljs$core$IFn$_invoke$arity$16=y,r.cljs$core$IFn$_invoke$arity$17=f,r.cljs$core$IFn$_invoke$arity$18=h,r.cljs$core$IFn$_invoke$arity$19=v,r.cljs$core$IFn$_invoke$arity$20=w,r.cljs$core$IFn$_invoke$arity$21=m,r.cljs$core$IFn$_invoke$arity$22=g,r}(),cljs.core.MetaFn.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$0=function(){return this.afn.cljs$core$IFn$_invoke$arity$0?this.afn.cljs$core$IFn$_invoke$arity$0():this.afn.call(null)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.afn.cljs$core$IFn$_invoke$arity$1?this.afn.cljs$core$IFn$_invoke$arity$1(r):this.afn.call(null,r)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.afn.cljs$core$IFn$_invoke$arity$2?this.afn.cljs$core$IFn$_invoke$arity$2(r,l):this.afn.call(null,r,l)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.afn.cljs$core$IFn$_invoke$arity$3?this.afn.cljs$core$IFn$_invoke$arity$3(r,l,e):this.afn.call(null,r,l,e)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return this.afn.cljs$core$IFn$_invoke$arity$4?this.afn.cljs$core$IFn$_invoke$arity$4(r,l,e,c):this.afn.call(null,r,l,e,c)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return this.afn.cljs$core$IFn$_invoke$arity$5?this.afn.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t):this.afn.call(null,r,l,e,c,t)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return this.afn.cljs$core$IFn$_invoke$arity$6?this.afn.cljs$core$IFn$_invoke$arity$6(r,l,e,c,t,n):this.afn.call(null,r,l,e,c,t,n)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$7=function(r,l,e,c,t,n,s){return this.afn.cljs$core$IFn$_invoke$arity$7?this.afn.cljs$core$IFn$_invoke$arity$7(r,l,e,c,t,n,s):this.afn.call(null,r,l,e,c,t,n,s)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$8=function(r,l,e,c,t,n,s,o){return this.afn.cljs$core$IFn$_invoke$arity$8?this.afn.cljs$core$IFn$_invoke$arity$8(r,l,e,c,t,n,s,o):this.afn.call(null,r,l,e,c,t,n,s,o)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$9=function(r,l,e,c,t,n,s,o,a){return this.afn.cljs$core$IFn$_invoke$arity$9?this.afn.cljs$core$IFn$_invoke$arity$9(r,l,e,c,t,n,s,o,a):this.afn.call(null,r,l,e,c,t,n,s,o,a)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$10=function(r,l,e,c,t,n,s,o,a,i){return this.afn.cljs$core$IFn$_invoke$arity$10?this.afn.cljs$core$IFn$_invoke$arity$10(r,l,e,c,t,n,s,o,a,i):this.afn.call(null,r,l,e,c,t,n,s,o,a,i)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$11=function(r,l,e,c,t,n,s,o,a,i,u){return this.afn.cljs$core$IFn$_invoke$arity$11?this.afn.cljs$core$IFn$_invoke$arity$11(r,l,e,c,t,n,s,o,a,i,u):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$12=function(r,l,e,c,t,n,s,o,a,i,u,$){return this.afn.cljs$core$IFn$_invoke$arity$12?this.afn.cljs$core$IFn$_invoke$arity$12(r,l,e,c,t,n,s,o,a,i,u,$):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$13=function(r,l,e,c,t,n,s,o,a,i,u,$,j){return this.afn.cljs$core$IFn$_invoke$arity$13?this.afn.cljs$core$IFn$_invoke$arity$13(r,l,e,c,t,n,s,o,a,i,u,$,j):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$14=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return this.afn.cljs$core$IFn$_invoke$arity$14?this.afn.cljs$core$IFn$_invoke$arity$14(r,l,e,c,t,n,s,o,a,i,u,$,j,_):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$15=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return this.afn.cljs$core$IFn$_invoke$arity$15?this.afn.cljs$core$IFn$_invoke$arity$15(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$16=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){return this.afn.cljs$core$IFn$_invoke$arity$16?this.afn.cljs$core$IFn$_invoke$arity$16(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$17=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return this.afn.cljs$core$IFn$_invoke$arity$17?this.afn.cljs$core$IFn$_invoke$arity$17(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$18=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return this.afn.cljs$core$IFn$_invoke$arity$18?this.afn.cljs$core$IFn$_invoke$arity$18(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$19=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return this.afn.cljs$core$IFn$_invoke$arity$19?this.afn.cljs$core$IFn$_invoke$arity$19(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$20=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){return this.afn.cljs$core$IFn$_invoke$arity$20?this.afn.cljs$core$IFn$_invoke$arity$20(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):this.afn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},cljs.core.MetaFn.prototype.cljs$core$IFn$_invoke$arity$21=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){var m=this.afn;return cljs.core.apply.cljs$core$IFn$_invoke$arity$22?cljs.core.apply.cljs$core$IFn$_invoke$arity$22(m,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):cljs.core.apply.call(null,m,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},cljs.core.MetaFn.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"afn","afn",216963467,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)},cljs.core.MetaFn.cljs$lang$type=!0,cljs.core.MetaFn.cljs$lang$ctorStr="cljs.core/MetaFn",cljs.core.MetaFn.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/MetaFn")},cljs.core.__GT_MetaFn=function(r,l){return new cljs.core.MetaFn(r,l)},cljs.core.with_meta=function(r,l){var e;return(e=cljs.core.fn_QMARK_(r))&&(e=!(r?262144&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IWithMeta$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IWithMeta,r)):cljs.core.native_satisfies_QMARK_(cljs.core.IWithMeta,r))),e?new cljs.core.MetaFn(r,l):null==r?null:cljs.core._with_meta(r,l)},cljs.core.meta=function(r){var l;return l=(l=null!=r)?r?!!(131072&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IMeta$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,r):cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,r):l,l?cljs.core._meta(r):null},cljs.core.peek=function(r){return null==r?null:cljs.core._peek(r)},cljs.core.pop=function(r){return null==r?null:cljs.core._pop(r)},cljs.core.disj=function(){switch(arguments.length){case 1:return cljs.core.disj.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.disj.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.disj.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.disj.cljs$core$IFn$_invoke$arity$2=function(r,l){return null==r?null:cljs.core._disjoin(r,l)},cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(null==r)return null;if(r=cljs.core.disj.cljs$core$IFn$_invoke$arity$2(r,l),!cljs.core.truth_(e))return r;l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.disj.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.disj.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.disj.cljs$lang$maxFixedArity=2,cljs.core.empty_QMARK_=function(r){return null==r||cljs.core.not(cljs.core.seq(r))},cljs.core.coll_QMARK_=function(r){return null!=r&&(r?!!(8&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ICollection$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ICollection,r):cljs.core.native_satisfies_QMARK_(cljs.core.ICollection,r))},cljs.core.set_QMARK_=function(r){return null!=r&&(r?!!(4096&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISet$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ISet,r):cljs.core.native_satisfies_QMARK_(cljs.core.ISet,r))},cljs.core.associative_QMARK_=function(r){return r?!!(512&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IAssociative$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative,r):cljs.core.native_satisfies_QMARK_(cljs.core.IAssociative,r)},cljs.core.sequential_QMARK_=function(r){return r?!!(16777216&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISequential$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ISequential,r):cljs.core.native_satisfies_QMARK_(cljs.core.ISequential,r)},cljs.core.sorted_QMARK_=function(r){return r?!!(268435456&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISorted$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ISorted,r):cljs.core.native_satisfies_QMARK_(cljs.core.ISorted,r)},cljs.core.reduceable_QMARK_=function(r){return r?!!(524288&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IReduce$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,r):cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,r)},cljs.core.map_QMARK_=function(r){return null!=r&&(r?!!(1024&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IMap$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IMap,r):cljs.core.native_satisfies_QMARK_(cljs.core.IMap,r))},cljs.core.record_QMARK_=function(r){return r?!!(67108864&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IRecord$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IRecord,r):cljs.core.native_satisfies_QMARK_(cljs.core.IRecord,r)},cljs.core.vector_QMARK_=function(r){return r?!!(16384&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IVector$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IVector,r):cljs.core.native_satisfies_QMARK_(cljs.core.IVector,r)},cljs.core.chunked_seq_QMARK_=function(r){return!!r&&!!(512&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$IChunkedSeq$)},cljs.core.js_obj=function(){switch(arguments.length){case 0:return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0();default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0);return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(r)}},cljs.core.js_obj.cljs$core$IFn$_invoke$arity$0=function(){return{}},cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic=function(r){var l=goog.object.create
;return cljs.core.apply.cljs$core$IFn$_invoke$arity$2?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(l,r):cljs.core.apply.call(null,l,r)},cljs.core.js_obj.cljs$lang$applyTo=function(r){return cljs.core.js_obj.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.js_obj.cljs$lang$maxFixedArity=0,cljs.core.js_keys=function(r){var l=[],e=function(r,l){return function(r,e,c){return l.push(e)}}(0,l);return goog.object.forEach(r,e),l},cljs.core.js_delete=function(r,l){return delete r[l]},cljs.core.array_copy=function(r,l,e,c,t){for(;;){if(0===t)return e;e[c]=r[l],c+=1,--t,l+=1}},cljs.core.array_copy_downward=function(r,l,e,c,t){for(l+=t-1,c+=t-1;;){if(0===t)return e;e[c]=r[l],--c,--t,--l}},cljs.core.lookup_sentinel=function(){return{}}(),cljs.core.false_QMARK_=function(r){return!1===r},cljs.core.true_QMARK_=function(r){return!0===r},cljs.core.undefined_QMARK_=function(r){return void 0===r},cljs.core.seq_QMARK_=function(r){return null!=r&&(r?!!(64&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeq$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r):cljs.core.native_satisfies_QMARK_(cljs.core.ISeq,r))},cljs.core.seqable_QMARK_=function(r){return r?!!(8388608&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$ISeqable$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,r):cljs.core.native_satisfies_QMARK_(cljs.core.ISeqable,r)},cljs.core.boolean$=function(r){return!!cljs.core.truth_(r)},cljs.core.ifn_QMARK_=function(r){var l=cljs.core.fn_QMARK_(r);return l||(r?!!(1&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IFn$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IFn,r):cljs.core.native_satisfies_QMARK_(cljs.core.IFn,r))},cljs.core.integer_QMARK_=function(r){return"number"==typeof r&&cljs.core.not(isNaN(r))&&1/0!==r&&parseFloat(r)===parseInt(r,10)},cljs.core.contains_QMARK_=function(r,l){return cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.lookup_sentinel)!==cljs.core.lookup_sentinel},cljs.core.find=function(r,l){return null!=r&&cljs.core.associative_QMARK_(r)&&cljs.core.contains_QMARK_(r,l)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l)],null):null},cljs.core.distinct_QMARK_=function(){switch(arguments.length){case 1:return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$2=function(r,l){return!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,l))return!1;for(r=cljs.core.PersistentHashSet.fromArray([r,l],!0),l=e;;){var c=cljs.core.first(l);if(e=cljs.core.next(l),!cljs.core.truth_(l))return!0;if(cljs.core.contains_QMARK_(r,c))return!1;r=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,c),l=e}},cljs.core.distinct_QMARK_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.distinct_QMARK_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.distinct_QMARK_.cljs$lang$maxFixedArity=2,cljs.core.compare=function(r,l){if(r===l)return 0;if(null==r)return-1;if(null==l)return 1;if("number"==typeof r){if("number"==typeof l)return goog.array.defaultCompare(r,l);throw Error([cljs.core.str("Cannot compare "),cljs.core.str(r),cljs.core.str(" to "),cljs.core.str(l)].join(""))}if(r?2048&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$IComparable$||(r.cljs$lang$protocol_mask$partition1$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IComparable,r)):cljs.core.native_satisfies_QMARK_(cljs.core.IComparable,r))return cljs.core._compare(r,l);if("string"!=typeof r&&!cljs.core.array_QMARK_(r)&&!0!==r&&!1!==r||cljs.core.type(r)!==cljs.core.type(l))throw Error([cljs.core.str("Cannot compare "),cljs.core.str(r),cljs.core.str(" to "),cljs.core.str(l)].join(""));return goog.array.defaultCompare(r,l)},cljs.core.compare_indexed=function(){switch(arguments.length){case 2:return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 4:return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core.count(r),c=cljs.core.count(l);return e<c?-1:e>c?1:0===e?0:cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4(r,l,e,0)},cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){for(;;){var t=cljs.core.compare(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(r,c),cljs.core.nth.cljs$core$IFn$_invoke$arity$2(l,c));if(!(0===t&&c+1<e))return t;c+=1}},cljs.core.compare_indexed.cljs$lang$maxFixedArity=4,cljs.core.fn__GT_comparator=function(r){return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,cljs.core.compare)?cljs.core.compare:function(l,e){var c=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e);return"number"==typeof c?c:cljs.core.truth_(c)?-1:cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,l):r.call(null,e,l))?1:0}},cljs.core.sort=function(){switch(arguments.length){case 1:return cljs.core.sort.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.sort.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(cljs.core.compare,r)},cljs.core.sort.cljs$core$IFn$_invoke$arity$2=function(r,l){if(cljs.core.seq(l)){var e;e=cljs.core.to_array.cljs$core$IFn$_invoke$arity$1?cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(l):cljs.core.to_array.call(null,l);var c=cljs.core.fn__GT_comparator(r);return goog.array.stableSort(e,c),cljs.core.seq(e)}return cljs.core.List.EMPTY},cljs.core.sort.cljs$lang$maxFixedArity=2,cljs.core.sort_by=function(){switch(arguments.length){case 2:return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3(r,cljs.core.compare,l)},cljs.core.sort_by.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.sort.cljs$core$IFn$_invoke$arity$2(function(e,c){return cljs.core.fn__GT_comparator(l).call(null,r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))},e)},cljs.core.sort_by.cljs$lang$maxFixedArity=3,cljs.core.seq_reduce=function(){switch(arguments.length){case 2:return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core.seq(l);if(e){var c=cljs.core.first(e),e=cljs.core.next(e);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(r,c,e):cljs.core.reduce.call(null,r,c,e)}return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)},cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){for(e=cljs.core.seq(e);;){if(!e)return l;var c=cljs.core.first(e);if(l=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,c):r.call(null,l,c),cljs.core.reduced_QMARK_(l))return cljs.core.deref(l);e=cljs.core.next(e)}},cljs.core.seq_reduce.cljs$lang$maxFixedArity=3,cljs.core.shuffle=function(r){return r=cljs.core.to_array.cljs$core$IFn$_invoke$arity$1?cljs.core.to_array.cljs$core$IFn$_invoke$arity$1(r):cljs.core.to_array.call(null,r),goog.array.shuffle(r),cljs.core.vec.cljs$core$IFn$_invoke$arity$1?cljs.core.vec.cljs$core$IFn$_invoke$arity$1(r):cljs.core.vec.call(null,r)},cljs.core.reduce=function(){switch(arguments.length){case 2:return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){return l&&(524288&l.cljs$lang$protocol_mask$partition0$||l.cljs$core$IReduce$)?l.cljs$core$IReduce$_reduce$arity$2(null,r):cljs.core.array_QMARK_(l)?cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(l,r):"string"==typeof l?cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$2(l,r):cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,l)?cljs.core._reduce.cljs$core$IFn$_invoke$arity$2(l,r):cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return e&&(524288&e.cljs$lang$protocol_mask$partition0$||e.cljs$core$IReduce$)?e.cljs$core$IReduce$_reduce$arity$3(null,r,l):cljs.core.array_QMARK_(e)?cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(e,r,l):"string"==typeof e?cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$3(e,r,l):cljs.core.native_satisfies_QMARK_(cljs.core.IReduce,e)?cljs.core._reduce.cljs$core$IFn$_invoke$arity$3(e,r,l):cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(r,l,e)},cljs.core.reduce.cljs$lang$maxFixedArity=3,cljs.core.reduce_kv=function(r,l,e){return null!=e?cljs.core._kv_reduce(e,r,l):l},cljs.core.identity=function(r){return r},cljs.core.completing=function(){switch(arguments.length){case 1:return cljs.core.completing.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.completing.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.completing.cljs$core$IFn$_invoke$arity$2(r,cljs.core.identity)},cljs.core.completing.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(){return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(l,e){return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()},cljs.core.completing.cljs$lang$maxFixedArity=2,cljs.core.transduce=function(){switch(arguments.length){case 3:return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.transduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(r,l,l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null),e)},cljs.core.transduce.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return r=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),e=cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(r,e,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},cljs.core.transduce.cljs$lang$maxFixedArity=4,cljs.core._PLUS_=function(){switch(arguments.length){case 0:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$0=function(){return 0},cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r+l},cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._PLUS_,r+l,e)},cljs.core._PLUS_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._PLUS_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._PLUS_.cljs$lang$maxFixedArity=2,cljs.core._=function(){switch(arguments.length){case 1:return cljs.core._.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._.cljs$core$IFn$_invoke$arity$1=function(r){return-r},cljs.core._.cljs$core$IFn$_invoke$arity$2=function(r,l){return r-l},cljs.core._.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._,r-l,e)},cljs.core._.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._.cljs$lang$maxFixedArity=2;cljs.core._STAR_=function(){switch(arguments.length){case 0:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._STAR_.cljs$core$IFn$_invoke$arity$0=function(){return 1},cljs.core._STAR_.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core._STAR_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r*l},cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._STAR_,r*l,e)},cljs.core._STAR_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._STAR_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._STAR_.cljs$lang$maxFixedArity=2,cljs.core._SLASH_=function(){switch(arguments.length){case 1:return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$1=function(r){return 1/r},cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r/l},cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._SLASH_,r/l,e)},cljs.core._SLASH_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._SLASH_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._SLASH_.cljs$lang$maxFixedArity=2,cljs.core._LT_=function(){switch(arguments.length){case 1:return cljs.core._LT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._LT_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._LT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r<l},cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!(r<l))return!1;if(!cljs.core.next(e))return l<cljs.core.first(e);r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._LT_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._LT_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._LT_.cljs$lang$maxFixedArity=2,cljs.core._LT__EQ_=function(){switch(arguments.length){case 1:return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r<=l},cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!(r<=l))return!1;if(!cljs.core.next(e))return l<=cljs.core.first(e);r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._LT__EQ_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._LT__EQ_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._LT__EQ_.cljs$lang$maxFixedArity=2,cljs.core._GT_=function(){switch(arguments.length){case 1:return cljs.core._GT_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._GT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._GT_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._GT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r>l},cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!(r>l))return!1;if(!cljs.core.next(e))return l>cljs.core.first(e);r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._GT_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._GT_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._GT_.cljs$lang$maxFixedArity=2,cljs.core._GT__EQ_=function(){switch(arguments.length){case 1:return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r>=l},cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(!(r>=l))return!1;if(!cljs.core.next(e))return l>=cljs.core.first(e);r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._GT__EQ_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._GT__EQ_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._GT__EQ_.cljs$lang$maxFixedArity=2,cljs.core.dec=function(r){return r-1},cljs.core.max=function(){switch(arguments.length){case 1:return cljs.core.max.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.max.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.max.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.max.cljs$core$IFn$_invoke$arity$2=function(r,l){return r>l?r:l},cljs.core.max.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.max,r>l?r:l,e)},cljs.core.max.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.max.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.max.cljs$lang$maxFixedArity=2,cljs.core.min=function(){switch(arguments.length){case 1:return cljs.core.min.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.min.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.min.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.min.cljs$core$IFn$_invoke$arity$2=function(r,l){return r<l?r:l},cljs.core.min.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.min,r<l?r:l,e)},cljs.core.min.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.min.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.min.cljs$lang$maxFixedArity=2,cljs.core.byte$=function(r){return r},cljs.core.char$=function(r){if("number"==typeof r)return String.fromCharCode(r);if("string"==typeof r&&1===r.length)return r;throw Error("Argument to char must be a character or number")},cljs.core.short$=function(r){return r},cljs.core.float$=function(r){return r},cljs.core.double$=function(r){return r},cljs.core.unchecked_byte=function(r){return r},cljs.core.unchecked_char=function(r){return r},cljs.core.unchecked_short=function(r){return r},cljs.core.unchecked_float=function(r){return r},cljs.core.unchecked_double=function(r){return r},cljs.core.unchecked_add=function(){switch(arguments.length){case 0:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$0=function(){return 0},cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$2=function(r,l){return r+l},cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add,r+l,e)},cljs.core.unchecked_add.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_add.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_add.cljs$lang$maxFixedArity=2,cljs.core.unchecked_add_int=function(){switch(arguments.length){case 0:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$0=function(){return 0},cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$2=function(r,l){return r+l},cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_add_int,r+l,e)},cljs.core.unchecked_add_int.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_add_int.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_add_int.cljs$lang$maxFixedArity=2,cljs.core.unchecked_dec=function(r){return r-1},cljs.core.unchecked_dec_int=function(r){return r-1},cljs.core.unchecked_divide_int=function(){switch(arguments.length){case 1:return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$1=function(r){return 1/r},cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$2=function(r,l){return r/l},cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_divide_int,r/l,e)},cljs.core.unchecked_divide_int.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_divide_int.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_divide_int.cljs$lang$maxFixedArity=2,cljs.core.unchecked_inc=function(r){return r+1},cljs.core.unchecked_inc_int=function(r){return r+1},cljs.core.unchecked_multiply=function(){switch(arguments.length){case 0:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$0=function(){return 1},cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$2=function(r,l){return r*l},cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply,r*l,e)},cljs.core.unchecked_multiply.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_multiply.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_multiply.cljs$lang$maxFixedArity=2,cljs.core.unchecked_multiply_int=function(){switch(arguments.length){case 0:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$0=function(){return 1},cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$2=function(r,l){return r*l},cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_multiply_int,r*l,e)},cljs.core.unchecked_multiply_int.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_multiply_int.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_multiply_int.cljs$lang$maxFixedArity=2,cljs.core.unchecked_negate=function(r){return-r},cljs.core.unchecked_negate_int=function(r){return-r},cljs.core.unchecked_remainder_int=function(r,l){return cljs.core.mod.cljs$core$IFn$_invoke$arity$2?cljs.core.mod.cljs$core$IFn$_invoke$arity$2(r,l):cljs.core.mod.call(null,r,l)},cljs.core.unchecked_subtract=function(){switch(arguments.length){case 1:return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$1=function(r){return-r},cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$2=function(r,l){return r-l},cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract,r-l,e)},cljs.core.unchecked_subtract.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_subtract.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_subtract.cljs$lang$maxFixedArity=2,cljs.core.unchecked_subtract_int=function(){switch(arguments.length){case 1:return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$1=function(r){return-r},cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$2=function(r,l){return r-l},cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.unchecked_subtract_int,r-l,e)},cljs.core.unchecked_subtract_int.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.unchecked_subtract_int.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.unchecked_subtract_int.cljs$lang$maxFixedArity=2,cljs.core.fix=function(r){return 0<=r?Math.floor(r):Math.ceil(r)},cljs.core.int$=function(r){return 0|r},cljs.core.unchecked_int=function(r){return cljs.core.fix(r)},cljs.core.long$=function(r){return cljs.core.fix(r)},cljs.core.unchecked_long=function(r){return cljs.core.fix(r)},cljs.core.booleans=function(r){return r},cljs.core.bytes=function(r){return r},cljs.core.chars=function(r){return r},cljs.core.shorts=function(r){return r},cljs.core.ints=function(r){return r},cljs.core.floats=function(r){return r},cljs.core.doubles=function(r){return r},cljs.core.longs=function(r){return r},cljs.core.js_mod=function(r,l){return r%l},cljs.core.mod=function(r,l){return(r%l+l)%l},cljs.core.quot=function(r,l){return cljs.core.fix((r-r%l)/l)},
cljs.core.rem=function(r,l){return r-l*cljs.core.quot(r,l)},cljs.core.bit_xor=function(){switch(arguments.length){case 2:return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$2=function(r,l){return r^l},cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_xor,r^l,e)},cljs.core.bit_xor.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.bit_xor.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.bit_xor.cljs$lang$maxFixedArity=2,cljs.core.bit_and=function(){switch(arguments.length){case 2:return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.bit_and.cljs$core$IFn$_invoke$arity$2=function(r,l){return r&l},cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and,r&l,e)},cljs.core.bit_and.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.bit_and.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.bit_and.cljs$lang$maxFixedArity=2,cljs.core.bit_or=function(){switch(arguments.length){case 2:return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.bit_or.cljs$core$IFn$_invoke$arity$2=function(r,l){return r|l},cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_or,r|l,e)},cljs.core.bit_or.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.bit_or.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.bit_or.cljs$lang$maxFixedArity=2,cljs.core.bit_and_not=function(){switch(arguments.length){case 2:return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$2=function(r,l){return r&~l},cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.bit_and_not,r&~l,e)},cljs.core.bit_and_not.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.bit_and_not.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.bit_and_not.cljs$lang$maxFixedArity=2,cljs.core.bit_clear=function(r,l){return r&~(1<<l)},cljs.core.bit_flip=function(r,l){return r^1<<l},cljs.core.bit_not=function(r){return~r},cljs.core.bit_set=function(r,l){return r|1<<l},cljs.core.bit_test=function(r,l){return 0!=(r&1<<l)},cljs.core.bit_shift_left=function(r,l){return r<<l},cljs.core.bit_shift_right=function(r,l){return r>>l},cljs.core.bit_shift_right_zero_fill=function(r,l){return r>>>l},cljs.core.unsigned_bit_shift_right=function(r,l){return r>>>l},cljs.core.bit_count=function(r){return r-=r>>1&1431655765,16843009*((r=(858993459&r)+(r>>2&858993459))+(r>>4)&252645135)>>24},cljs.core._EQ__EQ_=function(){switch(arguments.length){case 1:return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$1=function(r){return!0},cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._equiv(r,l)},cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(r!==l)return!1;if(!cljs.core.next(e))return l===cljs.core.first(e);r=l,l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core._EQ__EQ_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core._EQ__EQ_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core._EQ__EQ_.cljs$lang$maxFixedArity=2,cljs.core.pos_QMARK_=function(r){return 0<r},cljs.core.zero_QMARK_=function(r){return 0===r},cljs.core.neg_QMARK_=function(r){return 0>r},cljs.core.nthnext=function(r,l){for(var e=l,c=cljs.core.seq(r);;){if(!(c&&0<e))return c;--e,c=cljs.core.next(c)}},cljs.core.str=function(){switch(arguments.length){case 0:return cljs.core.str.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},cljs.core.str.cljs$core$IFn$_invoke$arity$0=function(){return""},cljs.core.str.cljs$core$IFn$_invoke$arity$1=function(r){return null==r?"":goog.string.buildString(r)},cljs.core.str.cljs$core$IFn$_invoke$arity$variadic=function(r,l){for(var e=new goog.string.StringBuffer(""+cljs.core.str(r)),c=l;;){if(!cljs.core.truth_(c))return e.toString();e=e.append(""+cljs.core.str(cljs.core.first(c))),c=cljs.core.next(c)}},cljs.core.str.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.str.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.str.cljs$lang$maxFixedArity=1,cljs.core.subs=function(){switch(arguments.length){case 2:return cljs.core.subs.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.subs.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.subs.cljs$core$IFn$_invoke$arity$2=function(r,l){return r.substring(l)},cljs.core.subs.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r.substring(l,e)},cljs.core.subs.cljs$lang$maxFixedArity=3,cljs.core.equiv_sequential=function(r,l){return cljs.core.boolean$(cljs.core.sequential_QMARK_(l)?(!cljs.core.counted_QMARK_(r)||!cljs.core.counted_QMARK_(l)||cljs.core.count(r)===cljs.core.count(l))&&function(){for(var e=cljs.core.seq(r),c=cljs.core.seq(l);;){if(null==e)return null==c;if(null==c||!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(e),cljs.core.first(c)))return!1;e=cljs.core.next(e),c=cljs.core.next(c)}}():null)},cljs.core.hash_coll=function(r){if(!cljs.core.seq(r))return 0;var l=cljs.core.hash(cljs.core.first(r));for(r=cljs.core.next(r);;){if(null==r)return l;l=cljs.core.hash_combine(l,cljs.core.hash(cljs.core.first(r))),r=cljs.core.next(r)}},cljs.core.hash_imap=function(r){var l=0;for(r=cljs.core.seq(r);;){if(!r)return l;var e=cljs.core.first(r),l=(l+(cljs.core.hash(function(){var r=e;return cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(r):cljs.core.key.call(null,r)}())^cljs.core.hash(function(){var r=e;return cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(r):cljs.core.val.call(null,r)}())))%4503599627370496;r=cljs.core.next(r)}},cljs.core.hash_iset=function(r){var l=0;for(r=cljs.core.seq(r);;){if(!r)return l;var e=cljs.core.first(r),l=(l+cljs.core.hash(e))%4503599627370496;r=cljs.core.next(r)}},cljs.core.extend_object_BANG_=function(r,l){for(var e=cljs.core.seq(l),c=null,t=0,n=0;;)if(n<t){var s=c.cljs$core$IIndexed$_nth$arity$2(null,n),o=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(s,0,null),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(s,1,null),a=function(){var r=o;return cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(r):cljs.core.name.call(null,r)}();r[a]=s,n+=1}else{if(!(e=cljs.core.seq(e)))break;var i=e;if(cljs.core.chunked_seq_QMARK_(i))t=function(){var r=i;return cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1?cljs.core.chunk_first.cljs$core$IFn$_invoke$arity$1(r):cljs.core.chunk_first.call(null,r)}(),e=function(){var r=i;return cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1?cljs.core.chunk_rest.cljs$core$IFn$_invoke$arity$1(r):cljs.core.chunk_rest.call(null,r)}(),c=t,t=cljs.core.count(t);else{var e=cljs.core.first(i),u=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),c=function(){var r=u;return cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(r):cljs.core.name.call(null,r)}();r[c]=e,e=cljs.core.next(i),c=null,t=0}n=0}return r},cljs.core.List=function(r,l,e,c,t){this.meta=r,this.first=l,this.rest=e,this.count=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=65937646,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.List.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.List.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.List.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.List.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.List(this.meta,this.first,this.rest,this.count,this.__hash)},cljs.core.List.prototype.cljs$core$INext$_next$arity$1=function(r){return 1===this.count?null:this.rest},cljs.core.List.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.count},cljs.core.List.prototype.cljs$core$IStack$_peek$arity$1=function(r){return this.first},cljs.core.List.prototype.cljs$core$IStack$_pop$arity$1=function(r){return cljs.core._rest(this)},cljs.core.List.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.List.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.List.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core._with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.List.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.List.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.first};cljs.core.List.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return 1===this.count?cljs.core.List.EMPTY:this.rest},cljs.core.List.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.List.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.List(l,this.first,this.rest,this.count,this.__hash)},cljs.core.List.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.List(this.meta,l,this,this.count+1,null)},cljs.core.List.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"rest","rest",398835108,null),new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.List.cljs$lang$type=!0,cljs.core.List.cljs$lang$ctorStr="cljs.core/List",cljs.core.List.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/List")},cljs.core.__GT_List=function(r,l,e,c,t){return new cljs.core.List(r,l,e,c,t)},cljs.core.List.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.EmptyList=function(r){this.meta=r,this.cljs$lang$protocol_mask$partition0$=65937614,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.EmptyList.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.EmptyList.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.EmptyList.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.EmptyList.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.EmptyList(this.meta)},cljs.core.EmptyList.prototype.cljs$core$INext$_next$arity$1=function(r){return null},cljs.core.EmptyList.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0},cljs.core.EmptyList.prototype.cljs$core$IStack$_peek$arity$1=function(r){return null},cljs.core.EmptyList.prototype.cljs$core$IStack$_pop$arity$1=function(r){throw Error("Can't pop empty list")},cljs.core.EmptyList.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.empty_ordered_hash},cljs.core.EmptyList.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.EmptyList.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return this},cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.EmptyList.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.EmptyList.prototype.cljs$core$ISeq$_first$arity$1=function(r){return null},cljs.core.EmptyList.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return cljs.core.List.EMPTY},cljs.core.EmptyList.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return null},cljs.core.EmptyList.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.EmptyList(l)},cljs.core.EmptyList.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.List(this.meta,l,null,1,null)},cljs.core.EmptyList.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)},cljs.core.EmptyList.cljs$lang$type=!0,cljs.core.EmptyList.cljs$lang$ctorStr="cljs.core/EmptyList",cljs.core.EmptyList.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/EmptyList")},cljs.core.__GT_EmptyList=function(r){return new cljs.core.EmptyList(r)},cljs.core.List.EMPTY=new cljs.core.EmptyList(null),cljs.core.EmptyList.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.reversible_QMARK_=function(r){return r?!!(134217728&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IReversible$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IReversible,r):cljs.core.native_satisfies_QMARK_(cljs.core.IReversible,r)},cljs.core.rseq=function(r){return cljs.core._rseq(r)},cljs.core.reverse=function(r){return cljs.core.reversible_QMARK_(r)?cljs.core.rseq(r):cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,cljs.core.List.EMPTY,r)},cljs.core.list=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.list.cljs$core$IFn$_invoke$arity$variadic=function(r){var l;if(r instanceof cljs.core.IndexedSeq&&0===r.i)l=r.arr;else r:for(l=[];;){if(null==r)break r;l.push(r.cljs$core$ISeq$_first$arity$1(null)),r=r.cljs$core$INext$_next$arity$1(null)}r=l.length;for(var e=cljs.core.List.EMPTY;;){if(!(0<r))return e;var c=r-1,e=e.cljs$core$ICollection$_conj$arity$2(null,l[r-1]);r=c}},cljs.core.list.cljs$lang$maxFixedArity=0,cljs.core.list.cljs$lang$applyTo=function(r){return cljs.core.list.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.Cons=function(r,l,e,c){this.meta=r,this.first=l,this.rest=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=65929452,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.Cons.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.Cons.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Cons.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.Cons.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.Cons(this.meta,this.first,this.rest,this.__hash)},cljs.core.Cons.prototype.cljs$core$INext$_next$arity$1=function(r){return null==this.rest?null:cljs.core.seq(this.rest)},cljs.core.Cons.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.Cons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.Cons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.Cons.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.Cons.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.first},cljs.core.Cons.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return null==this.rest?cljs.core.List.EMPTY:this.rest},cljs.core.Cons.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.Cons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.Cons(l,this.first,this.rest,this.__hash)},cljs.core.Cons.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.Cons(null,l,this,this.__hash)},cljs.core.Cons.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"rest","rest",398835108,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.Cons.cljs$lang$type=!0,cljs.core.Cons.cljs$lang$ctorStr="cljs.core/Cons",cljs.core.Cons.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Cons")},cljs.core.__GT_Cons=function(r,l,e,c){return new cljs.core.Cons(r,l,e,c)},cljs.core.Cons.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.cons=function(r,l){var e;return e=(e=null==l)?e:!!l&&!!(64&l.cljs$lang$protocol_mask$partition0$||l.cljs$core$ISeq$),e?new cljs.core.Cons(null,r,l,null):new cljs.core.Cons(null,r,cljs.core.seq(l),null)},cljs.core.list_QMARK_=function(r){return r?!!(33554432&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IList$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IList,r):cljs.core.native_satisfies_QMARK_(cljs.core.IList,r)},cljs.core.hash_keyword=function(r){return cljs.core.hash_symbol(r)+2654435769|0},cljs.core.compare_keywords=function(r,l){if(r.fqn===l.fqn)return 0;if(cljs.core.truth_(function(){var e=cljs.core.not(r.ns);return e?l.ns:e}()))return-1;if(cljs.core.truth_(r.ns)){if(cljs.core.not(l.ns))return 1;var e=goog.array.defaultCompare(r.ns,l.ns);return 0===e?goog.array.defaultCompare(r.name,l.name):e}return goog.array.defaultCompare(r.name,l.name)},cljs.core.Keyword=function(r,l,e,c){this.ns=r,this.name=l,this.fqn=e,this._hash=c,this.cljs$lang$protocol_mask$partition0$=2153775105,this.cljs$lang$protocol_mask$partition1$=4096},cljs.core.Keyword.prototype.toString=function(){return[cljs.core.str(":"),cljs.core.str(this.fqn)].join("")},cljs.core.Keyword.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Keyword.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return l instanceof cljs.core.Keyword&&this.fqn===l.fqn},cljs.core.Keyword.prototype.call=function(){var r=null,l=function(r,l){return cljs.core.get.cljs$core$IFn$_invoke$arity$2(l,this)},e=function(r,l,e){return cljs.core.get.cljs$core$IFn$_invoke$arity$3(l,this,e)},r=function(r,c,t){switch(arguments.length){case 2:return l.call(this,r,c);case 3:return e.call(this,r,c,t)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=l,r.cljs$core$IFn$_invoke$arity$3=e,r}(),cljs.core.Keyword.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,this)},cljs.core.Keyword.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,this,l)},cljs.core.Keyword.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this._hash,null!=r?r:this._hash=r=cljs.core.hash_keyword(this)},cljs.core.Keyword.prototype.cljs$core$INamed$_name$arity$1=function(r){return this.name},cljs.core.Keyword.prototype.cljs$core$INamed$_namespace$arity$1=function(r){return this.ns},cljs.core.Keyword.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,[cljs.core.str(":"),cljs.core.str(this.fqn)].join(""))},cljs.core.Keyword.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ns","ns",2082130287,null),new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"fqn","fqn",-1749334463,null),new cljs.core.Symbol(null,"_hash","_hash",-2130838312,null)],null)},cljs.core.Keyword.cljs$lang$type=!0,cljs.core.Keyword.cljs$lang$ctorStr="cljs.core/Keyword",cljs.core.Keyword.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Keyword")},cljs.core.__GT_Keyword=function(r,l,e,c){return new cljs.core.Keyword(r,l,e,c)},cljs.core.keyword_QMARK_=function(r){return r instanceof cljs.core.Keyword},cljs.core.keyword_identical_QMARK_=function(r,l){return r===l||r instanceof cljs.core.Keyword&&l instanceof cljs.core.Keyword&&r.fqn===l.fqn},cljs.core.namespace=function(r){if(r&&(4096&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$INamed$))return r.cljs$core$INamed$_namespace$arity$1(null);throw Error([cljs.core.str("Doesn't support namespace: "),cljs.core.str(r)].join(""))},cljs.core.keyword=function(){switch(arguments.length){case 1:return cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.keyword.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.keyword.cljs$core$IFn$_invoke$arity$1=function(r){if(r instanceof cljs.core.Keyword)return r;if(r instanceof cljs.core.Symbol){var l,e=cljs.core.Keyword,c=cljs.core.namespace(r);return l=cljs.core.name.cljs$core$IFn$_invoke$arity$1?cljs.core.name.cljs$core$IFn$_invoke$arity$1(r):cljs.core.name.call(null,r),new e(c,l,r.str,null)}return"string"==typeof r?(e=r.split("/"),2===e.length?new cljs.core.Keyword(e[0],e[1],r,null):new cljs.core.Keyword(null,e[0],r,null)):null},cljs.core.keyword.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.Keyword(r,l,[cljs.core.str(cljs.core.truth_(r)?[cljs.core.str(r),cljs.core.str("/")].join(""):null),cljs.core.str(l)].join(""),null)},cljs.core.keyword.cljs$lang$maxFixedArity=2,cljs.core.LazySeq=function(r,l,e,c){this.meta=r,this.fn=l,this.s=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=32374988,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.LazySeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.LazySeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.LazySeq.prototype.sval=function(){return null!=this.fn&&(this.s=this.fn.cljs$core$IFn$_invoke$arity$0?this.fn.cljs$core$IFn$_invoke$arity$0():this.fn.call(null),this.fn=null),this.s},cljs.core.LazySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.LazySeq.prototype.cljs$core$INext$_next$arity$1=function(r){return cljs.core._seq(this),null==this.s?null:cljs.core.next(this.s)},cljs.core.LazySeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.LazySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.LazySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.LazySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.LazySeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core._seq(this),null==this.s?null:cljs.core.first(this.s)},cljs.core.LazySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return cljs.core._seq(this),null!=this.s?cljs.core.rest(this.s):cljs.core.List.EMPTY},cljs.core.LazySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){if(this.sval(),null==this.s)return null;for(r=this.s;;){if(!(r instanceof cljs.core.LazySeq))return this.s=r,cljs.core.seq(this.s);r=r.sval()}},cljs.core.LazySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.LazySeq(l,this.fn,this.s,this.__hash)},cljs.core.LazySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.LazySeq.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"fn","fn",465265323,null),new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.LazySeq.cljs$lang$type=!0,cljs.core.LazySeq.cljs$lang$ctorStr="cljs.core/LazySeq",cljs.core.LazySeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/LazySeq")},cljs.core.__GT_LazySeq=function(r,l,e,c){return new cljs.core.LazySeq(r,l,e,c)},cljs.core.LazySeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.ChunkBuffer=function(r,l){this.buf=r,this.end=l,this.cljs$lang$protocol_mask$partition0$=2,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.ChunkBuffer.prototype.add=function(r){return this.buf[this.end]=r,this.end+=1},cljs.core.ChunkBuffer.prototype.chunk=function(r){return r=new cljs.core.ArrayChunk(this.buf,0,this.end),this.buf=null,r},cljs.core.ChunkBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.end},cljs.core.ChunkBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"end","end",1372345569,null)],null)},cljs.core.ChunkBuffer.cljs$lang$type=!0,cljs.core.ChunkBuffer.cljs$lang$ctorStr="cljs.core/ChunkBuffer",cljs.core.ChunkBuffer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ChunkBuffer")},cljs.core.__GT_ChunkBuffer=function(r,l){return new cljs.core.ChunkBuffer(r,l)},cljs.core.chunk_buffer=function(r){return new cljs.core.ChunkBuffer(Array(r),0)},cljs.core.ArrayChunk=function(r,l,e){this.arr=r,this.off=l,this.end=e,this.cljs$lang$protocol_mask$partition0$=524306,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.ArrayChunk.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.end-this.off},cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){return this.arr[this.off+l]},cljs.core.ArrayChunk.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0<=l&&l<this.end-this.off?this.arr[this.off+l]:e},cljs.core.ArrayChunk.prototype.cljs$core$IChunk$=!0,cljs.core.ArrayChunk.prototype.cljs$core$IChunk$_drop_first$arity$1=function(r){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new cljs.core.ArrayChunk(this.arr,this.off+1,this.end)},cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(this.arr,l,this.arr[this.off],this.off+1)},cljs.core.ArrayChunk.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.array_reduce.cljs$core$IFn$_invoke$arity$4(this.arr,l,e,this.off)},cljs.core.ArrayChunk.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"off","off",-2047994980,null),new cljs.core.Symbol(null,"end","end",1372345569,null)],null)},cljs.core.ArrayChunk.cljs$lang$type=!0,cljs.core.ArrayChunk.cljs$lang$ctorStr="cljs.core/ArrayChunk",cljs.core.ArrayChunk.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ArrayChunk")},cljs.core.__GT_ArrayChunk=function(r,l,e){return new cljs.core.ArrayChunk(r,l,e)},cljs.core.array_chunk=function(){switch(arguments.length){case 1:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$1=function(r){return new cljs.core.ArrayChunk(r,0,r.length)},cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.ArrayChunk(r,l,r.length)},cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.ArrayChunk(r,l,e)},cljs.core.array_chunk.cljs$lang$maxFixedArity=3,cljs.core.ChunkedCons=function(r,l,e,c){this.chunk=r,this.more=l,this.meta=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=31850732,this.cljs$lang$protocol_mask$partition1$=1536},cljs.core.ChunkedCons.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ChunkedCons.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.ChunkedCons.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.ChunkedCons.prototype.cljs$core$INext$_next$arity$1=function(r){return 1<cljs.core._count(this.chunk)?new cljs.core.ChunkedCons(cljs.core._drop_first(this.chunk),this.more,this.meta,null):(r=cljs.core._seq(this.more),null==r?null:r)},cljs.core.ChunkedCons.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.ChunkedCons.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.ChunkedCons.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this.chunk,0)},cljs.core.ChunkedCons.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return 1<cljs.core._count(this.chunk)?new cljs.core.ChunkedCons(cljs.core._drop_first(this.chunk),this.more,this.meta,null):null==this.more?cljs.core.List.EMPTY:this.more},cljs.core.ChunkedCons.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(r){return this.chunk},
cljs.core.ChunkedCons.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(r){return null==this.more?cljs.core.List.EMPTY:this.more},cljs.core.ChunkedCons.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.ChunkedCons(this.chunk,this.more,l,this.__hash)},cljs.core.ChunkedCons.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.ChunkedCons.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(r){return null==this.more?null:this.more},cljs.core.ChunkedCons.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"chunk","chunk",449371907,null),new cljs.core.Symbol(null,"more","more",-418290273,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.ChunkedCons.cljs$lang$type=!0,cljs.core.ChunkedCons.cljs$lang$ctorStr="cljs.core/ChunkedCons",cljs.core.ChunkedCons.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ChunkedCons")},cljs.core.__GT_ChunkedCons=function(r,l,e,c){return new cljs.core.ChunkedCons(r,l,e,c)},cljs.core.ChunkedCons.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.chunk_cons=function(r,l){return 0===cljs.core._count(r)?l:new cljs.core.ChunkedCons(r,l,null,null)},cljs.core.chunk_append=function(r,l){return r.add(l)},cljs.core.chunk=function(r){return r.chunk()},cljs.core.chunk_first=function(r){return cljs.core._chunked_first(r)},cljs.core.chunk_rest=function(r){return cljs.core._chunked_rest(r)},cljs.core.chunk_next=function(r){return r&&(1024&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$IChunkedNext$)?cljs.core._chunked_next(r):cljs.core.seq(cljs.core._chunked_rest(r))},cljs.core.to_array=function(r){for(var l=[];;){if(!cljs.core.seq(r))return l;l.push(cljs.core.first(r)),r=cljs.core.next(r)}},cljs.core.to_array_2d=function(r){var l=Array(cljs.core.count(r)),e=0;for(r=cljs.core.seq(r);r;)l[e]=cljs.core.to_array(cljs.core.first(r)),e+=1,r=cljs.core.next(r);return l},cljs.core.int_array=function(){switch(arguments.length){case 1:return cljs.core.int_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.int_array.cljs$core$IFn$_invoke$arity$1=function(r){return"number"==typeof r?cljs.core.int_array.cljs$core$IFn$_invoke$arity$2(r,null):cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r)},cljs.core.int_array.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=Array(r);if(!cljs.core.seq_QMARK_(l)){for(c=0;c<r;)e[c]=l,c+=1;return e}for(var c=0,t=cljs.core.seq(l);;){if(!(t&&c<r))return e;e[c]=cljs.core.first(t),c+=1,t=cljs.core.next(t)}},cljs.core.int_array.cljs$lang$maxFixedArity=2,cljs.core.long_array=function(){switch(arguments.length){case 1:return cljs.core.long_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.long_array.cljs$core$IFn$_invoke$arity$1=function(r){return"number"==typeof r?cljs.core.long_array.cljs$core$IFn$_invoke$arity$2(r,null):cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r)},cljs.core.long_array.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=Array(r);if(!cljs.core.seq_QMARK_(l)){for(c=0;c<r;)e[c]=l,c+=1;return e}for(var c=0,t=cljs.core.seq(l);;){if(!(t&&c<r))return e;e[c]=cljs.core.first(t),c+=1,t=cljs.core.next(t)}},cljs.core.long_array.cljs$lang$maxFixedArity=2,cljs.core.double_array=function(){switch(arguments.length){case 1:return cljs.core.double_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.double_array.cljs$core$IFn$_invoke$arity$1=function(r){return"number"==typeof r?cljs.core.double_array.cljs$core$IFn$_invoke$arity$2(r,null):cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r)},cljs.core.double_array.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=Array(r);if(!cljs.core.seq_QMARK_(l)){for(c=0;c<r;)e[c]=l,c+=1;return e}for(var c=0,t=cljs.core.seq(l);;){if(!(t&&c<r))return e;e[c]=cljs.core.first(t),c+=1,t=cljs.core.next(t)}},cljs.core.double_array.cljs$lang$maxFixedArity=2,cljs.core.object_array=function(){switch(arguments.length){case 1:return cljs.core.object_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.object_array.cljs$core$IFn$_invoke$arity$1=function(r){return"number"==typeof r?cljs.core.object_array.cljs$core$IFn$_invoke$arity$2(r,null):cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r)},cljs.core.object_array.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=Array(r);if(!cljs.core.seq_QMARK_(l)){for(c=0;c<r;)e[c]=l,c+=1;return e}for(var c=0,t=cljs.core.seq(l);;){if(!(t&&c<r))return e;e[c]=cljs.core.first(t),c+=1,t=cljs.core.next(t)}},cljs.core.object_array.cljs$lang$maxFixedArity=2,cljs.core.bounded_count=function(r,l){if(cljs.core.counted_QMARK_(r))return cljs.core.count(r);for(var e=r,c=l,t=0;;){if(!(0<c&&cljs.core.seq(e)))return t;e=cljs.core.next(e),--c,t+=1}},cljs.core.spread=function r(l){return null==l?null:null==cljs.core.next(l)?cljs.core.seq(cljs.core.first(l)):cljs.core.cons(cljs.core.first(l),r(cljs.core.next(l)))},cljs.core.concat=function(){switch(arguments.length){case 0:return cljs.core.concat.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.concat.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.concat.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.concat.cljs$core$IFn$_invoke$arity$0=function(){return new cljs.core.LazySeq(null,function(){return null},null,null)},cljs.core.concat.cljs$core$IFn$_invoke$arity$1=function(r){return new cljs.core.LazySeq(null,function(){return r},null,null)},cljs.core.concat.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(r);return e?cljs.core.chunked_seq_QMARK_(e)?cljs.core.chunk_cons(cljs.core.chunk_first(e),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.chunk_rest(e),l)):cljs.core.cons(cljs.core.first(e),cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(e),l)):l},null,null)},cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return function r(l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(l);return c?cljs.core.chunked_seq_QMARK_(c)?cljs.core.chunk_cons(cljs.core.chunk_first(c),r(cljs.core.chunk_rest(c),e)):cljs.core.cons(cljs.core.first(c),r(cljs.core.rest(c),e)):cljs.core.truth_(e)?r(cljs.core.first(e),cljs.core.next(e)):null},null,null)}(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(r,l),e)},cljs.core.concat.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.concat.cljs$lang$maxFixedArity=2,cljs.core.list_STAR_=function(){switch(arguments.length){case 1:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,4),0);return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],r)}},cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.seq(r)};cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.cons(r,l)},cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.cons(r,cljs.core.cons(l,e))},cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.cons(r,cljs.core.cons(l,cljs.core.cons(e,c)))},cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t){return cljs.core.cons(r,cljs.core.cons(l,cljs.core.cons(e,cljs.core.cons(c,cljs.core.spread(t)))))},cljs.core.list_STAR_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),t=cljs.core.next(t);return cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t)},cljs.core.list_STAR_.cljs$lang$maxFixedArity=4,cljs.core.transient$=function(r){return cljs.core._as_transient(r)},cljs.core.persistent_BANG_=function(r){return cljs.core._persistent_BANG_(r)},cljs.core.conj_BANG_=function(){switch(arguments.length){case 0:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.transient$(cljs.core.PersistentVector.EMPTY)},cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._conj_BANG_(r,l)},cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(r=cljs.core._conj_BANG_(r,l),!cljs.core.truth_(e))return r;l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.conj_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.conj_BANG_.cljs$lang$maxFixedArity=2,cljs.core.assoc_BANG_=function(){switch(arguments.length){case 3:return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core._assoc_BANG_(r,l,e)},cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){for(;;){if(r=cljs.core._assoc_BANG_(r,l,e),!cljs.core.truth_(c))return r;l=cljs.core.first(c),e=cljs.core.second(c),c=cljs.core.nnext(c)}},cljs.core.assoc_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.assoc_BANG_.cljs$lang$maxFixedArity=3,cljs.core.dissoc_BANG_=function(){switch(arguments.length){case 2:return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._dissoc_BANG_(r,l)},cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(r=cljs.core._dissoc_BANG_(r,l),!cljs.core.truth_(e))return r;l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.dissoc_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.dissoc_BANG_.cljs$lang$maxFixedArity=2,cljs.core.pop_BANG_=function(r){return cljs.core._pop_BANG_(r)},cljs.core.disj_BANG_=function(){switch(arguments.length){case 2:return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._disjoin_BANG_(r,l)},cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){for(;;){if(r=cljs.core._disjoin_BANG_(r,l),!cljs.core.truth_(e))return r;l=cljs.core.first(e),e=cljs.core.next(e)}},cljs.core.disj_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.disj_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.disj_BANG_.cljs$lang$maxFixedArity=2,cljs.core.apply_to=function(r,l,e){var c=cljs.core.seq(e);if(0===l)return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null);e=cljs.core._first(c);var t=cljs.core._rest(c);if(1===l)return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e);var c=cljs.core._first(t),n=cljs.core._rest(t);if(2===l)return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,c):r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,c):r.call(null,e,c);var t=cljs.core._first(n),s=cljs.core._rest(n);if(3===l)return r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(e,c,t):r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(e,c,t):r.call(null,e,c,t);var n=cljs.core._first(s),o=cljs.core._rest(s);if(4===l)return r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(e,c,t,n):r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(e,c,t,n):r.call(null,e,c,t,n);var s=cljs.core._first(o),a=cljs.core._rest(o);if(5===l)return r.cljs$core$IFn$_invoke$arity$5?r.cljs$core$IFn$_invoke$arity$5(e,c,t,n,s):r.cljs$core$IFn$_invoke$arity$5?r.cljs$core$IFn$_invoke$arity$5(e,c,t,n,s):r.call(null,e,c,t,n,s);var o=cljs.core._first(a),i=cljs.core._rest(a);if(6===l)return r.cljs$core$IFn$_invoke$arity$6?r.cljs$core$IFn$_invoke$arity$6(e,c,t,n,s,o):r.cljs$core$IFn$_invoke$arity$6?r.cljs$core$IFn$_invoke$arity$6(e,c,t,n,s,o):r.call(null,e,c,t,n,s,o);var a=cljs.core._first(i),u=cljs.core._rest(i);if(7===l)return r.cljs$core$IFn$_invoke$arity$7?r.cljs$core$IFn$_invoke$arity$7(e,c,t,n,s,o,a):r.cljs$core$IFn$_invoke$arity$7?r.cljs$core$IFn$_invoke$arity$7(e,c,t,n,s,o,a):r.call(null,e,c,t,n,s,o,a);var i=cljs.core._first(u),$=cljs.core._rest(u);if(8===l)return r.cljs$core$IFn$_invoke$arity$8?r.cljs$core$IFn$_invoke$arity$8(e,c,t,n,s,o,a,i):r.cljs$core$IFn$_invoke$arity$8?r.cljs$core$IFn$_invoke$arity$8(e,c,t,n,s,o,a,i):r.call(null,e,c,t,n,s,o,a,i);var u=cljs.core._first($),j=cljs.core._rest($);if(9===l)return r.cljs$core$IFn$_invoke$arity$9?r.cljs$core$IFn$_invoke$arity$9(e,c,t,n,s,o,a,i,u):r.cljs$core$IFn$_invoke$arity$9?r.cljs$core$IFn$_invoke$arity$9(e,c,t,n,s,o,a,i,u):r.call(null,e,c,t,n,s,o,a,i,u);var $=cljs.core._first(j),_=cljs.core._rest(j);if(10===l)return r.cljs$core$IFn$_invoke$arity$10?r.cljs$core$IFn$_invoke$arity$10(e,c,t,n,s,o,a,i,u,$):r.cljs$core$IFn$_invoke$arity$10?r.cljs$core$IFn$_invoke$arity$10(e,c,t,n,s,o,a,i,u,$):r.call(null,e,c,t,n,s,o,a,i,u,$);var j=cljs.core._first(_),p=cljs.core._rest(_);if(11===l)return r.cljs$core$IFn$_invoke$arity$11?r.cljs$core$IFn$_invoke$arity$11(e,c,t,n,s,o,a,i,u,$,j):r.cljs$core$IFn$_invoke$arity$11?r.cljs$core$IFn$_invoke$arity$11(e,c,t,n,s,o,a,i,u,$,j):r.call(null,e,c,t,n,s,o,a,i,u,$,j);var _=cljs.core._first(p),d=cljs.core._rest(p);if(12===l)return r.cljs$core$IFn$_invoke$arity$12?r.cljs$core$IFn$_invoke$arity$12(e,c,t,n,s,o,a,i,u,$,j,_):r.cljs$core$IFn$_invoke$arity$12?r.cljs$core$IFn$_invoke$arity$12(e,c,t,n,s,o,a,i,u,$,j,_):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_);var p=cljs.core._first(d),y=cljs.core._rest(d);if(13===l)return r.cljs$core$IFn$_invoke$arity$13?r.cljs$core$IFn$_invoke$arity$13(e,c,t,n,s,o,a,i,u,$,j,_,p):r.cljs$core$IFn$_invoke$arity$13?r.cljs$core$IFn$_invoke$arity$13(e,c,t,n,s,o,a,i,u,$,j,_,p):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p);var d=cljs.core._first(y),f=cljs.core._rest(y);if(14===l)return r.cljs$core$IFn$_invoke$arity$14?r.cljs$core$IFn$_invoke$arity$14(e,c,t,n,s,o,a,i,u,$,j,_,p,d):r.cljs$core$IFn$_invoke$arity$14?r.cljs$core$IFn$_invoke$arity$14(e,c,t,n,s,o,a,i,u,$,j,_,p,d):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d);var y=cljs.core._first(f),h=cljs.core._rest(f);if(15===l)return r.cljs$core$IFn$_invoke$arity$15?r.cljs$core$IFn$_invoke$arity$15(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):r.cljs$core$IFn$_invoke$arity$15?r.cljs$core$IFn$_invoke$arity$15(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y);var f=cljs.core._first(h),v=cljs.core._rest(h);if(16===l)return r.cljs$core$IFn$_invoke$arity$16?r.cljs$core$IFn$_invoke$arity$16(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):r.cljs$core$IFn$_invoke$arity$16?r.cljs$core$IFn$_invoke$arity$16(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f);var h=cljs.core._first(v),w=cljs.core._rest(v);if(17===l)return r.cljs$core$IFn$_invoke$arity$17?r.cljs$core$IFn$_invoke$arity$17(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):r.cljs$core$IFn$_invoke$arity$17?r.cljs$core$IFn$_invoke$arity$17(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h);var v=cljs.core._first(w),m=cljs.core._rest(w);if(18===l)return r.cljs$core$IFn$_invoke$arity$18?r.cljs$core$IFn$_invoke$arity$18(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):r.cljs$core$IFn$_invoke$arity$18?r.cljs$core$IFn$_invoke$arity$18(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v);if(w=cljs.core._first(m),m=cljs.core._rest(m),19===l)return r.cljs$core$IFn$_invoke$arity$19?r.cljs$core$IFn$_invoke$arity$19(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):r.cljs$core$IFn$_invoke$arity$19?r.cljs$core$IFn$_invoke$arity$19(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w);var g=cljs.core._first(m);if(cljs.core._rest(m),20===l)return r.cljs$core$IFn$_invoke$arity$20?r.cljs$core$IFn$_invoke$arity$20(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,g):r.cljs$core$IFn$_invoke$arity$20?r.cljs$core$IFn$_invoke$arity$20(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,g):r.call(null,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,g);throw Error("Only up to 20 arguments supported on functions")},cljs.core.apply=function(){switch(arguments.length){case 2:return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,5),0);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],r)}},cljs.core.apply.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=r.cljs$lang$maxFixedArity;if(r.cljs$lang$applyTo){var c=cljs.core.bounded_count(l,e+1);return c<=e?cljs.core.apply_to(r,c,l):r.cljs$lang$applyTo(l)}return r.apply(r,cljs.core.to_array(l))},cljs.core.apply.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(l=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$2(l,e),e=r.cljs$lang$maxFixedArity,r.cljs$lang$applyTo){var c=cljs.core.bounded_count(l,e+1);return c<=e?cljs.core.apply_to(r,c,l):r.cljs$lang$applyTo(l)}return r.apply(r,cljs.core.to_array(l))},cljs.core.apply.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return l=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$3(l,e,c),e=r.cljs$lang$maxFixedArity,r.cljs$lang$applyTo?(c=cljs.core.bounded_count(l,e+1),c<=e?cljs.core.apply_to(r,c,l):r.cljs$lang$applyTo(l)):r.apply(r,cljs.core.to_array(l))},cljs.core.apply.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return l=cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(l,e,c,t),e=r.cljs$lang$maxFixedArity,r.cljs$lang$applyTo?(c=cljs.core.bounded_count(l,e+1),c<=e?cljs.core.apply_to(r,c,l):r.cljs$lang$applyTo(l)):r.apply(r,cljs.core.to_array(l))},cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t,n){return l=cljs.core.cons(l,cljs.core.cons(e,cljs.core.cons(c,cljs.core.cons(t,cljs.core.spread(n))))),e=r.cljs$lang$maxFixedArity,r.cljs$lang$applyTo?(c=cljs.core.bounded_count(l,e+1),c<=e?cljs.core.apply_to(r,c,l):r.cljs$lang$applyTo(l)):r.apply(r,cljs.core.to_array(l))},cljs.core.apply.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),n=cljs.core.next(t),t=cljs.core.first(n),n=cljs.core.next(n);return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t,n)},cljs.core.apply.cljs$lang$maxFixedArity=5,cljs.core.vary_meta=function(){switch(arguments.length){case 2:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,6),0);return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],r)}},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.with_meta(r,function(){var e=cljs.core.meta(r);return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e)}())},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.with_meta(r,function(){var c=cljs.core.meta(r);return l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,e):l.call(null,c,e)}())},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.with_meta(r,function(){var t=cljs.core.meta(r);return l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(t,e,c):l.call(null,t,e,c)}())},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return cljs.core.with_meta(r,function(){var n=cljs.core.meta(r);return l.cljs$core$IFn$_invoke$arity$4?l.cljs$core$IFn$_invoke$arity$4(n,e,c,t):l.call(null,n,e,c,t)}())},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return cljs.core.with_meta(r,function(){var s=cljs.core.meta(r);return l.cljs$core$IFn$_invoke$arity$5?l.cljs$core$IFn$_invoke$arity$5(s,e,c,t,n):l.call(null,s,e,c,t,n)}())},cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t,n,s){return cljs.core.with_meta(r,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(l,cljs.core.meta(r),e,c,t,cljs.core.array_seq([n,s],0)))},cljs.core.vary_meta.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),n=cljs.core.next(t),t=cljs.core.first(n),s=cljs.core.next(n),n=cljs.core.first(s),s=cljs.core.next(s);return cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t,n,s)},cljs.core.vary_meta.cljs$lang$maxFixedArity=6,cljs.core.not_EQ_=function(){switch(arguments.length){case 1:return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$1=function(r){return!1},cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2=function(r,l){return!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core._EQ_,r,l,e))},cljs.core.not_EQ_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.not_EQ_.cljs$lang$maxFixedArity=2,cljs.core.not_empty=function(r){return cljs.core.seq(r)?r:null},cljs.core.nil_iter=function r(){return void 0===cljs.core.t32756&&(cljs.core.t32756=function(r,l){this.nil_iter=r,this.meta32757=l,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.t32756.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.t32756(this.nil_iter,l)},cljs.core.t32756.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta32757},cljs.core.t32756.prototype.hasNext=function(){return!1},cljs.core.t32756.prototype.next=function(){return Error("No such element")},cljs.core.t32756.prototype.remove=function(){return Error("Unsupported operation")},cljs.core.t32756.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"nil-iter","nil-iter",1101030523,null),new cljs.core.Symbol(null,"meta32757","meta32757",173206972,null)],null)},cljs.core.t32756.cljs$lang$type=!0,cljs.core.t32756.cljs$lang$ctorStr="cljs.core/t32756",cljs.core.t32756.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/t32756")},cljs.core.__GT_t32756=function(r,l){return new cljs.core.t32756(r,l)}),new cljs.core.t32756(r,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.StringIter=function(r,l){this.s=r,this.i=l},cljs.core.StringIter.prototype.hasNext=function(){return this.i<this.s.length},cljs.core.StringIter.prototype.next=function(){var r=this.s.charAt(this.i);return this.i+=1,r},cljs.core.StringIter.prototype.remove=function(){return Error("Unsupported operation")},cljs.core.StringIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.Symbol(null,"i","i",253690212,null)],null)},cljs.core.StringIter.cljs$lang$type=!0,cljs.core.StringIter.cljs$lang$ctorStr="cljs.core/StringIter",cljs.core.StringIter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/StringIter")},cljs.core.__GT_StringIter=function(r,l){return new cljs.core.StringIter(r,l)},cljs.core.string_iter=function(r){return new cljs.core.StringIter(r,0)},cljs.core.ArrayIter=function(r,l){this.arr=r,this.i=l},cljs.core.ArrayIter.prototype.hasNext=function(){return this.i<this.arr.length},cljs.core.ArrayIter.prototype.next=function(){var r=this.arr[this.i];return this.i+=1,r},cljs.core.ArrayIter.prototype.remove=function(){return Error("Unsupported operation")},cljs.core.ArrayIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null)],null)},cljs.core.ArrayIter.cljs$lang$type=!0,cljs.core.ArrayIter.cljs$lang$ctorStr="cljs.core/ArrayIter",cljs.core.ArrayIter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ArrayIter")},cljs.core.__GT_ArrayIter=function(r,l){return new cljs.core.ArrayIter(r,l)},cljs.core.array_iter=function(r){return new cljs.core.ArrayIter(r,0)},cljs.core.INIT={},cljs.core.START={},cljs.core.SeqIter=function(r,l){this._seq=r,this._next=l},cljs.core.SeqIter.prototype.hasNext=function(){return this._seq===cljs.core.INIT?(this._seq=cljs.core.START,this._next=cljs.core.seq(this._next)):this._seq===this._next&&(this._next=cljs.core.next(this._seq)),null!=this._next},cljs.core.SeqIter.prototype.next=function(){if(cljs.core.not(this.hasNext()))throw Error("No such element");return this._seq=this._next,cljs.core.first(this._next)},cljs.core.SeqIter.prototype.remove=function(){return Error("Unsupported operation")},cljs.core.SeqIter.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"_seq","_seq",-449557847,null),new cljs.core.Symbol(null,"_next","_next",101877036,null)],null)},cljs.core.SeqIter.cljs$lang$type=!0,cljs.core.SeqIter.cljs$lang$ctorStr="cljs.core/SeqIter",cljs.core.SeqIter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/SeqIter")},cljs.core.__GT_SeqIter=function(r,l){return new cljs.core.SeqIter(r,l)},cljs.core.seq_iter=function(r){return new cljs.core.SeqIter(cljs.core.INIT,r)},cljs.core.iter=function(r){if(null==r)return cljs.core.nil_iter();if("string"==typeof r)return cljs.core.string_iter(r);if(cljs.core.array_QMARK_(r))return cljs.core.array_iter(r);if(cljs.core.truth_(cljs.core.iterable_QMARK_(r)))return cljs.core._iterator(r);if(cljs.core.seqable_QMARK_(r))return cljs.core.seq_iter(r);throw Error([cljs.core.str("Cannot create iterator from "),cljs.core.str(r)].join(""))},cljs.core.lazy_transformer=function(r){return new cljs.core.LazyTransformer(r,null,null,null)},cljs.core.Stepper=function(r,l){this.xform=r,this.iter=l},cljs.core.Stepper.prototype.step=function(r){for(var l=this;;){if(cljs.core.truth_(function(){var e=null!=r.stepper;return e?l.iter.hasNext():e}())){if(!cljs.core.reduced_QMARK_(function(){var e=l.iter.next();return l.xform.cljs$core$IFn$_invoke$arity$2?l.xform.cljs$core$IFn$_invoke$arity$2(r,e):l.xform.call(null,r,e)}()))continue;null!=r.rest&&(r.rest.stepper=null)}break}return null==r.stepper?null:l.xform.cljs$core$IFn$_invoke$arity$1?l.xform.cljs$core$IFn$_invoke$arity$1(r):l.xform.call(null,r)},cljs.core.Stepper.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"iter","iter",-1346195486,null)],null)},cljs.core.Stepper.cljs$lang$type=!0,cljs.core.Stepper.cljs$lang$ctorStr="cljs.core/Stepper",cljs.core.Stepper.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Stepper")},cljs.core.__GT_Stepper=function(r,l){return new cljs.core.Stepper(r,l)},cljs.core.stepper=function(r,l){var e=function(){var r=null,l=function(r){return(cljs.core.reduced_QMARK_(r)?cljs.core.deref(r):r).stepper=null,r},e=function(r,l){return r.first=l,r.rest=cljs.core.lazy_transformer(r.stepper),r.stepper=null,r.rest},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}();return new cljs.core.Stepper(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),l)},cljs.core.MultiStepper=function(r,l,e){this.xform=r,this.iters=l,this.nexts=e},cljs.core.MultiStepper.prototype.hasNext=function(){for(var r=cljs.core.seq(this.iters);;){
if(null==r)return!0;var l=cljs.core.first(r);if(cljs.core.not(l.hasNext()))return!1;r=cljs.core.next(r)}},cljs.core.MultiStepper.prototype.next=function(){for(var r=this.iters.length,l=0;l<r;)this.nexts[l]=this.iters[l].next(),l+=1;return cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2(this.nexts,0)},cljs.core.MultiStepper.prototype.step=function(r){for(var l=this;;){if(cljs.core.truth_(function(){var e=null!=r.stepper;return e?l.hasNext():e}())){if(!cljs.core.reduced_QMARK_(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(this.xform,cljs.core.cons(r,l.next()))))continue;null!=r.rest&&(r.rest.stepper=null)}break}return null==r.stepper?null:this.xform.cljs$core$IFn$_invoke$arity$1?this.xform.cljs$core$IFn$_invoke$arity$1(r):this.xform.call(null,r)},cljs.core.MultiStepper.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"iters","iters",719353031,null),new cljs.core.Symbol(null,"nexts","nexts",-1683579407,null)],null)},cljs.core.MultiStepper.cljs$lang$type=!0,cljs.core.MultiStepper.cljs$lang$ctorStr="cljs.core/MultiStepper",cljs.core.MultiStepper.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/MultiStepper")},cljs.core.__GT_MultiStepper=function(r,l,e){return new cljs.core.MultiStepper(r,l,e)},cljs.core.multi_stepper=function(){switch(arguments.length){case 2:return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(r,l,Array(l.length))},cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=function(){var r=null,l=function(r){return r=cljs.core.reduced_QMARK_(r)?cljs.core.deref(r):r,r.stepper=null,r},e=function(r,l){return r.first=l,r.rest=cljs.core.lazy_transformer(r.stepper),r.stepper=null,r.rest},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}();return new cljs.core.MultiStepper(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),l,e)},cljs.core.multi_stepper.cljs$lang$maxFixedArity=3,cljs.core.LazyTransformer=function(r,l,e,c){this.stepper=r,this.first=l,this.rest=e,this.meta=c,this.cljs$lang$protocol_mask$partition0$=31719628,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.LazyTransformer.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.LazyTransformer(this.stepper,this.first,this.rest,l)},cljs.core.LazyTransformer.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,cljs.core._seq(this))},cljs.core.LazyTransformer.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.List.EMPTY},cljs.core.LazyTransformer.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return null!=cljs.core._seq(this)?cljs.core.equiv_sequential(this,l):cljs.core.sequential_QMARK_(l)&&null==cljs.core.seq(l)},cljs.core.LazyTransformer.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.LazyTransformer.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return null!=this.stepper&&this.stepper.step(this),null==this.rest?null:this},cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_first$arity$1=function(r){return null!=this.stepper&&cljs.core._seq(this),null==this.rest?null:this.first},cljs.core.LazyTransformer.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return null!=this.stepper&&cljs.core._seq(this),null==this.rest?cljs.core.List.EMPTY:this.rest},cljs.core.LazyTransformer.prototype.cljs$core$INext$_next$arity$1=function(r){return null!=this.stepper&&cljs.core._seq(this),null==this.rest?null:cljs.core._seq(this.rest)},cljs.core.LazyTransformer.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"stepper","stepper",1159163296,null),new cljs.core.Symbol(null,"first","first",996428481,null),new cljs.core.Symbol(null,"rest","rest",398835108,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null)],null)},cljs.core.LazyTransformer.cljs$lang$type=!0,cljs.core.LazyTransformer.cljs$lang$ctorStr="cljs.core/LazyTransformer",cljs.core.LazyTransformer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/LazyTransformer")},cljs.core.__GT_LazyTransformer=function(r,l,e,c){return new cljs.core.LazyTransformer(r,l,e,c)},cljs.core.LazyTransformer.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.LazyTransformer.create=function(r,l){return new cljs.core.LazyTransformer(cljs.core.stepper(r,cljs.core.iter(l)),null,null,null)},cljs.core.LazyTransformer.createMulti=function(r,l){for(var e=[],c=cljs.core.seq(l),t=null,n=0,s=0;;)if(s<n){var o=t.cljs$core$IIndexed$_nth$arity$2(null,s);e.push(cljs.core.iter(o)),s+=1}else{if(!(c=cljs.core.seq(c)))break;t=c,cljs.core.chunked_seq_QMARK_(t)?(c=cljs.core.chunk_first(t),s=cljs.core.chunk_rest(t),t=c,n=cljs.core.count(c),c=s):(c=cljs.core.first(t),e.push(cljs.core.iter(c)),c=cljs.core.next(t),t=null,n=0),s=0}return new cljs.core.LazyTransformer(cljs.core.multi_stepper.cljs$core$IFn$_invoke$arity$3(r,e,Array(e.length)),null,null,null)},cljs.core.sequence=function(){switch(arguments.length){case 1:return cljs.core.sequence.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.sequence.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.seq_QMARK_(r)?r:(r=cljs.core.seq(r))?r:cljs.core.List.EMPTY},cljs.core.sequence.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.LazyTransformer.create(r,l)},cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.LazyTransformer.createMulti(r,cljs.core.to_array(cljs.core.cons(l,e)))},cljs.core.sequence.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.sequence.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.sequence.cljs$lang$maxFixedArity=2,cljs.core.every_QMARK_=function(r,l){for(;;){if(null==cljs.core.seq(l))return!0;if(!cljs.core.truth_(function(){var e=cljs.core.first(l);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)}()))return!1;var e=r,c=cljs.core.next(l);r=e,l=c}},cljs.core.not_every_QMARK_=function(r,l){return!cljs.core.every_QMARK_(r,l)},cljs.core.some=function(r,l){for(;;){if(!cljs.core.seq(l))return null;var e;if(e=cljs.core.first(l),e=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(e))return e;e=r;var c=cljs.core.next(l);r=e,l=c}},cljs.core.not_any_QMARK_=function(r,l){return cljs.core.not(cljs.core.some(r,l))},cljs.core.even_QMARK_=function(r){if(cljs.core.integer_QMARK_(r))return 0==(1&r);throw Error([cljs.core.str("Argument must be an integer: "),cljs.core.str(r)].join(""))},cljs.core.odd_QMARK_=function(r){return!cljs.core.even_QMARK_(r)},cljs.core.complement=function(r){return function(){var l=null,e=function(){return cljs.core.not(r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null))},c=function(l){return cljs.core.not(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l))},t=function(l,e){return cljs.core.not(r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e))},n=function(){var l=function(l,e,c){return cljs.core.not(cljs.core.apply.cljs$core$IFn$_invoke$arity$4(r,l,e,c))},e=function(r,e,c){var t=null;if(2<arguments.length){for(var t=0,n=Array(arguments.length-2);t<n.length;)n[t]=arguments[t+2],++t;t=new cljs.core.IndexedSeq(n,0)}return l.call(this,r,e,t)};return e.cljs$lang$maxFixedArity=2,e.cljs$lang$applyTo=function(r){var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),l(e,c,r)},e.cljs$core$IFn$_invoke$arity$variadic=l,e}(),l=function(r,l,s){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r);case 2:return t.call(this,r,l);default:var o=null;if(2<arguments.length){for(var o=0,a=Array(arguments.length-2);o<a.length;)a[o]=arguments[o+2],++o;o=new cljs.core.IndexedSeq(a,0)}return n.cljs$core$IFn$_invoke$arity$variadic(r,l,o)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=2,l.cljs$lang$applyTo=n.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l.cljs$core$IFn$_invoke$arity$2=t,l.cljs$core$IFn$_invoke$arity$variadic=n.cljs$core$IFn$_invoke$arity$variadic,l}()},cljs.core.constantly=function(r){return function(){var l=function(l){if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;new cljs.core.IndexedSeq(c,0)}return r};return l.cljs$lang$maxFixedArity=0,l.cljs$lang$applyTo=function(l){return cljs.core.seq(l),r},l.cljs$core$IFn$_invoke$arity$variadic=function(l){return r},l}()},cljs.core.comp=function(){switch(arguments.length){case 0:return cljs.core.comp.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.comp.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.comp.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.comp.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.identity},cljs.core.comp.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.comp.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(){var e=l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},t=function(e){return e=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},n=function(e,c){var t;return t=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t)},s=function(e,c,t){return e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(e,c,t):l.call(null,e,c,t),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},o=function(){var e=function(e,c,t,n){return e=cljs.core.apply.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),e=function(r,l,e,a){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=o.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e.cljs$core$IFn$_invoke$arity$3=s,e.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.comp.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(){var c;return c=e.cljs$core$IFn$_invoke$arity$0?e.cljs$core$IFn$_invoke$arity$0():e.call(null),c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c)},n=function(c){return c=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c),c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c)},s=function(c,t){var n;return n=e.cljs$core$IFn$_invoke$arity$2?e.cljs$core$IFn$_invoke$arity$2(c,t):e.call(null,c,t),n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(n):l.call(null,n),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(n):r.call(null,n)},o=function(c,t,n){return c=e.cljs$core$IFn$_invoke$arity$3?e.cljs$core$IFn$_invoke$arity$3(c,t,n):e.call(null,c,t,n),c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c)},a=function(){var c=function(c,t,n,s){return c=cljs.core.apply.cljs$core$IFn$_invoke$arity$5(e,c,t,n,s),c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c)},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),c=function(r,l,e,c){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l);case 3:return o.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return a.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=a.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c.cljs$core$IFn$_invoke$arity$3=o,c.cljs$core$IFn$_invoke$arity$variadic=a.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return function(r){return function(){var l=function(l){l=cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.first(r),l);for(var e=cljs.core.next(r);;){if(!e)return l;l=cljs.core.first(e).call(null,l),e=cljs.core.next(e)}},e=function(r){var e=null;if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;e=new cljs.core.IndexedSeq(c,0)}return l.call(this,e)};return e.cljs$lang$maxFixedArity=0,e.cljs$lang$applyTo=function(r){return r=cljs.core.seq(r),l(r)},e.cljs$core$IFn$_invoke$arity$variadic=l,e}()}(cljs.core.reverse(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(r,l,e,c)))},cljs.core.comp.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.comp.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.comp.cljs$lang$maxFixedArity=3,cljs.core.partial=function(){switch(arguments.length){case 1:return cljs.core.partial.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.partial.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.partial.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.partial.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,4),0);return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],r)}},cljs.core.partial.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.partial.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)},t=function(e){return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e)},n=function(e,c){return r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(l,e,c):r.call(null,l,e,c)},s=function(e,c,t){return r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(l,e,c,t):r.call(null,l,e,c,t)},o=function(){var e=function(e,c,t,n){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(r,l,e,c,t,cljs.core.array_seq([n],0))},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),e=function(r,l,e,a){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=o.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e.cljs$core$IFn$_invoke$arity$3=s,e.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.partial.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(){return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e)},n=function(c){return r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(l,e,c):r.call(null,l,e,c)},s=function(c,t){return r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(l,e,c,t):r.call(null,l,e,c,t)},o=function(c,t,n){return r.cljs$core$IFn$_invoke$arity$5?r.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):r.call(null,l,e,c,t,n)},a=function(){var c=function(c,t,n,s){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(r,l,e,c,t,cljs.core.array_seq([n,s],0))},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),c=function(r,l,e,c){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l);case 3:return o.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return a.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=a.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c.cljs$core$IFn$_invoke$arity$3=o,c.cljs$core$IFn$_invoke$arity$variadic=a.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.partial.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return function(){var t=null,n=function(){return r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(l,e,c):r.call(null,l,e,c)},s=function(t){return r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(l,e,c,t):r.call(null,l,e,c,t)},o=function(t,n){return r.cljs$core$IFn$_invoke$arity$5?r.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):r.call(null,l,e,c,t,n)},a=function(t,n,s){return r.cljs$core$IFn$_invoke$arity$6?r.cljs$core$IFn$_invoke$arity$6(l,e,c,t,n,s):r.call(null,l,e,c,t,n,s)},i=function(){var t=function(t,n,s,o){return cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(r,l,e,c,t,cljs.core.array_seq([n,s,o],0))},n=function(r,l,e,c){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return t.call(this,r,l,e,n)};return n.cljs$lang$maxFixedArity=3,n.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),t(l,e,c,r)},n.cljs$core$IFn$_invoke$arity$variadic=t,n}(),t=function(r,l,e,c){switch(arguments.length){case 0:return n.call(this);case 1:return s.call(this,r);case 2:return o.call(this,r,l);case 3:return a.call(this,r,l,e);default:var t=null;if(3<arguments.length){for(var t=0,u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new cljs.core.IndexedSeq(u,0)}return i.cljs$core$IFn$_invoke$arity$variadic(r,l,e,t)}throw Error("Invalid arity: "+arguments.length)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=i.cljs$lang$applyTo,t.cljs$core$IFn$_invoke$arity$0=n,t.cljs$core$IFn$_invoke$arity$1=s,t.cljs$core$IFn$_invoke$arity$2=o,t.cljs$core$IFn$_invoke$arity$3=a,t.cljs$core$IFn$_invoke$arity$variadic=i.cljs$core$IFn$_invoke$arity$variadic,t}()},cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t){return function(){var n=function(n){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,l,e,c,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(t,n))},s=function(r){var l=null;if(0<arguments.length){for(var l=0,e=Array(arguments.length-0);l<e.length;)e[l]=arguments[l+0],++l;l=new cljs.core.IndexedSeq(e,0)}return n.call(this,l)};return s.cljs$lang$maxFixedArity=0,s.cljs$lang$applyTo=function(r){return r=cljs.core.seq(r),n(r)},s.cljs$core$IFn$_invoke$arity$variadic=n,s}()},cljs.core.partial.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),t=cljs.core.next(t);return cljs.core.partial.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t)},cljs.core.partial.cljs$lang$maxFixedArity=4,cljs.core.fnil=function(){switch(arguments.length){case 2:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.fnil.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.fnil.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(e){return e=null==e?l:e,r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},t=function(e,c){var t=null==e?l:e;return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(t,c):r.call(null,t,c)},n=function(e,c,t){return e=null==e?l:e,r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(e,c,t):r.call(null,e,c,t)},s=function(){var e=function(e,c,t,n){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,null==e?l:e,c,t,n)},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),e=function(r,l,e,o){switch(arguments.length){case 1:return c.call(this,r);case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,e);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,e,a)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=s.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$1=c,e.cljs$core$IFn$_invoke$arity$2=t,e.cljs$core$IFn$_invoke$arity$3=n,e.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.fnil.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(c,t){var n=null==c?l:c,s=null==t?e:t;return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s)},n=function(c,t,n){return c=null==c?l:c,t=null==t?e:t,r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(c,t,n):r.call(null,c,t,n)},s=function(){var c=function(c,t,n,s){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,null==c?l:c,null==t?e:t,n,s)},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),c=function(r,l,e,c){switch(arguments.length){case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,e);default:var o=null;if(3<arguments.length){for(var o=0,a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new cljs.core.IndexedSeq(a,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,e,o)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=s.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$2=t,c.cljs$core$IFn$_invoke$arity$3=n,c.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.fnil.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return function(){var t=null,n=function(c,t){var n=null==c?l:c,s=null==t?e:t;return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s)},s=function(t,n,s){return t=null==t?l:t,n=null==n?e:n,s=null==s?c:s,r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(t,n,s):r.call(null,t,n,s)},o=function(){var t=function(t,n,s,o){return cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,null==t?l:t,null==n?e:n,null==s?c:s,o)},n=function(r,l,e,c){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return t.call(this,r,l,e,n)};return n.cljs$lang$maxFixedArity=3,n.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),t(l,e,c,r)},n.cljs$core$IFn$_invoke$arity$variadic=t,n}(),t=function(r,l,e,c){switch(arguments.length){case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var t=null;if(3<arguments.length){for(var t=0,a=Array(arguments.length-3);t<a.length;)a[t]=arguments[t+3],++t;t=new cljs.core.IndexedSeq(a,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,t)}throw Error("Invalid arity: "+arguments.length)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=o.cljs$lang$applyTo,t.cljs$core$IFn$_invoke$arity$2=n,t.cljs$core$IFn$_invoke$arity$3=s,t.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,t}()},cljs.core.fnil.cljs$lang$maxFixedArity=4,cljs.core.map_indexed=function(){switch(arguments.length){case 1:return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){var n;return n=cljs.core._vreset_BANG_(e,cljs.core._deref(e)+1),n=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,t):r.call(null,n,t),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n)},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1?cljs.core.volatile_BANG_.cljs$core$IFn$_invoke$arity$1(-1):cljs.core.volatile_BANG_.call(null,-1))}},cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$2=function(r,l){return function l(e,c){return new cljs.core.LazySeq(null,function(){var t=cljs.core.seq(c);if(t){if(cljs.core.chunked_seq_QMARK_(t)){for(var n=cljs.core.chunk_first(t),s=cljs.core.count(n),o=cljs.core.chunk_buffer(s),a=0;a<s;)cljs.core.chunk_append(o,function(){var l=e+a,c=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(n,a);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,c):r.call(null,l,c)}()),a+=1;return cljs.core.chunk_cons(cljs.core.chunk(o),l(e+s,cljs.core.chunk_rest(t)))}return cljs.core.cons(function(){var l=cljs.core.first(t);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,l):r.call(null,e,l)}(),l(e+1,cljs.core.rest(t)))}return null},null,null)}(0,l)},cljs.core.map_indexed.cljs$lang$maxFixedArity=2,cljs.core.keep=function(){switch(arguments.length){case 1:return cljs.core.keep.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.keep.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.keep.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){var t;return t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),null==t?e:l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,t):l.call(null,e,t)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}},
cljs.core.keep.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);if(e){if(cljs.core.chunked_seq_QMARK_(e)){for(var c=cljs.core.chunk_first(e),t=cljs.core.count(c),n=cljs.core.chunk_buffer(t),s=0;s<t;){var o=function(){var l=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,s);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}();null!=o&&cljs.core.chunk_append(n,o),s+=1}return cljs.core.chunk_cons(cljs.core.chunk(n),cljs.core.keep.cljs$core$IFn$_invoke$arity$2(r,cljs.core.chunk_rest(e)))}return t=function(){var l=cljs.core.first(e);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}(),null==t?cljs.core.keep.cljs$core$IFn$_invoke$arity$2(r,cljs.core.rest(e)):cljs.core.cons(t,cljs.core.keep.cljs$core$IFn$_invoke$arity$2(r,cljs.core.rest(e)))}return null},null,null)},cljs.core.keep.cljs$lang$maxFixedArity=2,cljs.core.Atom=function(r,l,e,c){this.state=r,this.meta=l,this.validator=e,this.watches=c,this.cljs$lang$protocol_mask$partition1$=16386,this.cljs$lang$protocol_mask$partition0$=6455296},cljs.core.Atom.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Atom.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return this===l},cljs.core.Atom.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return this.state},cljs.core.Atom.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.Atom.prototype.cljs$core$IWatchable$_notify_watches$arity$3=function(r,l,e){for(var c=cljs.core.seq(this.watches),t=null,n=0,s=0;;)if(s<n){r=t.cljs$core$IIndexed$_nth$arity$2(null,s);var o=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,0,null);r=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,1,null);var a=l,i=e;r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(o,this,a,i):r.call(null,o,this,a,i),s+=1}else{if(!(r=cljs.core.seq(c)))return null;c=r,cljs.core.chunked_seq_QMARK_(c)?(t=cljs.core.chunk_first(c),c=cljs.core.chunk_rest(c),r=t,n=cljs.core.count(t),t=r):(r=cljs.core.first(c),o=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,0,null),r=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,1,null),t=o,n=l,s=e,r.cljs$core$IFn$_invoke$arity$4?r.cljs$core$IFn$_invoke$arity$4(t,this,n,s):r.call(null,t,this,n,s),c=cljs.core.next(c),t=null,n=0),s=0}},cljs.core.Atom.prototype.cljs$core$IWatchable$_add_watch$arity$3=function(r,l,e){return this.watches=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(this.watches,l,e),this},cljs.core.Atom.prototype.cljs$core$IWatchable$_remove_watch$arity$2=function(r,l){return this.watches=cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(this.watches,l)},cljs.core.Atom.prototype.cljs$core$IHash$_hash$arity$1=function(r){return goog.getUid(this)},cljs.core.Atom.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"state","state",-348086572,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"validator","validator",-325659154,null),new cljs.core.Symbol(null,"watches","watches",1367433992,null)],null)},cljs.core.Atom.cljs$lang$type=!0,cljs.core.Atom.cljs$lang$ctorStr="cljs.core/Atom",cljs.core.Atom.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Atom")},cljs.core.__GT_Atom=function(r,l,e,c){return new cljs.core.Atom(r,l,e,c)},cljs.core.atom=function(){switch(arguments.length){case 1:return cljs.core.atom.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},cljs.core.atom.cljs$core$IFn$_invoke$arity$1=function(r){return new cljs.core.Atom(r,null,null,null)},cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic=function(r,l){var e=cljs.core.seq_QMARK_(l)?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,l):l,c=cljs.core.get.cljs$core$IFn$_invoke$arity$2(e,new cljs.core.Keyword(null,"meta","meta",1499536964)),e=cljs.core.get.cljs$core$IFn$_invoke$arity$2(e,new cljs.core.Keyword(null,"validator","validator",-1966190681));return new cljs.core.Atom(r,c,e,null)},cljs.core.atom.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.atom.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.atom.cljs$lang$maxFixedArity=1,cljs.core.reset_BANG_=function(r,l){if(r instanceof cljs.core.Atom){var e=r.state;return r.state=l,null!=r.watches&&cljs.core._notify_watches(r,e,l),l}return cljs.core._reset_BANG_(r,l)},cljs.core.swap_BANG_=function(){switch(arguments.length){case 2:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,4),0);return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],r)}},cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return r instanceof cljs.core.Atom?cljs.core.reset_BANG_(r,function(){var e=r.state;return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e)}()):cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r instanceof cljs.core.Atom?cljs.core.reset_BANG_(r,function(){var c=r.state;return l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,e):l.call(null,c,e)}()):cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$3(r,l,e)},cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return r instanceof cljs.core.Atom?cljs.core.reset_BANG_(r,function(){var t=r.state;return l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(t,e,c):l.call(null,t,e,c)}()):cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$4(r,l,e,c)},cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t){return r instanceof cljs.core.Atom?cljs.core.reset_BANG_(r,cljs.core.apply.cljs$core$IFn$_invoke$arity$5(l,r.state,e,c,t)):cljs.core._swap_BANG_.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t)},cljs.core.swap_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),t=cljs.core.next(t);return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t)},cljs.core.swap_BANG_.cljs$lang$maxFixedArity=4;cljs.core.compare_and_set_BANG_=function(r,l,e){return!!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r.cljs$core$IDeref$_deref$arity$1(null),l)&&(cljs.core.reset_BANG_(r,e),!0)},cljs.core.set_validator_BANG_=function(r,l){return r.validator=l},cljs.core.get_validator=function(r){return r.validator},cljs.core.Volatile=function(r){this.state=r,this.cljs$lang$protocol_mask$partition0$=32768,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.Volatile.prototype.cljs$core$IVolatile$=!0,cljs.core.Volatile.prototype.cljs$core$IVolatile$_vreset_BANG_$arity$2=function(r,l){return this.state=l},cljs.core.Volatile.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return this.state},cljs.core.Volatile.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"state","state",-348086572,null)],null)},cljs.core.Volatile.cljs$lang$type=!0,cljs.core.Volatile.cljs$lang$ctorStr="cljs.core/Volatile",cljs.core.Volatile.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Volatile")},cljs.core.__GT_Volatile=function(r){return new cljs.core.Volatile(r)},cljs.core.volatile_BANG_=function(r){return new cljs.core.Volatile(r)},cljs.core.volatile_QMARK_=function(r){return r instanceof cljs.core.Volatile},cljs.core.vreset_BANG_=function(r,l){return cljs.core._vreset_BANG_(r,l)},cljs.core.keep_indexed=function(){switch(arguments.length){case 1:return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){var n;return n=cljs.core._vreset_BANG_(e,cljs.core._deref(e)+1),n=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,t):r.call(null,n,t),null==n?c:l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n)},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.volatile_BANG_(-1))}},cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2=function(r,l){return function l(e,c){return new cljs.core.LazySeq(null,function(){var t=cljs.core.seq(c);if(t){if(cljs.core.chunked_seq_QMARK_(t)){for(var n=cljs.core.chunk_first(t),s=cljs.core.count(n),o=cljs.core.chunk_buffer(s),a=0;a<s;){var i=function(){var l=e+a,c=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(n,a);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,c):r.call(null,l,c)}();null!=i&&cljs.core.chunk_append(o,i),a+=1}return cljs.core.chunk_cons(cljs.core.chunk(o),l(e+s,cljs.core.chunk_rest(t)))}return s=function(){var l=cljs.core.first(t);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,l):r.call(null,e,l)}(),null==s?l(e+1,cljs.core.rest(t)):cljs.core.cons(s,l(e+1,cljs.core.rest(t)))}return null},null,null)}(0,l)},cljs.core.keep_indexed.cljs$lang$maxFixedArity=2,cljs.core.every_pred=function(){switch(arguments.length){case 1:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.every_pred.cljs$core$IFn$_invoke$arity$1=function(r){return function(){var l=null,e=function(l){return cljs.core.boolean$(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l))},c=function(l,e){return cljs.core.boolean$(function(){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),cljs.core.truth_(c)?r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e):c}())},t=function(l,e,c){return cljs.core.boolean$(function(){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l);return cljs.core.truth_(t)?(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(t)?r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c):t):t}())},n=function(){var e=function(e,c,t,n){return cljs.core.boolean$(function(){var s=l.cljs$core$IFn$_invoke$arity$3(e,c,t);return cljs.core.truth_(s)?cljs.core.every_QMARK_(r,n):s}())},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),l=function(r,l,s,o){switch(arguments.length){case 0:return!0;case 1:return e.call(this,r);case 2:return c.call(this,r,l);case 3:return t.call(this,r,l,s);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return n.cljs$core$IFn$_invoke$arity$variadic(r,l,s,a)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=n.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=function(){return!0},l.cljs$core$IFn$_invoke$arity$1=e,l.cljs$core$IFn$_invoke$arity$2=c,l.cljs$core$IFn$_invoke$arity$3=t,l.cljs$core$IFn$_invoke$arity$variadic=n.cljs$core$IFn$_invoke$arity$variadic,l}()},cljs.core.every_pred.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(e){return cljs.core.boolean$(function(){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(c)?l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e):c}())},t=function(e,c){return cljs.core.boolean$(function(){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e);return cljs.core.truth_(t)&&(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),cljs.core.truth_(t))?(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),cljs.core.truth_(t)?l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c):t):t}())},n=function(e,c,t){return cljs.core.boolean$(function(){var n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e);return cljs.core.truth_(n)&&(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),cljs.core.truth_(n)&&(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(n)&&(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),cljs.core.truth_(n))))?(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(n)?l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t):n):n}())},s=function(){var c=function(c,t,n,s){return cljs.core.boolean$(function(){var o=e.cljs$core$IFn$_invoke$arity$3(c,t,n);return cljs.core.truth_(o)?cljs.core.every_QMARK_(function(e){return function(e){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(c)?l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e):c}}(),s):o}())},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),e=function(r,l,e,o){switch(arguments.length){case 0:return!0;case 1:return c.call(this,r);case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,e);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,e,a)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=s.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=function(){return!0},e.cljs$core$IFn$_invoke$arity$1=c,e.cljs$core$IFn$_invoke$arity$2=t,e.cljs$core$IFn$_invoke$arity$3=n,e.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.every_pred.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(c){return cljs.core.boolean$(function(){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(t)?(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(t)?e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c):t):t}())},n=function(c,t){return cljs.core.boolean$(function(){var n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(n)&&(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(n)&&(n=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c),cljs.core.truth_(n)&&(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(n))))?(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t),cljs.core.truth_(n)?e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(t):e.call(null,t):n):n}())},s=function(c,t,n){return cljs.core.boolean$(function(){var s=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(s)&&(s=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(s)&&(s=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c),cljs.core.truth_(s)&&(s=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(s)&&(s=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t),cljs.core.truth_(s)&&(s=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(t):e.call(null,t),cljs.core.truth_(s)&&(s=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(n):r.call(null,n),cljs.core.truth_(s)))))))?(s=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(n):l.call(null,n),cljs.core.truth_(s)?e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(n):e.call(null,n):s):s}())},o=function(){var t=function(t,n,s,o){return cljs.core.boolean$(function(){var a=c.cljs$core$IFn$_invoke$arity$3(t,n,s);return cljs.core.truth_(a)?cljs.core.every_QMARK_(function(c){return function(c){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(t)?(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(t)?e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c):t):t}}(),o):a}())},n=function(r,l,e,c){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return t.call(this,r,l,e,n)};return n.cljs$lang$maxFixedArity=3,n.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),t(l,e,c,r)},n.cljs$core$IFn$_invoke$arity$variadic=t,n}(),c=function(r,l,e,c){switch(arguments.length){case 0:return!0;case 1:return t.call(this,r);case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,a)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=o.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$0=function(){return!0},c.cljs$core$IFn$_invoke$arity$1=t,c.cljs$core$IFn$_invoke$arity$2=n,c.cljs$core$IFn$_invoke$arity$3=s,c.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return function(r){return function(){var l=null,e=function(l){return cljs.core.every_QMARK_(function(r){return function(r){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}}(),r)},c=function(l,e){return cljs.core.every_QMARK_(function(r){return function(r){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),cljs.core.truth_(c)?r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e):c}}(),r)},t=function(l,e,c){return cljs.core.every_QMARK_(function(r){return function(r){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l);return cljs.core.truth_(t)?(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(t)?r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c):t):t}}(),r)},n=function(){var e=function(e,c,t,n){return cljs.core.boolean$(function(){var s=l.cljs$core$IFn$_invoke$arity$3(e,c,t);return cljs.core.truth_(s)?cljs.core.every_QMARK_(function(r,l){return function(r){return cljs.core.every_QMARK_(r,n)}}(),r):s}())},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),l=function(r,l,s,o){switch(arguments.length){case 0:return!0;case 1:return e.call(this,r);case 2:return c.call(this,r,l);case 3:return t.call(this,r,l,s);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return n.cljs$core$IFn$_invoke$arity$variadic(r,l,s,a)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=n.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=function(){return!0},l.cljs$core$IFn$_invoke$arity$1=e,l.cljs$core$IFn$_invoke$arity$2=c,l.cljs$core$IFn$_invoke$arity$3=t,l.cljs$core$IFn$_invoke$arity$variadic=n.cljs$core$IFn$_invoke$arity$variadic,l}()}(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(r,l,e,c))},cljs.core.every_pred.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.every_pred.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.every_pred.cljs$lang$maxFixedArity=3,cljs.core.some_fn=function(){switch(arguments.length){case 1:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.some_fn.cljs$core$IFn$_invoke$arity$1=function(r){return function(){var l=null,e=function(l){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)},c=function(l,e){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),cljs.core.truth_(c)?c:r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},t=function(l,e,c){return l=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),cljs.core.truth_(l)?l:(e=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(e)?e:r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))},n=function(){var e=function(e,c,t,n){return e=l.cljs$core$IFn$_invoke$arity$3(e,c,t),cljs.core.truth_(e)?e:cljs.core.some(r,n)},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),l=function(r,l,s,o){switch(arguments.length){case 0:return null;case 1:return e.call(this,r);case 2:return c.call(this,r,l);case 3:return t.call(this,r,l,s);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return n.cljs$core$IFn$_invoke$arity$variadic(r,l,s,a)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=n.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=function(){return null},l.cljs$core$IFn$_invoke$arity$1=e,l.cljs$core$IFn$_invoke$arity$2=c,l.cljs$core$IFn$_invoke$arity$3=t,l.cljs$core$IFn$_invoke$arity$variadic=n.cljs$core$IFn$_invoke$arity$variadic,l}()},cljs.core.some_fn.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(e){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(c)?c:l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e)},t=function(e,c){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e);return cljs.core.truth_(t)?t:(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),cljs.core.truth_(t)?t:(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),cljs.core.truth_(t)?t:l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c)))},n=function(e,c,t){var n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e);return cljs.core.truth_(n)?n:(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),cljs.core.truth_(n)?n:(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(n)?n:(e=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),cljs.core.truth_(e)?e:(c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(c)?c:l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t)))))},s=function(){var c=function(c,t,n,s){return c=e.cljs$core$IFn$_invoke$arity$3(c,t,n),cljs.core.truth_(c)?c:cljs.core.some(function(e){return function(e){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(c)?c:l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e)}}(),s)},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),e=function(r,l,e,o){switch(arguments.length){case 0:return null;case 1:return c.call(this,r);case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,e);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,e,a)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=s.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=function(){return null},e.cljs$core$IFn$_invoke$arity$1=c,e.cljs$core$IFn$_invoke$arity$2=t,e.cljs$core$IFn$_invoke$arity$3=n,e.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.some_fn.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(c){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(t)?t:(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(t)?t:e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c))},n=function(c,t){var n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(n)?n:(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(n)?n:(n=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c),cljs.core.truth_(n)?n:(n=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(n)?n:(n=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t),cljs.core.truth_(n)?n:e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(t):e.call(null,t)))))},s=function(c,t,n){var s=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(s)?s:(s=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(s)?s:(c=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c),cljs.core.truth_(c)?c:(c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t),cljs.core.truth_(c)?c:(c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(t):l.call(null,t),cljs.core.truth_(c)?c:(t=e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(t):e.call(null,t),cljs.core.truth_(t)?t:(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(n):r.call(null,n),cljs.core.truth_(t)?t:(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(n):l.call(null,n),cljs.core.truth_(t)?t:e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(n):e.call(null,n))))))))},o=function(){var t=function(t,n,s,o){return t=c.cljs$core$IFn$_invoke$arity$3(t,n,s),cljs.core.truth_(t)?t:cljs.core.some(function(c){return function(c){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c);return cljs.core.truth_(t)?t:(t=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),cljs.core.truth_(t)?t:e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c))}}(),o)},n=function(r,l,e,c){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return t.call(this,r,l,e,n)};return n.cljs$lang$maxFixedArity=3,n.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),t(l,e,c,r)},n.cljs$core$IFn$_invoke$arity$variadic=t,n}(),c=function(r,l,e,c){switch(arguments.length){case 0:return null;case 1:return t.call(this,r);case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,a)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=o.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$0=function(){return null},c.cljs$core$IFn$_invoke$arity$1=t,c.cljs$core$IFn$_invoke$arity$2=n,c.cljs$core$IFn$_invoke$arity$3=s,c.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return function(r){
return function(){var l=null,e=function(l){return cljs.core.some(function(r){return function(r){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}}(),r)},c=function(l,e){return cljs.core.some(function(r){return function(r){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),cljs.core.truth_(c)?c:r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)}}(),r)},t=function(l,e,c){return cljs.core.some(function(r){return function(r){var t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l);return cljs.core.truth_(t)?t:(t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.truth_(t)?t:r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))}}(),r)},n=function(){var e=function(e,c,t,n){return e=l.cljs$core$IFn$_invoke$arity$3(e,c,t),cljs.core.truth_(e)?e:cljs.core.some(function(r,l){return function(r){return cljs.core.some(r,n)}}(),r)},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),l=function(r,l,s,o){switch(arguments.length){case 0:return null;case 1:return e.call(this,r);case 2:return c.call(this,r,l);case 3:return t.call(this,r,l,s);default:var a=null;if(3<arguments.length){for(var a=0,i=Array(arguments.length-3);a<i.length;)i[a]=arguments[a+3],++a;a=new cljs.core.IndexedSeq(i,0)}return n.cljs$core$IFn$_invoke$arity$variadic(r,l,s,a)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=n.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=function(){return null},l.cljs$core$IFn$_invoke$arity$1=e,l.cljs$core$IFn$_invoke$arity$2=c,l.cljs$core$IFn$_invoke$arity$3=t,l.cljs$core$IFn$_invoke$arity$variadic=n.cljs$core$IFn$_invoke$arity$variadic,l}()}(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(r,l,e,c))},cljs.core.some_fn.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.some_fn.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.some_fn.cljs$lang$maxFixedArity=3,cljs.core.map=function(){switch(arguments.length){case 1:return cljs.core.map.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.map.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.map.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.map.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,4),0);return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],r)}},cljs.core.map.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){var t;return t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,t):l.call(null,e,t)},s=function(){var e=function(e,c,t){return c=cljs.core.apply.cljs$core$IFn$_invoke$arity$3(r,c,t),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c)},c=function(r,l,c){var t=null;if(2<arguments.length){for(var t=0,n=Array(arguments.length-2);t<n.length;)n[t]=arguments[t+2],++t;t=new cljs.core.IndexedSeq(n,0)}return e.call(this,r,l,t)};return c.cljs$lang$maxFixedArity=2,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),e=function(r,l,e){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l);default:var o=null;if(2<arguments.length){for(var o=0,a=Array(arguments.length-2);o<a.length;)a[o]=arguments[o+2],++o;o=new cljs.core.IndexedSeq(a,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,o)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=2,e.cljs$lang$applyTo=s.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,e}()}},cljs.core.map.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);if(e){if(cljs.core.chunked_seq_QMARK_(e)){for(var c=cljs.core.chunk_first(e),t=cljs.core.count(c),n=cljs.core.chunk_buffer(t),s=0;s<t;)cljs.core.chunk_append(n,function(){var l=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,s);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}()),s+=1;return cljs.core.chunk_cons(cljs.core.chunk(n),cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,cljs.core.chunk_rest(e)))}return cljs.core.cons(function(){var l=cljs.core.first(e);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,cljs.core.rest(e)))}return null},null,null)},cljs.core.map.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(l),t=cljs.core.seq(e);return c&&t?cljs.core.cons(function(){var l=cljs.core.first(c),e=cljs.core.first(t);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$3(r,cljs.core.rest(c),cljs.core.rest(t))):null},null,null)},cljs.core.map.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return new cljs.core.LazySeq(null,function(){var t=cljs.core.seq(l),n=cljs.core.seq(e),s=cljs.core.seq(c);return t&&n&&s?cljs.core.cons(function(){var l=cljs.core.first(t),e=cljs.core.first(n),c=cljs.core.first(s);return r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(l,e,c):r.call(null,l,e,c)}(),cljs.core.map.cljs$core$IFn$_invoke$arity$4(r,cljs.core.rest(t),cljs.core.rest(n),cljs.core.rest(s))):null},null,null)},cljs.core.map.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t){var n=function r(l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq,l);return cljs.core.every_QMARK_(cljs.core.identity,e)?cljs.core.cons(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,e),r(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest,e))):null},null,null)};return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(l){return function(l){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(r,l)}}(),n(cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(t,c,cljs.core.array_seq([e,l],0))))},cljs.core.map.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),t=cljs.core.next(t);return cljs.core.map.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t)},cljs.core.map.cljs$lang$maxFixedArity=4,cljs.core.take=function(){switch(arguments.length){case 1:return cljs.core.take.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.take.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.take.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(r){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){var t=cljs.core.deref(r),n=cljs.core._vreset_BANG_(r,cljs.core._deref(r)-1),t=0<t?l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c):e;return 0<n?t:cljs.core.ensure_reduced(t)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}(cljs.core.volatile_BANG_(r))}},cljs.core.take.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){if(0<r){var e=cljs.core.seq(l);return e?cljs.core.cons(cljs.core.first(e),cljs.core.take.cljs$core$IFn$_invoke$arity$2(r-1,cljs.core.rest(e))):null}return null},null,null)},cljs.core.take.cljs$lang$maxFixedArity=2,cljs.core.drop=function(){switch(arguments.length){case 1:return cljs.core.drop.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.drop.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(r){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){var t=cljs.core.deref(r);return cljs.core._vreset_BANG_(r,cljs.core._deref(r)-1),0<t?e:l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}(cljs.core.volatile_BANG_(r))}},cljs.core.drop.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(e){return function(){return e(r,l)}}(function(r,l){for(;;){var e=cljs.core.seq(l);if(!(0<r&&e))return e;var c=r-1,e=cljs.core.rest(e);r=c,l=e}}),null,null)},cljs.core.drop.cljs$lang$maxFixedArity=2,cljs.core.drop_last=function(){switch(arguments.length){case 1:return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.drop_last.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2(1,r)},cljs.core.drop_last.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.map.cljs$core$IFn$_invoke$arity$3(function(r,l){return r},l,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(r,l))},cljs.core.drop_last.cljs$lang$maxFixedArity=2,cljs.core.take_last=function(r,l){for(var e=cljs.core.seq(l),c=cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(r,l));;){if(!c)return e;e=cljs.core.next(e),c=cljs.core.next(c)}},cljs.core.drop_while=function(){switch(arguments.length){case 1:return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.drop_while.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){var n=cljs.core.deref(e);return cljs.core.truth_(cljs.core.truth_(n)?r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t):n)?c:(cljs.core.vreset_BANG_(e,null),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,t):l.call(null,c,t))},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.volatile_BANG_(!0))}},cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(e){return function(){return e(r,l)}}(function(r,l){for(;;){var e=cljs.core.seq(l);if(!cljs.core.truth_(function(){var l=e;return l?(l=cljs.core.first(e),r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)):l}()))return e;var c=r,t=cljs.core.rest(e);r=c,l=t}}),null,null)},cljs.core.drop_while.cljs$lang$maxFixedArity=2,cljs.core.cycle=function r(l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);return e?cljs.core.concat.cljs$core$IFn$_invoke$arity$2(e,r(e)):null},null,null)},cljs.core.split_at=function(r,l){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,l),cljs.core.drop.cljs$core$IFn$_invoke$arity$2(r,l)],null)},cljs.core.repeat=function(){switch(arguments.length){case 1:return cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.repeat.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.repeat.cljs$core$IFn$_invoke$arity$1=function(r){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(r,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(r))},null,null)},cljs.core.repeat.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(l))},cljs.core.repeat.cljs$lang$maxFixedArity=2,cljs.core.replicate=function(r,l){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(l))},cljs.core.repeatedly=function(){switch(arguments.length){case 1:return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1=function(r){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null),cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(r))},null,null)},cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,cljs.core.repeatedly.cljs$core$IFn$_invoke$arity$1(l))},cljs.core.repeatedly.cljs$lang$maxFixedArity=2,cljs.core.iterate=function r(l,e){return cljs.core.cons(e,new cljs.core.LazySeq(null,function(){var c;return c=l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e),r(l,c)},null,null))},cljs.core.interleave=function(){switch(arguments.length){case 2:return cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},cljs.core.interleave.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(r),c=cljs.core.seq(l);return e&&c?cljs.core.cons(cljs.core.first(e),cljs.core.cons(cljs.core.first(c),cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.rest(e),cljs.core.rest(c)))):null},null,null)},cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.seq,cljs.core.conj.cljs$core$IFn$_invoke$arity$variadic(e,l,cljs.core.array_seq([r],0)));return cljs.core.every_QMARK_(cljs.core.identity,c)?cljs.core.concat.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.first,c),cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.interleave,cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.rest,c))):null},null,null)},cljs.core.interleave.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.interleave.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.interleave.cljs$lang$maxFixedArity=2,cljs.core.interpose=function(){switch(arguments.length){case 1:return cljs.core.interpose.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.interpose.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){if(cljs.core.truth_(cljs.core.deref(e))){var n;return n=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,r):l.call(null,c,r),cljs.core.reduced_QMARK_(n)?n:l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(n,t):l.call(null,n,t)}return cljs.core.vreset_BANG_(e,!0),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,t):l.call(null,c,t)},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.volatile_BANG_(!1))}},cljs.core.interpose.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.drop.cljs$core$IFn$_invoke$arity$2(1,cljs.core.interleave.cljs$core$IFn$_invoke$arity$2(cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(r),l))},cljs.core.interpose.cljs$lang$maxFixedArity=2,cljs.core.flatten1=function(r){return function r(l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(l);return c?cljs.core.cons(cljs.core.first(c),r(cljs.core.rest(c),e)):cljs.core.seq(e)?r(cljs.core.first(e),cljs.core.rest(e)):null},null,null)}(null,r)},cljs.core.mapcat=function(){switch(arguments.length){case 1:return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},cljs.core.mapcat.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.map.cljs$core$IFn$_invoke$arity$1(r),cljs.core.cat)},cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic=function(r,l){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.concat,cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.map,r,l))},cljs.core.mapcat.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.mapcat.cljs$lang$maxFixedArity=1,cljs.core.filter=function(){switch(arguments.length){case 1:return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.filter.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){return cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))?l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c):e},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}},cljs.core.filter.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);if(e){if(cljs.core.chunked_seq_QMARK_(e)){for(var c=cljs.core.chunk_first(e),t=cljs.core.count(c),n=cljs.core.chunk_buffer(t),s=0;s<t;)cljs.core.truth_(function(){var l=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,s);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}())&&cljs.core.chunk_append(n,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(c,s)),s+=1;return cljs.core.chunk_cons(cljs.core.chunk(n),cljs.core.filter.cljs$core$IFn$_invoke$arity$2(r,cljs.core.chunk_rest(e)))}return t=cljs.core.first(e),e=cljs.core.rest(e),cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(t):r.call(null,t))?cljs.core.cons(t,cljs.core.filter.cljs$core$IFn$_invoke$arity$2(r,e)):cljs.core.filter.cljs$core$IFn$_invoke$arity$2(r,e)}return null},null,null)},cljs.core.filter.cljs$lang$maxFixedArity=2,cljs.core.remove=function(){switch(arguments.length){case 1:return cljs.core.remove.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.remove.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.remove.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(cljs.core.complement(r))},cljs.core.remove.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(cljs.core.complement(r),l)},cljs.core.remove.cljs$lang$maxFixedArity=2,cljs.core.tree_seq=function(r,l,e){return function e(c){return new cljs.core.LazySeq(null,function(){return cljs.core.cons(c,cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))?cljs.core.mapcat.cljs$core$IFn$_invoke$arity$variadic(e,cljs.core.array_seq([l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c)],0)):null)},null,null)}(e)},cljs.core.flatten=function(r){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(r){return!cljs.core.sequential_QMARK_(r)},cljs.core.rest(cljs.core.tree_seq(cljs.core.sequential_QMARK_,cljs.core.seq,r)))},cljs.core.into=function(){switch(arguments.length){case 2:return cljs.core.into.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.into.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.into.cljs$core$IFn$_invoke$arity$2=function(r,l){return null!=r?r&&(4&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$IEditableCollection$)?cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_,cljs.core.transient$(r),l)),cljs.core.meta(r)):cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,r,l):cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,cljs.core.List.EMPTY,l)},cljs.core.into.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r&&(4&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$IEditableCollection$)?cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(l,cljs.core.conj_BANG_,cljs.core.transient$(r),e)),cljs.core.meta(r)):cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(l,cljs.core.conj,r,e)},cljs.core.into.cljs$lang$maxFixedArity=3,cljs.core.mapv=function(){switch(arguments.length){case 2:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.mapv.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,4),0);return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],r)}},cljs.core.mapv.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){return cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(l,r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e))},cljs.core.transient$(cljs.core.PersistentVector.EMPTY),l))},cljs.core.mapv.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$3(r,l,e))},cljs.core.mapv.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$4(r,l,e,c))},cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t){return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.map,r,l,e,c,cljs.core.array_seq([t],0)))},cljs.core.mapv.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),t=cljs.core.next(t);return cljs.core.mapv.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t)},cljs.core.mapv.cljs$lang$maxFixedArity=4,cljs.core.filterv=function(r,l){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){return cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e))?cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(l,e):l},cljs.core.transient$(cljs.core.PersistentVector.EMPTY),l))},cljs.core.partition=function(){switch(arguments.length){case 2:return cljs.core.partition.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.partition.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.partition.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.partition.cljs$core$IFn$_invoke$arity$3(r,r,l)},cljs.core.partition.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(e);if(c){var t=cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,c);return r===cljs.core.count(t)?cljs.core.cons(t,cljs.core.partition.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(l,c))):null}return null},null,null)},cljs.core.partition.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return new cljs.core.LazySeq(null,function(){var t=cljs.core.seq(c);if(t){var n=cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,t);return r===cljs.core.count(n)?cljs.core.cons(n,cljs.core.partition.cljs$core$IFn$_invoke$arity$4(r,l,e,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(l,t))):cljs.core._conj(cljs.core.List.EMPTY,cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(n,e)))}return null},null,null)},cljs.core.partition.cljs$lang$maxFixedArity=4,cljs.core.get_in=function(){switch(arguments.length){case 2:return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.get_in.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(r,l,null)},cljs.core.get_in.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.lookup_sentinel;for(l=cljs.core.seq(l);;){if(!l)return r;var t=r;if(!(t?256&t.cljs$lang$protocol_mask$partition0$||t.cljs$core$ILookup$||(t.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,t)):cljs.core.native_satisfies_QMARK_(cljs.core.ILookup,t)))return e;if(r=cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,cljs.core.first(l),c),c===r)return e;l=cljs.core.next(l)}},cljs.core.get_in.cljs$lang$maxFixedArity=3,cljs.core.assoc_in=function r(l,e,c){var t=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null);return e=cljs.core.nthnext(e,1),cljs.core.truth_(e)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,t,r(cljs.core.get.cljs$core$IFn$_invoke$arity$2(l,t),e,c)):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,t,c)},cljs.core.update_in=function(){switch(arguments.length){case 3:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,6),0);return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],r)}},cljs.core.update_in.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null);return l=cljs.core.nthnext(l,1),cljs.core.truth_(l)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,c,cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,c),l,e)):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,c,function(){var l=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,c);return e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(l):e.call(null,l)}())},cljs.core.update_in.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){var t=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null);return l=cljs.core.nthnext(l,1),cljs.core.truth_(l)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,t,cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,t),l,e,c)):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,t,function(){var l=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,t);return e.cljs$core$IFn$_invoke$arity$2?e.cljs$core$IFn$_invoke$arity$2(l,c):e.call(null,l,c)}())},cljs.core.update_in.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){var n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null);return l=cljs.core.nthnext(l,1),cljs.core.truth_(l)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,n,cljs.core.update_in.cljs$core$IFn$_invoke$arity$5(cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,n),l,e,c,t)):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,n,function(){var l=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,n);return e.cljs$core$IFn$_invoke$arity$3?e.cljs$core$IFn$_invoke$arity$3(l,c,t):e.call(null,l,c,t)}())},
cljs.core.update_in.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){var s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null);return l=cljs.core.nthnext(l,1),cljs.core.truth_(l)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,s,cljs.core.update_in.cljs$core$IFn$_invoke$arity$6(cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,s),l,e,c,t,n)):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,s,function(){var l=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,s);return e.cljs$core$IFn$_invoke$arity$4?e.cljs$core$IFn$_invoke$arity$4(l,c,t,n):e.call(null,l,c,t,n)}())},cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t,n,s){var o=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null);return l=cljs.core.nthnext(l,1),cljs.core.truth_(l)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,o,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.update_in,cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,o),l,e,c,cljs.core.array_seq([t,n,s],0))):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,o,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(e,cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,o),c,t,n,cljs.core.array_seq([s],0)))},cljs.core.update_in.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),n=cljs.core.next(t),t=cljs.core.first(n),s=cljs.core.next(n),n=cljs.core.first(s),s=cljs.core.next(s);return cljs.core.update_in.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t,n,s)},cljs.core.update_in.cljs$lang$maxFixedArity=6,cljs.core.update=function(){switch(arguments.length){case 3:return cljs.core.update.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.update.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.update.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return cljs.core.update.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,6),0);return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],r)}},cljs.core.update.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,function(){var c=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l);return e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c)}())},cljs.core.update.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,function(){var t=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l);return e.cljs$core$IFn$_invoke$arity$2?e.cljs$core$IFn$_invoke$arity$2(t,c):e.call(null,t,c)}())},cljs.core.update.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,function(){var n=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l);return e.cljs$core$IFn$_invoke$arity$3?e.cljs$core$IFn$_invoke$arity$3(n,c,t):e.call(null,n,c,t)}())},cljs.core.update.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,function(){var s=cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l);return e.cljs$core$IFn$_invoke$arity$4?e.cljs$core$IFn$_invoke$arity$4(s,c,t,n):e.call(null,s,c,t,n)}())},cljs.core.update.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c,t,n,s){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(e,cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,l),c,t,n,cljs.core.array_seq([s],0)))},cljs.core.update.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),t=cljs.core.next(c),c=cljs.core.first(t),n=cljs.core.next(t),t=cljs.core.first(n),s=cljs.core.next(n),n=cljs.core.first(s),s=cljs.core.next(s);return cljs.core.update.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c,t,n,s)},cljs.core.update.cljs$lang$maxFixedArity=6,cljs.core.VectorNode=function(r,l){this.edit=r,this.arr=l},cljs.core.VectorNode.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.VectorNode.cljs$lang$type=!0,cljs.core.VectorNode.cljs$lang$ctorStr="cljs.core/VectorNode",cljs.core.VectorNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/VectorNode")},cljs.core.__GT_VectorNode=function(r,l){return new cljs.core.VectorNode(r,l)},cljs.core.pv_fresh_node=function(r){return new cljs.core.VectorNode(r,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])},cljs.core.pv_aget=function(r,l){return r.arr[l]},cljs.core.pv_aset=function(r,l,e){return r.arr[l]=e},cljs.core.pv_clone_node=function(r){return new cljs.core.VectorNode(r.edit,cljs.core.aclone(r.arr))},cljs.core.tail_off=function(r){return r=r.cnt,32>r?0:r-1>>>5<<5},cljs.core.new_path=function(r,l,e){for(;;){if(0===l)return e;var c=cljs.core.pv_fresh_node(r);cljs.core.pv_aset(c,0,e),e=c,l-=5}},cljs.core.push_tail=function r(l,e,c,t){var n=cljs.core.pv_clone_node(c),s=l.cnt-1>>>e&31;return 5===e?cljs.core.pv_aset(n,s,t):(c=cljs.core.pv_aget(c,s),l=null!=c?r(l,e-5,c,t):cljs.core.new_path(null,e-5,t),cljs.core.pv_aset(n,s,l)),n},cljs.core.vector_index_out_of_bounds=function(r,l){throw Error([cljs.core.str("No item "),cljs.core.str(r),cljs.core.str(" in vector of length "),cljs.core.str(l)].join(""))},cljs.core.first_array_for_longvec=function(r){var l=r.root;for(r=r.shift;;){if(!(0<r))return l.arr;l=cljs.core.pv_aget(l,0),r-=5}},cljs.core.unchecked_array_for=function(r,l){if(l>=cljs.core.tail_off(r))return r.tail;for(var e=r.root,c=r.shift;;){if(!(0<c))return e.arr;e=cljs.core.pv_aget(e,l>>>c&31),c-=5}},cljs.core.array_for=function(r,l){return 0<=l&&l<r.cnt?cljs.core.unchecked_array_for(r,l):cljs.core.vector_index_out_of_bounds(l,r.cnt)},cljs.core.do_assoc=function r(l,e,c,t,n){var s=cljs.core.pv_clone_node(c);if(0===e)cljs.core.pv_aset(s,31&t,n);else{var o=t>>>e&31;cljs.core.pv_aset(s,o,r(l,e-5,cljs.core.pv_aget(c,o),t,n))}return s},cljs.core.pop_tail=function r(l,e,c){var t=l.cnt-2>>>e&31;return 5<e?null==(l=r(l,e-5,cljs.core.pv_aget(c,t)))&&0===t?null:(c=cljs.core.pv_clone_node(c),cljs.core.pv_aset(c,t,l),c):0===t?null:(c=cljs.core.pv_clone_node(c),cljs.core.pv_aset(c,t,null),c)},cljs.core.RangedIterator=function(r,l,e,c,t,n){this.i=r,this.base=l,this.arr=e,this.v=c,this.start=t,this.end=n},cljs.core.RangedIterator.prototype.hasNext=function(){return this.i<this.end},cljs.core.RangedIterator.prototype.next=function(){32==this.i-this.base&&(this.arr=cljs.core.unchecked_array_for(this.v,this.i),this.base+=32);var r=this.arr[31&this.i];return this.i+=1,r},cljs.core.RangedIterator.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"base","base",1825810849,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null)],null)},cljs.core.RangedIterator.cljs$lang$type=!0,cljs.core.RangedIterator.cljs$lang$ctorStr="cljs.core/RangedIterator",cljs.core.RangedIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/RangedIterator")},cljs.core.__GT_RangedIterator=function(r,l,e,c,t,n){return new cljs.core.RangedIterator(r,l,e,c,t,n)},cljs.core.ranged_iterator=function(r,l,e){return new cljs.core.RangedIterator(l,l-l%32,l<cljs.core.count(r)?cljs.core.unchecked_array_for(r,l):null,r,l,e)},cljs.core.PersistentVector=function(r,l,e,c,t,n){this.meta=r,this.cnt=l,this.shift=e,this.root=c,this.tail=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=167668511,this.cljs$lang$protocol_mask$partition1$=8196},cljs.core.PersistentVector.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentVector.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return"number"==typeof l?cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,e):e},cljs.core.PersistentVector.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){r=0;for(var c=e;;){if(!(r<this.cnt))return c;var t=cljs.core.unchecked_array_for(this,r);e=t.length;r:for(var n=0;;){if(!(n<e)){t=c;break r}var s=n+r,o=t[n],c=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(c,s,o):l.call(null,c,s,o);if(cljs.core.reduced_QMARK_(c)){t=c;break r}n+=1}if(cljs.core.reduced_QMARK_(t))return l=t,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);r+=e,c=t}},cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){return cljs.core.array_for(this,l)[31&l]},cljs.core.PersistentVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0<=l&&l<this.cnt?cljs.core.unchecked_array_for(this,l)[31&l]:e},cljs.core.PersistentVector.prototype.cljs$core$IVector$_assoc_n$arity$3=function(r,l,e){if(0<=l&&l<this.cnt)return cljs.core.tail_off(this)<=l?(r=cljs.core.aclone(this.tail),r[31&l]=e,new cljs.core.PersistentVector(this.meta,this.cnt,this.shift,this.root,r,null)):new cljs.core.PersistentVector(this.meta,this.cnt,this.shift,cljs.core.do_assoc(this,this.shift,this.root,l,e),this.tail,null);if(l===this.cnt)return cljs.core._conj(this,e);throw Error([cljs.core.str("Index "),cljs.core.str(l),cljs.core.str(" out of bounds  [0,"),cljs.core.str(this.cnt),cljs.core.str("]")].join(""))},cljs.core.PersistentVector.prototype.cljs$core$IIterable$=!0,cljs.core.PersistentVector.prototype.cljs$core$IIterable$_iterator$arity$1=function(r){return cljs.core.ranged_iterator(this,0,this.cnt)},cljs.core.PersistentVector.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentVector.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentVector(this.meta,this.cnt,this.shift,this.root,this.tail,this.__hash)},cljs.core.PersistentVector.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.cnt},cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_key$arity$1=function(r){return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this,0)},cljs.core.PersistentVector.prototype.cljs$core$IMapEntry$_val$arity$1=function(r){return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this,1)},cljs.core.PersistentVector.prototype.cljs$core$IStack$_peek$arity$1=function(r){return 0<this.cnt?cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this,this.cnt-1):null},cljs.core.PersistentVector.prototype.cljs$core$IStack$_pop$arity$1=function(r){if(0===this.cnt)throw Error("Can't pop empty vector");if(1===this.cnt)return cljs.core._with_meta(cljs.core.PersistentVector.EMPTY,this.meta);if(1<this.cnt-cljs.core.tail_off(this))return new cljs.core.PersistentVector(this.meta,this.cnt-1,this.shift,this.root,this.tail.slice(0,-1),null);r=cljs.core.unchecked_array_for(this,this.cnt-2);var l=cljs.core.pop_tail(this,this.shift,this.root),l=null==l?cljs.core.PersistentVector.EMPTY_NODE:l,e=this.cnt-1;return 5<this.shift&&null==cljs.core.pv_aget(l,1)?new cljs.core.PersistentVector(this.meta,e,this.shift-5,cljs.core.pv_aget(l,0),r,null):new cljs.core.PersistentVector(this.meta,e,this.shift,l,r,null)},cljs.core.PersistentVector.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return 0<this.cnt?new cljs.core.RSeq(this,this.cnt-1,null):null},cljs.core.PersistentVector.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.PersistentVector.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){if(!(l instanceof cljs.core.PersistentVector))return cljs.core.equiv_sequential(this,l);if(this.cnt!==cljs.core.count(l))return!1;for(var e=cljs.core._iterator(this),c=cljs.core._iterator(l);;){if(!cljs.core.truth_(e.hasNext()))return!0;var t=e.next(),n=c.next();if(!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(t,n))return!1}},cljs.core.PersistentVector.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(r){var l=this;return new cljs.core.TransientVector(l.cnt,l.shift,function(){var r=l.root;return cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1?cljs.core.tv_editable_root.cljs$core$IFn$_invoke$arity$1(r):cljs.core.tv_editable_root.call(null,r)}(),function(){var r=l.tail;return cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1?cljs.core.tv_editable_tail.cljs$core$IFn$_invoke$arity$1(r):cljs.core.tv_editable_tail.call(null,r)}())},cljs.core.PersistentVector.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,this.meta)},cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(this,l)},cljs.core.PersistentVector.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){r=0;for(var c=e;;){if(!(r<this.cnt))return c;var t=cljs.core.unchecked_array_for(this,r);e=t.length;r:for(var n=0;;){if(!(n<e)){t=c;break r}var s=t[n],c=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,s):l.call(null,c,s);if(cljs.core.reduced_QMARK_(c)){t=c;break r}n+=1}if(cljs.core.reduced_QMARK_(t))return l=t,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);r+=e,c=t}},cljs.core.PersistentVector.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){if("number"==typeof l)return cljs.core._assoc_n(this,l,e);throw Error("Vector's key for assoc must be a number.")},cljs.core.PersistentVector.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return 0===this.cnt?null:32>=this.cnt?new cljs.core.IndexedSeq(this.tail,0):(r=cljs.core.first_array_for_longvec(this),cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(this,r,0,0):cljs.core.chunked_seq.call(null,this,r,0,0))},cljs.core.PersistentVector.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentVector(l,this.cnt,this.shift,this.root,this.tail,this.__hash)},cljs.core.PersistentVector.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){if(32>this.cnt-cljs.core.tail_off(this)){for(var e=this.tail.length,c=Array(e+1),t=0;t<e;)c[t]=this.tail[t],t+=1;return c[e]=l,new cljs.core.PersistentVector(this.meta,this.cnt+1,this.shift,this.root,c,null)}return e=(c=this.cnt>>>5>1<<this.shift)?this.shift+5:this.shift,c?(c=cljs.core.pv_fresh_node(null),cljs.core.pv_aset(c,0,this.root),cljs.core.pv_aset(c,1,cljs.core.new_path(null,this.shift,new cljs.core.VectorNode(null,this.tail)))):c=cljs.core.push_tail(this,this.shift,this.root,new cljs.core.VectorNode(null,this.tail)),new cljs.core.PersistentVector(this.meta,this.cnt+1,e,c,[l],null)},cljs.core.PersistentVector.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$IIndexed$_nth$arity$2(null,l);case 3:return this.cljs$core$IIndexed$_nth$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$IIndexed$_nth$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$IIndexed$_nth$arity$3(null,l,e)},r}(),cljs.core.PersistentVector.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$IIndexed$_nth$arity$2(null,r)},cljs.core.PersistentVector.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$IIndexed$_nth$arity$3(null,r,l)},cljs.core.PersistentVector.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"shift","shift",-1657295705,null),new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"tail","tail",494507963,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentVector.cljs$lang$type=!0,cljs.core.PersistentVector.cljs$lang$ctorStr="cljs.core/PersistentVector",cljs.core.PersistentVector.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentVector")},cljs.core.__GT_PersistentVector=function(r,l,e,c,t,n){return new cljs.core.PersistentVector(r,l,e,c,t,n)},cljs.core.PersistentVector.EMPTY_NODE=new cljs.core.VectorNode(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]);cljs.core.PersistentVector.EMPTY=new cljs.core.PersistentVector(null,0,5,cljs.core.PersistentVector.EMPTY_NODE,[],cljs.core.empty_ordered_hash),cljs.core.PersistentVector.fromArray=function(r,l){var e=r.length,c=l?r:cljs.core.aclone(r);if(32>e)return new cljs.core.PersistentVector(null,e,5,cljs.core.PersistentVector.EMPTY_NODE,c,null);for(var t=c.slice(0,32),n=32,s=new cljs.core.PersistentVector(null,32,5,cljs.core.PersistentVector.EMPTY_NODE,t,null).cljs$core$IEditableCollection$_as_transient$arity$1(null);;){if(!(n<e))return cljs.core.persistent_BANG_(s);t=n+1,s=cljs.core.conj_BANG_.cljs$core$IFn$_invoke$arity$2(s,c[n]),n=t}},cljs.core.PersistentVector.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.vec=function(r){return cljs.core.array_QMARK_(r)?cljs.core.PersistentVector.fromArray(r,!0):cljs.core._persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj_BANG_,cljs.core._as_transient(cljs.core.PersistentVector.EMPTY),r))},cljs.core.vector=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic=function(r){return r instanceof cljs.core.IndexedSeq&&0===r.i?cljs.core.PersistentVector.fromArray(r.arr,!0):cljs.core.vec(r)},cljs.core.vector.cljs$lang$maxFixedArity=0,cljs.core.vector.cljs$lang$applyTo=function(r){return cljs.core.vector.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.ChunkedSeq=function(r,l,e,c,t,n){this.vec=r,this.node=l,this.i=e,this.off=c,this.meta=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=32375020,this.cljs$lang$protocol_mask$partition1$=1536},cljs.core.ChunkedSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ChunkedSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.ChunkedSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.ChunkedSeq.prototype.cljs$core$INext$_next$arity$1=function(r){if(this.off+1<this.node.length){r=this.vec;var l=this.node,e=this.i,c=this.off+1;return r=cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(r,l,e,c):cljs.core.chunked_seq.call(null,r,l,e,c),null==r?null:r}return cljs.core._chunked_next(this)},cljs.core.ChunkedSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.ChunkedSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.ChunkedSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,this.meta)},cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){var e=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(function(){var r=e.vec,l=e.i+e.off,c=cljs.core.count(e.vec);return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3?cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(r,l,c):cljs.core.subvec.call(null,r,l,c)}(),l)},cljs.core.ChunkedSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){var c=this;return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(function(){var r=c.vec,l=c.i+c.off,e=cljs.core.count(c.vec);return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3?cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(r,l,e):cljs.core.subvec.call(null,r,l,e)}(),l,e)},cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.node[this.off]},cljs.core.ChunkedSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){if(this.off+1<this.node.length){r=this.vec;var l=this.node,e=this.i,c=this.off+1;return r=cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(r,l,e,c):cljs.core.chunked_seq.call(null,r,l,e,c),null==r?cljs.core.List.EMPTY:r}return cljs.core._chunked_rest(this)},cljs.core.ChunkedSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(r){return cljs.core.array_chunk.cljs$core$IFn$_invoke$arity$2(this.node,this.off)},cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(r){if((r=this.i+this.node.length)<cljs.core._count(this.vec)){var l=this.vec,e=cljs.core.unchecked_array_for(this.vec,r);return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(l,e,r,0):cljs.core.chunked_seq.call(null,l,e,r,0)}return cljs.core.List.EMPTY},cljs.core.ChunkedSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){var e=this.vec,c=this.node,t=this.i,n=this.off;return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(e,c,t,n,l):cljs.core.chunked_seq.call(null,e,c,t,n,l)},cljs.core.ChunkedSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.ChunkedSeq.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(r){if((r=this.i+this.node.length)<cljs.core._count(this.vec)){var l=this.vec,e=cljs.core.unchecked_array_for(this.vec,r);return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(l,e,r,0):cljs.core.chunked_seq.call(null,l,e,r,0)}return null},cljs.core.ChunkedSeq.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"vec","vec",982683596,null),new cljs.core.Symbol(null,"node","node",-2073234571,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"off","off",-2047994980,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.ChunkedSeq.cljs$lang$type=!0,cljs.core.ChunkedSeq.cljs$lang$ctorStr="cljs.core/ChunkedSeq",cljs.core.ChunkedSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ChunkedSeq")},cljs.core.__GT_ChunkedSeq=function(r,l,e,c,t,n){return new cljs.core.ChunkedSeq(r,l,e,c,t,n)},cljs.core.ChunkedSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.chunked_seq=function(){switch(arguments.length){case 3:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.ChunkedSeq(r,cljs.core.array_for(r,l),l,e,null,null)},cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return new cljs.core.ChunkedSeq(r,l,e,c,null,null)},cljs.core.chunked_seq.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return new cljs.core.ChunkedSeq(r,l,e,c,t,null)},cljs.core.chunked_seq.cljs$lang$maxFixedArity=5,cljs.core.Subvec=function(r,l,e,c,t){this.meta=r,this.v=l,this.start=e,this.end=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=167666463,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.Subvec.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.Subvec.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.Subvec.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return"number"==typeof l?cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,e):e},cljs.core.Subvec.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){r=this.start;for(var c=0;;){if(!(r<this.end))return e;var t=c,n=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this.v,r);if(e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(e,t,n):l.call(null,e,t,n),cljs.core.reduced_QMARK_(e))return l=e,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);c+=1,r+=1}},cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){return 0>l||this.end<=this.start+l?cljs.core.vector_index_out_of_bounds(l,this.end-this.start):cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this.v,this.start+l)},cljs.core.Subvec.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0>l||this.end<=this.start+l?e:cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this.v,this.start+l,e)},cljs.core.Subvec.prototype.cljs$core$IVector$_assoc_n$arity$3=function(r,l,e){var c=this.start+l;r=this.meta,e=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(this.v,c,e),l=this.start;var t=this.end,c=c+1,c=t>c?t:c;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(r,e,l,c,null):cljs.core.build_subvec.call(null,r,e,l,c,null)},cljs.core.Subvec.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.Subvec.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.Subvec(this.meta,this.v,this.start,this.end,this.__hash)},cljs.core.Subvec.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.end-this.start},cljs.core.Subvec.prototype.cljs$core$IStack$_peek$arity$1=function(r){return cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this.v,this.end-1)},cljs.core.Subvec.prototype.cljs$core$IStack$_pop$arity$1=function(r){if(this.start===this.end)throw Error("Can't pop empty vector");r=this.meta;var l=this.v,e=this.start,c=this.end-1;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(r,l,e,c,null):cljs.core.build_subvec.call(null,r,l,e,c,null)},cljs.core.Subvec.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return this.start!==this.end?new cljs.core.RSeq(this,this.end-this.start-1,null):null},cljs.core.Subvec.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.Subvec.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.Subvec.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.PersistentVector.EMPTY,this.meta)},cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(this,l)},cljs.core.Subvec.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(this,l,e)},cljs.core.Subvec.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){if("number"==typeof l)return cljs.core._assoc_n(this,l,e);throw Error("Subvec's key for assoc must be a number.")},cljs.core.Subvec.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){var l=this;return function(r){return function r(e){return e===l.end?null:cljs.core.cons(cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l.v,e),new cljs.core.LazySeq(null,function(l){return function(){return r(e+1)}}(),null,null))}}()(l.start)},cljs.core.Subvec.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){var e=this.v,c=this.start,t=this.end,n=this.__hash;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):cljs.core.build_subvec.call(null,l,e,c,t,n)},cljs.core.Subvec.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){var e=this.meta,c=cljs.core._assoc_n(this.v,this.end,l),t=this.start,n=this.end+1;return cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5?cljs.core.build_subvec.cljs$core$IFn$_invoke$arity$5(e,c,t,n,null):cljs.core.build_subvec.call(null,e,c,t,n,null)},cljs.core.Subvec.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$IIndexed$_nth$arity$2(null,l);case 3:return this.cljs$core$IIndexed$_nth$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$IIndexed$_nth$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$IIndexed$_nth$arity$3(null,l,e)},r}(),cljs.core.Subvec.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$IIndexed$_nth$arity$2(null,r)},cljs.core.Subvec.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$IIndexed$_nth$arity$3(null,r,l)},cljs.core.Subvec.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.Subvec.cljs$lang$type=!0,cljs.core.Subvec.cljs$lang$ctorStr="cljs.core/Subvec",cljs.core.Subvec.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Subvec")},cljs.core.__GT_Subvec=function(r,l,e,c,t){return new cljs.core.Subvec(r,l,e,c,t)},cljs.core.Subvec.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.build_subvec=function(r,l,e,c,t){for(;;){if(!(l instanceof cljs.core.Subvec)){var n=cljs.core.count(l);if(0>e||0>c||e>n||c>n)throw Error("Index out of bounds");return new cljs.core.Subvec(r,l,e,c,t)}e=l.start+e,c=l.start+c,l=l.v}},cljs.core.subvec=function(){switch(arguments.length){case 2:return cljs.core.subvec.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.subvec.cljs$core$IFn$_invoke$arity$2=function(r,l){
return cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.count(r))},cljs.core.subvec.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.build_subvec(null,r,l,e,null)},cljs.core.subvec.cljs$lang$maxFixedArity=3,cljs.core.tv_ensure_editable=function(r,l){return r===l.edit?l:new cljs.core.VectorNode(r,cljs.core.aclone(l.arr))},cljs.core.tv_editable_root=function(r){return new cljs.core.VectorNode({},cljs.core.aclone(r.arr))},cljs.core.tv_editable_tail=function(r){var l=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return cljs.core.array_copy(r,0,l,0,r.length),l},cljs.core.tv_push_tail=function r(l,e,c,t){var n=cljs.core.tv_ensure_editable(l.root.edit,c),s=l.cnt-1>>>e&31;return cljs.core.pv_aset(n,s,5===e?t:function(){var c=cljs.core.pv_aget(n,s);return null!=c?r(l,e-5,c,t):cljs.core.new_path(l.root.edit,e-5,t)}()),n},cljs.core.tv_pop_tail=function r(l,e,c){c=cljs.core.tv_ensure_editable(l.root.edit,c);var t=l.cnt-2>>>e&31;return 5<e?null==(l=r(l,e-5,cljs.core.pv_aget(c,t)))&&0===t?null:(cljs.core.pv_aset(c,t,l),c):0===t?null:(cljs.core.pv_aset(c,t,null),c)},cljs.core.unchecked_editable_array_for=function(r,l){if(l>=cljs.core.tail_off(r))return r.tail;for(var e=r.root,c=e,t=r.shift;;){if(!(0<t))return c.arr;c=cljs.core.tv_ensure_editable(e.edit,cljs.core.pv_aget(c,l>>>t&31)),t-=5}},cljs.core.TransientVector=function(r,l,e,c){this.cnt=r,this.shift=l,this.root=e,this.tail=c,this.cljs$lang$protocol_mask$partition1$=88,this.cljs$lang$protocol_mask$partition0$=275},cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(r,l){if(this.root.edit){if(32>this.cnt-cljs.core.tail_off(this))this.tail[31&this.cnt]=l;else{var e=new cljs.core.VectorNode(this.root.edit,this.tail),c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];if(c[0]=l,this.tail=c,this.cnt>>>5>1<<this.shift){var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],t=this.shift+5;c[0]=this.root,c[1]=cljs.core.new_path(this.root.edit,this.shift,e),this.root=new cljs.core.VectorNode(this.root.edit,c),this.shift=t}else this.root=cljs.core.tv_push_tail(this,this.shift,this.root,e)}return this.cnt+=1,this}throw Error("conj! after persistent!")},cljs.core.TransientVector.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(r){if(this.root.edit){this.root.edit=null,r=this.cnt-cljs.core.tail_off(this);var l=Array(r);return cljs.core.array_copy(this.tail,0,l,0,r),new cljs.core.PersistentVector(null,this.cnt,this.shift,this.root,l,null)}throw Error("persistent! called twice")},cljs.core.TransientVector.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(r,l,e){if("number"==typeof l)return cljs.core._assoc_n_BANG_(this,l,e);throw Error("TransientVector's key for assoc! must be a number.")},cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_assoc_n_BANG_$arity$3=function(r,l,e){var c=this;if(c.root.edit){if(0<=l&&l<c.cnt)return cljs.core.tail_off(this)<=l?c.tail[31&l]=e:(r=function(r){return function r(t,n){var s=cljs.core.tv_ensure_editable(c.root.edit,n);if(0===t)cljs.core.pv_aset(s,31&l,e);else{var o=l>>>t&31;cljs.core.pv_aset(s,o,r(t-5,cljs.core.pv_aget(s,o)))}return s}}().call(null,c.shift,c.root),c.root=r),this;if(l===c.cnt)return cljs.core._conj_BANG_(this,e);throw Error([cljs.core.str("Index "),cljs.core.str(l),cljs.core.str(" out of bounds for TransientVector of length"),cljs.core.str(c.cnt)].join(""))}throw Error("assoc! after persistent!")},cljs.core.TransientVector.prototype.cljs$core$ITransientVector$_pop_BANG_$arity$1=function(r){if(this.root.edit){if(0===this.cnt)throw Error("Can't pop empty vector");if(1===this.cnt)this.cnt=0;else if(0<(this.cnt-1&31))--this.cnt;else{r=cljs.core.unchecked_editable_array_for(this,this.cnt-2);var l;l=cljs.core.tv_pop_tail(this,this.shift,this.root),l=null!=l?l:new cljs.core.VectorNode(this.root.edit,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),5<this.shift&&null==cljs.core.pv_aget(l,1)?(this.root=cljs.core.tv_ensure_editable(this.root.edit,cljs.core.pv_aget(l,0)),this.shift-=5):this.root=l,--this.cnt,this.tail=r}return this}throw Error("pop! after persistent!")},cljs.core.TransientVector.prototype.cljs$core$ICounted$_count$arity$1=function(r){if(this.root.edit)return this.cnt;throw Error("count after persistent!")},cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){if(this.root.edit)return cljs.core.array_for(this,l)[31&l];throw Error("nth after persistent!")},cljs.core.TransientVector.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0<=l&&l<this.cnt?cljs.core._nth.cljs$core$IFn$_invoke$arity$2(this,l):e},cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.TransientVector.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return"number"==typeof l?cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,e):e},cljs.core.TransientVector.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.TransientVector.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.TransientVector.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.TransientVector.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"shift","shift",-1657295705,null),new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"tail","tail",494507963,null)],null)},cljs.core.TransientVector.cljs$lang$type=!0,cljs.core.TransientVector.cljs$lang$ctorStr="cljs.core/TransientVector",cljs.core.TransientVector.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/TransientVector")},cljs.core.__GT_TransientVector=function(r,l,e,c){return new cljs.core.TransientVector(r,l,e,c)},cljs.core.PersistentQueueSeq=function(r,l,e,c){this.meta=r,this.front=l,this.rear=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=31850572,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.PersistentQueueSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentQueueSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentQueueSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentQueueSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.PersistentQueueSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.PersistentQueueSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core.first(this.front)},cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return(r=cljs.core.next(this.front))?new cljs.core.PersistentQueueSeq(this.meta,r,this.rear,null):null==this.rear?cljs.core._empty(this):new cljs.core.PersistentQueueSeq(this.meta,this.rear,null,null)},cljs.core.PersistentQueueSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.PersistentQueueSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentQueueSeq(l,this.front,this.rear,this.__hash)},cljs.core.PersistentQueueSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.PersistentQueueSeq.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"front","front",117022539,null),new cljs.core.Symbol(null,"rear","rear",-900164830,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentQueueSeq.cljs$lang$type=!0,cljs.core.PersistentQueueSeq.cljs$lang$ctorStr="cljs.core/PersistentQueueSeq",cljs.core.PersistentQueueSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentQueueSeq")},cljs.core.__GT_PersistentQueueSeq=function(r,l,e,c){return new cljs.core.PersistentQueueSeq(r,l,e,c)},cljs.core.PersistentQueueSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.PersistentQueue=function(r,l,e,c,t){this.meta=r,this.count=l,this.front=e,this.rear=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=31858766,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.PersistentQueue.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentQueue.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentQueue.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentQueue.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentQueue(this.meta,this.count,this.front,this.rear,this.__hash)},cljs.core.PersistentQueue.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.count},cljs.core.PersistentQueue.prototype.cljs$core$IStack$_peek$arity$1=function(r){return cljs.core.first(this.front)},cljs.core.PersistentQueue.prototype.cljs$core$IStack$_pop$arity$1=function(r){return cljs.core.truth_(this.front)?(r=cljs.core.next(this.front))?new cljs.core.PersistentQueue(this.meta,this.count-1,r,this.rear,null):new cljs.core.PersistentQueue(this.meta,this.count-1,cljs.core.seq(this.rear),cljs.core.PersistentVector.EMPTY,null):this},cljs.core.PersistentQueue.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.PersistentQueue.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.PersistentQueue.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.PersistentQueue.EMPTY,this.meta)},cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core.first(this.front)},cljs.core.PersistentQueue.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return cljs.core.rest(cljs.core.seq(this))},cljs.core.PersistentQueue.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){var l=this,e=cljs.core.seq(l.rear);return cljs.core.truth_(function(){var r=l.front;return cljs.core.truth_(r)?r:e}())?new cljs.core.PersistentQueueSeq(null,l.front,cljs.core.seq(e),null):null},cljs.core.PersistentQueue.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentQueue(l,this.count,this.front,this.rear,this.__hash)},cljs.core.PersistentQueue.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){var e=this;return cljs.core.truth_(e.front)?new cljs.core.PersistentQueue(e.meta,e.count+1,e.front,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(function(){var r=e.rear;return cljs.core.truth_(r)?r:cljs.core.PersistentVector.EMPTY}(),l),null):new cljs.core.PersistentQueue(e.meta,e.count+1,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(e.front,l),cljs.core.PersistentVector.EMPTY,null)},cljs.core.PersistentQueue.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"front","front",117022539,null),new cljs.core.Symbol(null,"rear","rear",-900164830,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentQueue.cljs$lang$type=!0,cljs.core.PersistentQueue.cljs$lang$ctorStr="cljs.core/PersistentQueue",cljs.core.PersistentQueue.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentQueue")},cljs.core.__GT_PersistentQueue=function(r,l,e,c,t){return new cljs.core.PersistentQueue(r,l,e,c,t)},cljs.core.PersistentQueue.EMPTY=new cljs.core.PersistentQueue(null,0,null,cljs.core.PersistentVector.EMPTY,cljs.core.empty_ordered_hash),cljs.core.PersistentQueue.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.NeverEquiv=function(){this.cljs$lang$protocol_mask$partition0$=2097152,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.NeverEquiv.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.NeverEquiv.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return!1},cljs.core.NeverEquiv.getBasis=function(){return cljs.core.PersistentVector.EMPTY},cljs.core.NeverEquiv.cljs$lang$type=!0,cljs.core.NeverEquiv.cljs$lang$ctorStr="cljs.core/NeverEquiv",cljs.core.NeverEquiv.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/NeverEquiv")},cljs.core.__GT_NeverEquiv=function(){return new cljs.core.NeverEquiv},cljs.core.never_equiv=new cljs.core.NeverEquiv,cljs.core.equiv_map=function(r,l){return cljs.core.boolean$(cljs.core.map_QMARK_(l)&&cljs.core.count(r)===cljs.core.count(l)?cljs.core.every_QMARK_(cljs.core.identity,cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(r){return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(l,cljs.core.first(r),cljs.core.never_equiv),cljs.core.second(r))},r)):null)},cljs.core.scan_array=function(r,l,e){for(var c=e.length,t=0;;){if(!(t<c))return null;if(l===e[t])return t;t+=r}},cljs.core.obj_map_compare_keys=function(r,l){var e=cljs.core.hash(r),c=cljs.core.hash(l);return e<c?-1:e>c?1:0},cljs.core.obj_map__GT_hash_map=function(r,l,e){var c=r.keys,t=c.length,n=r.strobj;r=cljs.core.meta(r);for(var s=0,o=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);;){if(!(s<t))return cljs.core.with_meta(cljs.core.persistent_BANG_(cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(o,l,e)),r);var a=c[s],s=s+1,o=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(o,a,n[a])}},cljs.core.obj_clone=function(r,l){var e;e={};for(var c=l.length,t=0;t<c;){var n=l[t];e[n]=r[n],t+=1}return e},cljs.core.ObjMap=function(r,l,e,c,t){this.meta=r,this.keys=l,this.strobj=e,this.update_count=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=16123663,this.cljs$lang$protocol_mask$partition1$=4},cljs.core.ObjMap.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ObjMap.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.ObjMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){var c=this;return cljs.core.truth_(function(){var r;return r=goog.isString(l),cljs.core.truth_(r)?null!=cljs.core.scan_array(1,l,c.keys):r}())?c.strobj[l]:e},cljs.core.ObjMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){r=this.keys.sort(cljs.core.obj_map_compare_keys);for(var c=e;;){if(!cljs.core.seq(r))return c;var t=e=cljs.core.first(r);if(e=this.strobj[e],e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(c,t,e):l.call(null,c,t,e),cljs.core.reduced_QMARK_(e))return l=e,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);r=cljs.core.rest(r),c=e}},cljs.core.ObjMap.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.ObjMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.keys.length},cljs.core.ObjMap.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.ObjMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_map(this,l)},cljs.core.ObjMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(r){return cljs.core.transient$(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY,this))},cljs.core.ObjMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.ObjMap.EMPTY,this.meta)},cljs.core.ObjMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){var e=this;if(cljs.core.truth_(function(){var r;return r=goog.isString(l),cljs.core.truth_(r)?null!=cljs.core.scan_array(1,l,e.keys):r}())){var c=cljs.core.aclone(e.keys),t=cljs.core.obj_clone(e.strobj,e.keys);return c.splice(cljs.core.scan_array(1,l,c),1),delete t[l],new cljs.core.ObjMap(e.meta,c,t,e.update_count+1,null)}return this},cljs.core.ObjMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){if(cljs.core.truth_(goog.isString(l))){if(this.update_count>cljs.core.ObjMap.HASHMAP_THRESHOLD||this.keys.length>=cljs.core.ObjMap.HASHMAP_THRESHOLD)return cljs.core.obj_map__GT_hash_map(this,l,e);if(null!=cljs.core.scan_array(1,l,this.keys))return r=cljs.core.obj_clone(this.strobj,this.keys),r[l]=e,new cljs.core.ObjMap(this.meta,this.keys,r,this.update_count+1,null);r=cljs.core.obj_clone(this.strobj,this.keys);var c=cljs.core.aclone(this.keys);return r[l]=e,c.push(l),new cljs.core.ObjMap(this.meta,c,r,this.update_count+1,null)}return cljs.core.obj_map__GT_hash_map(this,l,e)},cljs.core.ObjMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){var r;return r=goog.isString(l),cljs.core.truth_(r)?null!=cljs.core.scan_array(1,l,e.keys):r}())},cljs.core.ObjMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){var l=this;return 0<l.keys.length?cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(r){return function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r,l.strobj[r]],null)}}(),l.keys.sort(cljs.core.obj_map_compare_keys)):null},cljs.core.ObjMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.ObjMap(l,this.keys,this.strobj,this.update_count,this.__hash)},cljs.core.ObjMap.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_(l)?cljs.core._assoc(this,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,1)):cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this,l)},cljs.core.ObjMap.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.ObjMap.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.ObjMap.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.ObjMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"keys","keys",-1586012071,null),new cljs.core.Symbol(null,"strobj","strobj",1088091283,null),new cljs.core.Symbol(null,"update-count","update-count",-411982269,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.ObjMap.cljs$lang$type=!0,cljs.core.ObjMap.cljs$lang$ctorStr="cljs.core/ObjMap",cljs.core.ObjMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ObjMap")},cljs.core.__GT_ObjMap=function(r,l,e,c,t){return new cljs.core.ObjMap(r,l,e,c,t)},cljs.core.ObjMap.EMPTY=new cljs.core.ObjMap(null,[],function(){return{}}(),0,cljs.core.empty_unordered_hash),cljs.core.ObjMap.HASHMAP_THRESHOLD=8,cljs.core.ObjMap.fromObject=function(r,l){return new cljs.core.ObjMap(null,r,l,0,null)},cljs.core.ES6EntriesIterator=function(r){this.s=r},cljs.core.ES6EntriesIterator.prototype.next=function(){if(null!=this.s){var r=cljs.core.first(this.s),l=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,0,null),r=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,1,null);return this.s=cljs.core.next(this.s),{value:[l,r],done:!1}}return{value:null,done:!0}},cljs.core.ES6EntriesIterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null)],null)},cljs.core.ES6EntriesIterator.cljs$lang$type=!0,cljs.core.ES6EntriesIterator.cljs$lang$ctorStr="cljs.core/ES6EntriesIterator",cljs.core.ES6EntriesIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ES6EntriesIterator")},cljs.core.__GT_ES6EntriesIterator=function(r){return new cljs.core.ES6EntriesIterator(r)},cljs.core.es6_entries_iterator=function(r){return new cljs.core.ES6EntriesIterator(cljs.core.seq(r))},cljs.core.ES6SetEntriesIterator=function(r){this.s=r},cljs.core.ES6SetEntriesIterator.prototype.next=function(){if(null!=this.s){var r=cljs.core.first(this.s);return this.s=cljs.core.next(this.s),{value:[r,r],done:!1}}return{value:null,done:!0}},cljs.core.ES6SetEntriesIterator.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null)],null)},cljs.core.ES6SetEntriesIterator.cljs$lang$type=!0,cljs.core.ES6SetEntriesIterator.cljs$lang$ctorStr="cljs.core/ES6SetEntriesIterator";cljs.core.ES6SetEntriesIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ES6SetEntriesIterator")},cljs.core.__GT_ES6SetEntriesIterator=function(r){return new cljs.core.ES6SetEntriesIterator(r)},cljs.core.es6_set_entries_iterator=function(r){return new cljs.core.ES6SetEntriesIterator(cljs.core.seq(r))},cljs.core.array_index_of_nil_QMARK_=function(r){for(var l=r.length,e=0;;){if(l<=e)return-1;if(null==r[e])return e;e+=2}},cljs.core.array_index_of_keyword_QMARK_=function(r,l){for(var e=r.length,c=l.fqn,t=0;;){if(e<=t)return-1;var n=r[t];if(n instanceof cljs.core.Keyword&&c===n.fqn)return t;t+=2}},cljs.core.array_index_of_symbol_QMARK_=function(r,l){for(var e=r.length,c=l.str,t=0;;){if(e<=t)return-1;var n=r[t];if(n instanceof cljs.core.Symbol&&c===n.str)return t;t+=2}},cljs.core.array_index_of_identical_QMARK_=function(r,l){for(var e=r.length,c=0;;){if(e<=c)return-1;if(l===r[c])return c;c+=2}},cljs.core.array_index_of_equiv_QMARK_=function(r,l){for(var e=r.length,c=0;;){if(e<=c)return-1;if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(l,r[c]))return c;c+=2}},cljs.core.array_index_of=function(r,l){return l instanceof cljs.core.Keyword?cljs.core.array_index_of_keyword_QMARK_(r,l):cljs.core.truth_(function(){var r;return r=goog.isString(l),cljs.core.truth_(r)?r:"number"==typeof l}())?cljs.core.array_index_of_identical_QMARK_(r,l):l instanceof cljs.core.Symbol?cljs.core.array_index_of_symbol_QMARK_(r,l):null==l?cljs.core.array_index_of_nil_QMARK_(r):cljs.core.array_index_of_equiv_QMARK_(r,l)},cljs.core.array_map_index_of=function(r,l){return cljs.core.array_index_of(r.arr,l)},cljs.core.array_extend_kv=function(r,l,e){for(var c=r.length,t=Array(c+2),n=0;n<c;)t[n]=r[n],n+=1;return t[c]=l,t[c+1]=e,t},cljs.core.array_map_extend_kv=function(r,l,e){return cljs.core.array_extend_kv(r.arr,l,e)},cljs.core.PersistentArrayMapSeq=function(r,l,e){this.arr=r,this.i=l,this._meta=e,this.cljs$lang$protocol_mask$partition0$=32374990,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.PersistentArrayMapSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentArrayMapSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this._meta},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$INext$_next$arity$1=function(r){return this.i<this.arr.length-2?new cljs.core.PersistentArrayMapSeq(this.arr,this.i+2,this._meta):null},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(r){return(this.arr.length-this.i)/2},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this._meta)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.arr[this.i],this.arr[this.i+1]],null)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return this.i<this.arr.length-2?new cljs.core.PersistentArrayMapSeq(this.arr,this.i+2,this._meta):cljs.core.List.EMPTY},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentArrayMapSeq(this.arr,this.i,l)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.PersistentArrayMapSeq.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)},cljs.core.PersistentArrayMapSeq.cljs$lang$type=!0,cljs.core.PersistentArrayMapSeq.cljs$lang$ctorStr="cljs.core/PersistentArrayMapSeq",cljs.core.PersistentArrayMapSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentArrayMapSeq")},cljs.core.__GT_PersistentArrayMapSeq=function(r,l,e){return new cljs.core.PersistentArrayMapSeq(r,l,e)},cljs.core.PersistentArrayMapSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.persistent_array_map_seq=function(r,l,e){return l<=r.length-2?new cljs.core.PersistentArrayMapSeq(r,l,e):null},cljs.core.PersistentArrayMapIterator=function(r,l,e){this.arr=r,this.i=l,this.cnt=e},cljs.core.PersistentArrayMapIterator.prototype.hasNext=function(){return this.i<this.cnt},cljs.core.PersistentArrayMapIterator.prototype.next=function(){var r=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.arr[this.i],this.arr[this.i+1]],null);return this.i+=2,r},cljs.core.PersistentArrayMapIterator.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null)],null)},cljs.core.PersistentArrayMapIterator.cljs$lang$type=!0,cljs.core.PersistentArrayMapIterator.cljs$lang$ctorStr="cljs.core/PersistentArrayMapIterator",cljs.core.PersistentArrayMapIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentArrayMapIterator")},cljs.core.__GT_PersistentArrayMapIterator=function(r,l,e){return new cljs.core.PersistentArrayMapIterator(r,l,e)},cljs.core.PersistentArrayMap=function(r,l,e,c){this.meta=r,this.cnt=l,this.arr=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=16647951,this.cljs$lang$protocol_mask$partition1$=8196},cljs.core.PersistentArrayMap.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentArrayMap.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentArrayMap.prototype.keys=function(){return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(this):cljs.core.keys.call(null,this))},cljs.core.PersistentArrayMap.prototype.entries=function(){return cljs.core.es6_entries_iterator(cljs.core.seq(this))},cljs.core.PersistentArrayMap.prototype.values=function(){return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(this):cljs.core.vals.call(null,this))},cljs.core.PersistentArrayMap.prototype.has=function(r){return cljs.core.contains_QMARK_(this,r)},cljs.core.PersistentArrayMap.prototype.get=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentArrayMap.prototype.forEach=function(r){for(var l=cljs.core.seq(this),e=null,c=0,t=0;;)if(t<c){var n=e.cljs$core$IIndexed$_nth$arity$2(null,t),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null),n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,1,null);r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s),t+=1}else{if(!(l=cljs.core.seq(l)))return null;cljs.core.chunked_seq_QMARK_(l)?(e=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),s=e,c=cljs.core.count(e),e=s):(e=cljs.core.first(l),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,s):r.call(null,e,s),l=cljs.core.next(l),e=null,c=0),t=0}},cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return r=cljs.core.array_map_index_of(this,l),-1===r?e:this.arr[r+1]},cljs.core.PersistentArrayMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){r=this.arr.length;for(var c=0;;){if(!(c<r))return e;var t=this.arr[c],n=this.arr[c+1];if(e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(e,t,n):l.call(null,e,t,n),cljs.core.reduced_QMARK_(e))return l=e,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);c+=2}},cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$=!0,cljs.core.PersistentArrayMap.prototype.cljs$core$IIterable$_iterator$arity$1=function(r){return new cljs.core.PersistentArrayMapIterator(this.arr,0,2*this.cnt)},
cljs.core.PersistentArrayMap.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentArrayMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentArrayMap(this.meta,this.cnt,this.arr,this.__hash)},cljs.core.PersistentArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.cnt},cljs.core.PersistentArrayMap.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.PersistentArrayMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){if(!l||!(1024&l.cljs$lang$protocol_mask$partition0$||l.cljs$core$IMap$))return cljs.core.equiv_map(this,l);var e=this.arr.length;if(this.cnt!==l.cljs$core$ICounted$_count$arity$1(null))return!1;for(var c=0;;){if(!(c<e))return!0;var t=l.cljs$core$ILookup$_lookup$arity$3(null,this.arr[c],cljs.core.lookup_sentinel);if(t===cljs.core.lookup_sentinel)return!1;if(!cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this.arr[c+1],t))return!1;c+=2}},cljs.core.PersistentArrayMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(r){return new cljs.core.TransientArrayMap({},this.arr.length,cljs.core.aclone(this.arr))},cljs.core.PersistentArrayMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core._with_meta(cljs.core.PersistentArrayMap.EMPTY,this.meta)},cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.PersistentArrayMap.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.PersistentArrayMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){if(!(0<=cljs.core.array_map_index_of(this,l)))return this;var e=this.arr.length,c=e-2;if(0===c)return cljs.core._empty(this);for(var c=Array(c),t=0,n=0;;){if(t>=e)return new cljs.core.PersistentArrayMap(this.meta,this.cnt-1,c,null);cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(l,this.arr[t])||(c[n]=this.arr[t],c[n+1]=this.arr[t+1],n+=2),t+=2}},cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return-1===(r=cljs.core.array_map_index_of(this,l))?this.cnt<cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD?(e=cljs.core.array_map_extend_kv(this,l,e),new cljs.core.PersistentArrayMap(this.meta,this.cnt+1,e,null)):cljs.core._with_meta(cljs.core._assoc(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashMap.EMPTY,this),l,e),this.meta):e===this.arr[r+1]?this:(l=cljs.core.aclone(this.arr),l[r+1]=e,new cljs.core.PersistentArrayMap(this.meta,this.cnt,l,null))},cljs.core.PersistentArrayMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){return-1!==cljs.core.array_map_index_of(this,l)},cljs.core.PersistentArrayMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.persistent_array_map_seq(this.arr,0,null)},cljs.core.PersistentArrayMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentArrayMap(l,this.cnt,this.arr,this.__hash)},cljs.core.PersistentArrayMap.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l))return cljs.core._assoc(this,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,1));for(var e=this,c=cljs.core.seq(l);;){if(null==c)return e;var t=cljs.core.first(c);if(!cljs.core.vector_QMARK_(t))throw Error("conj on a map takes map entries or seqables of map entries");e=cljs.core._assoc(e,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,1)),c=cljs.core.next(c)}},cljs.core.PersistentArrayMap.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.PersistentArrayMap.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.PersistentArrayMap.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentArrayMap.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentArrayMap.cljs$lang$type=!0,cljs.core.PersistentArrayMap.cljs$lang$ctorStr="cljs.core/PersistentArrayMap",cljs.core.PersistentArrayMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentArrayMap")},cljs.core.__GT_PersistentArrayMap=function(r,l,e,c){return new cljs.core.PersistentArrayMap(r,l,e,c)},cljs.core.PersistentArrayMap.EMPTY=new cljs.core.PersistentArrayMap(null,0,[],cljs.core.empty_unordered_hash),cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD=8,cljs.core.PersistentArrayMap.fromArray=function(r,l,e){if(r=l?r:cljs.core.aclone(r),!e){for(e=[],l=0;l<r.length;){var c=r[l],t=r[l+1];-1===cljs.core.array_index_of(e,c)&&(e.push(c),e.push(t)),l+=2}r=e}return new cljs.core.PersistentArrayMap(null,r.length/2,r,null)},cljs.core.PersistentArrayMap.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.TransientArrayMap=function(r,l,e){this.editable_QMARK_=r,this.len=l,this.arr=e,this.cljs$lang$protocol_mask$partition0$=258,this.cljs$lang$protocol_mask$partition1$=56},cljs.core.TransientArrayMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){if(cljs.core.truth_(this.editable_QMARK_))return cljs.core.quot(this.len,2);throw Error("count after persistent!")},cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.TransientArrayMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){if(cljs.core.truth_(this.editable_QMARK_))return r=cljs.core.array_map_index_of(this,l),-1===r?e:this.arr[r+1];throw Error("lookup after persistent!")},cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(r,l){if(!cljs.core.truth_(this.editable_QMARK_))throw Error("conj! after persistent!");if(l?2048&l.cljs$lang$protocol_mask$partition0$||l.cljs$core$IMapEntry$||(l.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,l)):cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,l))return cljs.core._assoc_BANG_(this,cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(l):cljs.core.key.call(null,l),cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(l):cljs.core.val.call(null,l));for(var e=cljs.core.seq(l),c=this;;){var t=cljs.core.first(e);if(!cljs.core.truth_(t))return c;var n=t,e=cljs.core.next(e),c=cljs.core._assoc_BANG_(c,function(){var r=n;return cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(r):cljs.core.key.call(null,r)}(),function(){var r=n;return cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(r):cljs.core.val.call(null,r)}())}},cljs.core.TransientArrayMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(r){if(cljs.core.truth_(this.editable_QMARK_))return this.editable_QMARK_=!1,new cljs.core.PersistentArrayMap(null,cljs.core.quot(this.len,2),this.arr,null);throw Error("persistent! called twice")},cljs.core.TransientArrayMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(r,l,e){var c=this;if(cljs.core.truth_(c.editable_QMARK_))return-1===(r=cljs.core.array_map_index_of(this,l))?c.len+2<=2*cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD?(c.len+=2,c.arr.push(l),c.arr.push(e),this):cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(function(){var r=c.len,l=c.arr;return cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2?cljs.core.array__GT_transient_hash_map.cljs$core$IFn$_invoke$arity$2(r,l):cljs.core.array__GT_transient_hash_map.call(null,r,l)}(),l,e):(e!==c.arr[r+1]&&(c.arr[r+1]=e),this);throw Error("assoc! after persistent!")},cljs.core.TransientArrayMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(r,l){if(cljs.core.truth_(this.editable_QMARK_)){var e=cljs.core.array_map_index_of(this,l);return 0<=e&&(this.arr[e]=this.arr[this.len-2],this.arr[e+1]=this.arr[this.len-1],e=this.arr,e.pop(),e.pop(),this.len-=2),this}throw Error("dissoc! after persistent!")},cljs.core.TransientArrayMap.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"editable?","editable?",-164945806,null),new cljs.core.Symbol(null,"len","len",-1230778691,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.TransientArrayMap.cljs$lang$type=!0,cljs.core.TransientArrayMap.cljs$lang$ctorStr="cljs.core/TransientArrayMap",cljs.core.TransientArrayMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/TransientArrayMap")},cljs.core.__GT_TransientArrayMap=function(r,l,e){return new cljs.core.TransientArrayMap(r,l,e)},cljs.core.array__GT_transient_hash_map=function(r,l){for(var e=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY),c=0;;){if(!(c<r))return e;e=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(e,l[c],l[c+1]),c+=2}},cljs.core.Box=function(r){this.val=r},cljs.core.Box.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"val","val",1769233139,null)],null)},cljs.core.Box.cljs$lang$type=!0,cljs.core.Box.cljs$lang$ctorStr="cljs.core/Box",cljs.core.Box.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Box")},cljs.core.__GT_Box=function(r){return new cljs.core.Box(r)},cljs.core.key_test=function(r,l){return r===l||(!!cljs.core.keyword_identical_QMARK_(r,l)||cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(r,l))},cljs.core.mask=function(r,l){return r>>>l&31},cljs.core.clone_and_set=function(){switch(arguments.length){case 3:return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 5:return cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r=cljs.core.aclone(r),r[l]=e,r},cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return r=cljs.core.aclone(r),r[l]=e,r[c]=t,r},cljs.core.clone_and_set.cljs$lang$maxFixedArity=5,cljs.core.remove_pair=function(r,l){var e=Array(r.length-2);return cljs.core.array_copy(r,0,e,0,2*l),cljs.core.array_copy(r,2*(l+1),e,2*l,e.length-2*l),e},cljs.core.bitmap_indexed_node_index=function(r,l){return cljs.core.bit_count(r&l-1)},cljs.core.bitpos=function(r,l){return 1<<(r>>>l&31)},cljs.core.edit_and_set=function(){switch(arguments.length){case 4:return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 6:return cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return r=r.ensure_editable(l),r.arr[e]=c,r},cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return r=r.ensure_editable(l),r.arr[e]=c,r.arr[t]=n,r},cljs.core.edit_and_set.cljs$lang$maxFixedArity=6,cljs.core.inode_kv_reduce=function(r,l,e){for(var c=r.length,t=0,n=e;;){if(!(t<c))return n;if(null!=(e=r[t])){var s=r[t+1];e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(n,e,s):l.call(null,n,e,s)}else e=r[t+1],e=null!=e?e.kv_reduce(l,n):n;if(cljs.core.reduced_QMARK_(e))return r=e,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r);t+=2,n=e}},cljs.core.BitmapIndexedNode=function(r,l,e){this.edit=r,this.bitmap=l,this.arr=e},cljs.core.BitmapIndexedNode.prototype.ensure_editable=function(r){if(r===this.edit)return this;var l=cljs.core.bit_count(this.bitmap),e=Array(0>l?4:2*(l+1));return cljs.core.array_copy(this.arr,0,e,0,2*l),new cljs.core.BitmapIndexedNode(r,this.bitmap,e)},cljs.core.BitmapIndexedNode.prototype.inode_without_BANG_=function(r,l,e,c,t){var n=1<<(e>>>l&31);if(0==(this.bitmap&n))return this;var s=cljs.core.bitmap_indexed_node_index(this.bitmap,n),o=this.arr[2*s],a=this.arr[2*s+1];return null==o?(l=a.inode_without_BANG_(r,l+5,e,c,t),l===a?this:null!=l?cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,2*s+1,l):this.bitmap===n?null:this.edit_and_remove_pair(r,n,s)):cljs.core.key_test(c,o)?(t[0]=!0,this.edit_and_remove_pair(r,n,s)):this},cljs.core.BitmapIndexedNode.prototype.edit_and_remove_pair=function(r,l,e){if(this.bitmap===l)return null;r=this.ensure_editable(r);var c=r.arr,t=c.length;return r.bitmap^=l,cljs.core.array_copy(c,2*(e+1),c,2*e,t-2*(e+1)),c[t-2]=null,c[t-1]=null,r},cljs.core.BitmapIndexedNode.prototype.inode_seq=function(){var r=this.arr;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(r):cljs.core.create_inode_seq.call(null,r)},cljs.core.BitmapIndexedNode.prototype.kv_reduce=function(r,l){return cljs.core.inode_kv_reduce(this.arr,r,l)},cljs.core.BitmapIndexedNode.prototype.inode_lookup=function(r,l,e,c){var t=1<<(l>>>r&31);if(0==(this.bitmap&t))return c;var n=cljs.core.bitmap_indexed_node_index(this.bitmap,t),t=this.arr[2*n],n=this.arr[2*n+1];return null==t?n.inode_lookup(r+5,l,e,c):cljs.core.key_test(e,t)?n:c},cljs.core.BitmapIndexedNode.prototype.inode_assoc_BANG_=function(r,l,e,c,t,n){var s=1<<(e>>>l&31),o=cljs.core.bitmap_indexed_node_index(this.bitmap,s);if(0==(this.bitmap&s)){var a=cljs.core.bit_count(this.bitmap);if(2*a<this.arr.length){var i=this.ensure_editable(r),u=i.arr;return n.val=!0,cljs.core.array_copy_downward(u,2*o,u,2*(o+1),2*(a-o)),u[2*o]=c,u[2*o+1]=t,i.bitmap|=s,i}if(16<=a){for(s=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],s[e>>>l&31]=cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(r,l+5,e,c,t,n),i=o=0;32>o;)0!=(this.bitmap>>>o&1)&&(s[o]=null!=this.arr[i]?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(r,l+5,cljs.core.hash(this.arr[i]),this.arr[i],this.arr[i+1],n):this.arr[i+1],i+=2),o+=1;return new cljs.core.ArrayNode(r,a+1,s)}return u=Array(2*(a+4)),cljs.core.array_copy(this.arr,0,u,0,2*o),u[2*o]=c,u[2*o+1]=t,cljs.core.array_copy(this.arr,2*o,u,2*(o+1),2*(a-o)),n.val=!0,i=this.ensure_editable(r),i.arr=u,i.bitmap|=s,i}var $=this.arr[2*o],j=this.arr[2*o+1];return null==$?(a=j.inode_assoc_BANG_(r,l+5,e,c,t,n),a===j?this:cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,2*o+1,a)):cljs.core.key_test(c,$)?t===j?this:cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,2*o+1,t):(n.val=!0,cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(this,r,2*o,null,2*o+1,function(){var n=l+5;return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7?cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(r,n,$,j,e,c,t):cljs.core.create_node.call(null,r,n,$,j,e,c,t)}()))},cljs.core.BitmapIndexedNode.prototype.inode_assoc=function(r,l,e,c,t){var n=1<<(l>>>r&31),s=cljs.core.bitmap_indexed_node_index(this.bitmap,n);if(0==(this.bitmap&n)){var o=cljs.core.bit_count(this.bitmap);if(16<=o){n=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],n[l>>>r&31]=cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(r+5,l,e,c,t);for(var a=s=0;32>s;)0!=(this.bitmap>>>s&1)&&(n[s]=null!=this.arr[a]?cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(r+5,cljs.core.hash(this.arr[a]),this.arr[a],this.arr[a+1],t):this.arr[a+1],a+=2),s+=1;return new cljs.core.ArrayNode(null,o+1,n)}return a=Array(2*(o+1)),cljs.core.array_copy(this.arr,0,a,0,2*s),a[2*s]=e,a[2*s+1]=c,cljs.core.array_copy(this.arr,2*s,a,2*(s+1),2*(o-s)),t.val=!0,new cljs.core.BitmapIndexedNode(null,this.bitmap|n,a)}var i=this.arr[2*s],u=this.arr[2*s+1];return null==i?(o=u.inode_assoc(r+5,l,e,c,t),o===u?this:new cljs.core.BitmapIndexedNode(null,this.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,2*s+1,o))):cljs.core.key_test(e,i)?c===u?this:new cljs.core.BitmapIndexedNode(null,this.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,2*s+1,c)):(t.val=!0,new cljs.core.BitmapIndexedNode(null,this.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$5(this.arr,2*s,null,2*s+1,function(){var t=r+5;return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6?cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(t,i,u,l,e,c):cljs.core.create_node.call(null,t,i,u,l,e,c)}())))},cljs.core.BitmapIndexedNode.prototype.inode_find=function(r,l,e,c){var t=1<<(l>>>r&31);if(0==(this.bitmap&t))return c;var n=cljs.core.bitmap_indexed_node_index(this.bitmap,t),t=this.arr[2*n],n=this.arr[2*n+1];return null==t?n.inode_find(r+5,l,e,c):cljs.core.key_test(e,t)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[t,n],null):c},cljs.core.BitmapIndexedNode.prototype.inode_without=function(r,l,e){var c=1<<(l>>>r&31);if(0==(this.bitmap&c))return this;var t=cljs.core.bitmap_indexed_node_index(this.bitmap,c),n=this.arr[2*t],s=this.arr[2*t+1];return null==n?(r=s.inode_without(r+5,l,e),r===s?this:null!=r?new cljs.core.BitmapIndexedNode(null,this.bitmap,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,2*t+1,r)):this.bitmap===c?null:new cljs.core.BitmapIndexedNode(null,this.bitmap^c,cljs.core.remove_pair(this.arr,t))):cljs.core.key_test(e,n)?new cljs.core.BitmapIndexedNode(null,this.bitmap^c,cljs.core.remove_pair(this.arr,t)):this},cljs.core.BitmapIndexedNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"bitmap","bitmap",501334601,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.BitmapIndexedNode.cljs$lang$type=!0,cljs.core.BitmapIndexedNode.cljs$lang$ctorStr="cljs.core/BitmapIndexedNode",cljs.core.BitmapIndexedNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/BitmapIndexedNode")},cljs.core.__GT_BitmapIndexedNode=function(r,l,e){return new cljs.core.BitmapIndexedNode(r,l,e)},cljs.core.BitmapIndexedNode.EMPTY=new cljs.core.BitmapIndexedNode(null,0,[]),cljs.core.pack_array_node=function(r,l,e){var c=r.arr,t=c.length;r=Array(2*(r.cnt-1));for(var n=0,s=1,o=0;;){if(!(n<t))return new cljs.core.BitmapIndexedNode(l,o,r);n!==e&&null!=c[n]&&(r[s]=c[n],s+=2,o|=1<<n),n+=1}},cljs.core.ArrayNode=function(r,l,e){this.edit=r,this.cnt=l,this.arr=e},cljs.core.ArrayNode.prototype.ensure_editable=function(r){return r===this.edit?this:new cljs.core.ArrayNode(r,this.cnt,cljs.core.aclone(this.arr))},cljs.core.ArrayNode.prototype.inode_without_BANG_=function(r,l,e,c,t){var n=e>>>l&31,s=this.arr[n];return null==s?this:(l=s.inode_without_BANG_(r,l+5,e,c,t),l===s?this:null==l?8>=this.cnt?cljs.core.pack_array_node(this,r,n):(r=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,n,l),--r.cnt,r):cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,n,l))},cljs.core.ArrayNode.prototype.inode_seq=function(){var r=this.arr;return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(r):cljs.core.create_array_node_seq.call(null,r)},cljs.core.ArrayNode.prototype.kv_reduce=function(r,l){for(var e=this.arr.length,c=0,t=l;;){if(!(c<e))return t;var n=this.arr[c];if(null!=n&&(t=n.kv_reduce(r,t),cljs.core.reduced_QMARK_(t)))return e=t,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(e):cljs.core.deref.call(null,e);c+=1}},cljs.core.ArrayNode.prototype.inode_lookup=function(r,l,e,c){var t=this.arr[l>>>r&31];return null!=t?t.inode_lookup(r+5,l,e,c):c},cljs.core.ArrayNode.prototype.inode_assoc_BANG_=function(r,l,e,c,t,n){var s=e>>>l&31,o=this.arr[s];return null==o?(r=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,s,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(r,l+5,e,c,t,n)),r.cnt+=1,r):(l=o.inode_assoc_BANG_(r,l+5,e,c,t,n),l===o?this:cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,s,l))},cljs.core.ArrayNode.prototype.inode_assoc=function(r,l,e,c,t){var n=l>>>r&31,s=this.arr[n];return null==s?new cljs.core.ArrayNode(null,this.cnt+1,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,n,cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(r+5,l,e,c,t))):(r=s.inode_assoc(r+5,l,e,c,t),r===s?this:new cljs.core.ArrayNode(null,this.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,n,r)))},cljs.core.ArrayNode.prototype.inode_find=function(r,l,e,c){var t=this.arr[l>>>r&31];return null!=t?t.inode_find(r+5,l,e,c):c},cljs.core.ArrayNode.prototype.inode_without=function(r,l,e){var c=l>>>r&31,t=this.arr[c];return null!=t?(r=t.inode_without(r+5,l,e),r===t?this:null==r?8>=this.cnt?cljs.core.pack_array_node(this,null,c):new cljs.core.ArrayNode(null,this.cnt-1,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,c,r)):new cljs.core.ArrayNode(null,this.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,c,r))):this},cljs.core.ArrayNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.ArrayNode.cljs$lang$type=!0,cljs.core.ArrayNode.cljs$lang$ctorStr="cljs.core/ArrayNode",cljs.core.ArrayNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ArrayNode")},cljs.core.__GT_ArrayNode=function(r,l,e){return new cljs.core.ArrayNode(r,l,e)},cljs.core.hash_collision_node_find_index=function(r,l,e){l*=2;for(var c=0;;){if(!(c<l))return-1;if(cljs.core.key_test(e,r[c]))return c;c+=2}},cljs.core.HashCollisionNode=function(r,l,e,c){this.edit=r,this.collision_hash=l,this.cnt=e,this.arr=c},cljs.core.HashCollisionNode.prototype.ensure_editable=function(r){if(r===this.edit)return this;var l=Array(2*(this.cnt+1));return cljs.core.array_copy(this.arr,0,l,0,2*this.cnt),new cljs.core.HashCollisionNode(r,this.collision_hash,this.cnt,l)},cljs.core.HashCollisionNode.prototype.inode_without_BANG_=function(r,l,e,c,t){return-1===(l=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,c))?this:(t[0]=!0,1===this.cnt?null:(r=this.ensure_editable(r),t=r.arr,t[l]=t[2*this.cnt-2],t[l+1]=t[2*this.cnt-1],t[2*this.cnt-1]=null,t[2*this.cnt-2]=null,--r.cnt,r))},cljs.core.HashCollisionNode.prototype.inode_seq=function(){var r=this.arr;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(r):cljs.core.create_inode_seq.call(null,r)},cljs.core.HashCollisionNode.prototype.kv_reduce=function(r,l){return cljs.core.inode_kv_reduce(this.arr,r,l)},cljs.core.HashCollisionNode.prototype.inode_lookup=function(r,l,e,c){return r=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,e),0>r?c:cljs.core.key_test(e,this.arr[r])?this.arr[r+1]:c},cljs.core.HashCollisionNode.prototype.inode_assoc_BANG_=function(r,l,e,c,t,n){return e===this.collision_hash?(l=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,c),-1===l?this.arr.length>2*this.cnt?(r=cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$6(this,r,2*this.cnt,c,2*this.cnt+1,t),n.val=!0,r.cnt+=1,r):(l=this.arr.length,e=Array(l+2),cljs.core.array_copy(this.arr,0,e,0,l),e[l]=c,e[l+1]=t,n.val=!0,this.ensure_editable_array(r,this.cnt+1,e)):this.arr[l+1]===t?this:cljs.core.edit_and_set.cljs$core$IFn$_invoke$arity$4(this,r,l+1,t)):new cljs.core.BitmapIndexedNode(r,1<<(this.collision_hash>>>l&31),[null,this,null,null]).inode_assoc_BANG_(r,l,e,c,t,n)},cljs.core.HashCollisionNode.prototype.inode_assoc=function(r,l,e,c,t){return l===this.collision_hash?(r=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,e),-1===r?(r=2*this.cnt,l=Array(r+2),cljs.core.array_copy(this.arr,0,l,0,r),l[r]=e,l[r+1]=c,t.val=!0,new cljs.core.HashCollisionNode(null,this.collision_hash,this.cnt+1,l)):cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this.arr[r],c)?this:new cljs.core.HashCollisionNode(null,this.collision_hash,this.cnt,cljs.core.clone_and_set.cljs$core$IFn$_invoke$arity$3(this.arr,r+1,c))):new cljs.core.BitmapIndexedNode(null,1<<(this.collision_hash>>>r&31),[null,this]).inode_assoc(r,l,e,c,t)},cljs.core.HashCollisionNode.prototype.ensure_editable_array=function(r,l,e){return r===this.edit?(this.arr=e,this.cnt=l,this):new cljs.core.HashCollisionNode(this.edit,this.collision_hash,l,e)},cljs.core.HashCollisionNode.prototype.inode_find=function(r,l,e,c){return r=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,e),0>r?c:cljs.core.key_test(e,this.arr[r])?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.arr[r],this.arr[r+1]],null):c},cljs.core.HashCollisionNode.prototype.inode_without=function(r,l,e){return r=cljs.core.hash_collision_node_find_index(this.arr,this.cnt,e),-1===r?this:1===this.cnt?null:new cljs.core.HashCollisionNode(null,this.collision_hash,this.cnt-1,cljs.core.remove_pair(this.arr,cljs.core.quot(r,2)))},cljs.core.HashCollisionNode.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"collision-hash","collision-hash",-35831342,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.HashCollisionNode.cljs$lang$type=!0,cljs.core.HashCollisionNode.cljs$lang$ctorStr="cljs.core/HashCollisionNode",cljs.core.HashCollisionNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/HashCollisionNode")},cljs.core.__GT_HashCollisionNode=function(r,l,e,c){return new cljs.core.HashCollisionNode(r,l,e,c)},cljs.core.create_node=function(){switch(arguments.length){case 6:return cljs.core.create_node.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return cljs.core.create_node.cljs$core$IFn$_invoke$arity$7(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.create_node.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){var s=cljs.core.hash(l);if(s===c)return new cljs.core.HashCollisionNode(null,s,2,[l,e,t,n]);var o=new cljs.core.Box(!1);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc(r,s,l,e,o).inode_assoc(r,c,t,n,o)},cljs.core.create_node.cljs$core$IFn$_invoke$arity$7=function(r,l,e,c,t,n,s){var o=cljs.core.hash(e);if(o===t)return new cljs.core.HashCollisionNode(null,o,2,[e,c,n,s]);var a=new cljs.core.Box(!1);return cljs.core.BitmapIndexedNode.EMPTY.inode_assoc_BANG_(r,l,o,e,c,a).inode_assoc_BANG_(r,l,t,n,s,a)},cljs.core.create_node.cljs$lang$maxFixedArity=7,cljs.core.NodeSeq=function(r,l,e,c,t){this.meta=r,this.nodes=l,this.i=e,this.s=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32374860,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.NodeSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.NodeSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.NodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.NodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.NodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.NodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.NodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.NodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return null==this.s?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.nodes[this.i],this.nodes[this.i+1]],null):cljs.core.first(this.s)},cljs.core.NodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){if(null==this.s){r=this.nodes;var l=this.i+2;return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(r,l,null):cljs.core.create_inode_seq.call(null,r,l,null)}r=this.nodes;var l=this.i,e=cljs.core.next(this.s);return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3?cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(r,l,e):cljs.core.create_inode_seq.call(null,r,l,e)},cljs.core.NodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.NodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.NodeSeq(l,this.nodes,this.i,this.s,this.__hash)},cljs.core.NodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.NodeSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"nodes","nodes",-459054278,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.NodeSeq.cljs$lang$type=!0,cljs.core.NodeSeq.cljs$lang$ctorStr="cljs.core/NodeSeq",cljs.core.NodeSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/NodeSeq")},cljs.core.__GT_NodeSeq=function(r,l,e,c,t){return new cljs.core.NodeSeq(r,l,e,c,t)},cljs.core.NodeSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.create_inode_seq=function(){switch(arguments.length){case 1:return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 3:return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3(r,0,null)},cljs.core.create_inode_seq.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(null!=e)return new cljs.core.NodeSeq(null,r,l,e,null);for(e=r.length;;){if(!(l<e))return null
;if(null!=r[l])return new cljs.core.NodeSeq(null,r,l,null,null);var c=r[l+1];if(cljs.core.truth_(c)&&(c=c.inode_seq(),cljs.core.truth_(c)))return new cljs.core.NodeSeq(null,r,l+2,c,null);l+=2}},cljs.core.create_inode_seq.cljs$lang$maxFixedArity=3,cljs.core.ArrayNodeSeq=function(r,l,e,c,t){this.meta=r,this.nodes=l,this.i=e,this.s=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32374860,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.ArrayNodeSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ArrayNodeSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)};cljs.core.ArrayNodeSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.ArrayNodeSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.ArrayNodeSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.ArrayNodeSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.ArrayNodeSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core.first(this.s)},cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){r=this.nodes;var l=this.i,e=cljs.core.next(this.s);return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4?cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(null,r,l,e):cljs.core.create_array_node_seq.call(null,null,r,l,e)},cljs.core.ArrayNodeSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.ArrayNodeSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.ArrayNodeSeq(l,this.nodes,this.i,this.s,this.__hash)},cljs.core.ArrayNodeSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.ArrayNodeSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"nodes","nodes",-459054278,null),new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.ArrayNodeSeq.cljs$lang$type=!0,cljs.core.ArrayNodeSeq.cljs$lang$ctorStr="cljs.core/ArrayNodeSeq",cljs.core.ArrayNodeSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ArrayNodeSeq")},cljs.core.__GT_ArrayNodeSeq=function(r,l,e,c,t){return new cljs.core.ArrayNodeSeq(r,l,e,c,t)},cljs.core.ArrayNodeSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.create_array_node_seq=function(){switch(arguments.length){case 1:return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 4:return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4(null,r,0,null)},cljs.core.create_array_node_seq.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){if(null!=c)return new cljs.core.ArrayNodeSeq(r,l,e,c,null);for(c=l.length;;){if(!(e<c))return null;var t=l[e];if(cljs.core.truth_(t)&&(t=t.inode_seq(),cljs.core.truth_(t)))return new cljs.core.ArrayNodeSeq(r,l,e+1,t,null);e+=1}},cljs.core.create_array_node_seq.cljs$lang$maxFixedArity=4,cljs.core.PersistentHashMap=function(r,l,e,c,t,n){this.meta=r,this.cnt=l,this.root=e,this.has_nil_QMARK_=c,this.nil_val=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=16123663,this.cljs$lang$protocol_mask$partition1$=8196},cljs.core.PersistentHashMap.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentHashMap.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentHashMap.prototype.keys=function(){return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(this):cljs.core.keys.call(null,this))},cljs.core.PersistentHashMap.prototype.entries=function(){return cljs.core.es6_entries_iterator(cljs.core.seq(this))},cljs.core.PersistentHashMap.prototype.values=function(){return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(this):cljs.core.vals.call(null,this))},cljs.core.PersistentHashMap.prototype.has=function(r){return cljs.core.contains_QMARK_(this,r)},cljs.core.PersistentHashMap.prototype.get=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentHashMap.prototype.forEach=function(r){for(var l=cljs.core.seq(this),e=null,c=0,t=0;;)if(t<c){var n=e.cljs$core$IIndexed$_nth$arity$2(null,t),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null),n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,1,null);r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s),t+=1}else{if(!(l=cljs.core.seq(l)))return null;cljs.core.chunked_seq_QMARK_(l)?(e=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),s=e,c=cljs.core.count(e),e=s):(e=cljs.core.first(l),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,s):r.call(null,e,s),l=cljs.core.next(l),e=null,c=0),t=0}},cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return null==l?this.has_nil_QMARK_?this.nil_val:e:null==this.root?e:this.root.inode_lookup(0,cljs.core.hash(l),l,e)},cljs.core.PersistentHashMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){return this.has_nil_QMARK_&&(r=this.nil_val,e=l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(e,null,r):l.call(null,e,null,r)),cljs.core.reduced_QMARK_(e)?cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(e):cljs.core.deref.call(null,e):null!=this.root?this.root.kv_reduce(l,e):e},cljs.core.PersistentHashMap.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentHashMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentHashMap(this.meta,this.cnt,this.root,this.has_nil_QMARK_,this.nil_val,this.__hash)},cljs.core.PersistentHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.cnt},cljs.core.PersistentHashMap.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.PersistentHashMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_map(this,l)},cljs.core.PersistentHashMap.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(r){return new cljs.core.TransientHashMap({},this.root,this.cnt,this.has_nil_QMARK_,this.nil_val)},cljs.core.PersistentHashMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core._with_meta(cljs.core.PersistentHashMap.EMPTY,this.meta)},cljs.core.PersistentHashMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){if(null==l)return this.has_nil_QMARK_?new cljs.core.PersistentHashMap(this.meta,this.cnt-1,this.root,!1,null,null):this;if(null==this.root)return this;var e=this.root.inode_without(0,cljs.core.hash(l),l);return e===this.root?this:new cljs.core.PersistentHashMap(this.meta,this.cnt-1,e,this.has_nil_QMARK_,this.nil_val,null)},cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return null==l?this.has_nil_QMARK_&&e===this.nil_val?this:new cljs.core.PersistentHashMap(this.meta,this.has_nil_QMARK_?this.cnt:this.cnt+1,this.root,!0,e,null):(r=new cljs.core.Box(!1),l=(null==this.root?cljs.core.BitmapIndexedNode.EMPTY:this.root).inode_assoc(0,cljs.core.hash(l),l,e,r),l===this.root?this:new cljs.core.PersistentHashMap(this.meta,r.val?this.cnt+1:this.cnt,l,this.has_nil_QMARK_,this.nil_val,null))},cljs.core.PersistentHashMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){return null==l?this.has_nil_QMARK_:null!=this.root&&this.root.inode_lookup(0,cljs.core.hash(l),l,cljs.core.lookup_sentinel)!==cljs.core.lookup_sentinel},cljs.core.PersistentHashMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return 0<this.cnt?(r=null!=this.root?this.root.inode_seq():null,this.has_nil_QMARK_?cljs.core.cons(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[null,this.nil_val],null),r):r):null},cljs.core.PersistentHashMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentHashMap(l,this.cnt,this.root,this.has_nil_QMARK_,this.nil_val,this.__hash)},cljs.core.PersistentHashMap.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l))return cljs.core._assoc(this,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,1));for(var e=this,c=cljs.core.seq(l);;){if(null==c)return e;var t=cljs.core.first(c);if(!cljs.core.vector_QMARK_(t))throw Error("conj on a map takes map entries or seqables of map entries");e=cljs.core._assoc(e,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,1)),c=cljs.core.next(c)}},cljs.core.PersistentHashMap.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.PersistentHashMap.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.PersistentHashMap.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentHashMap.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"has-nil?","has-nil?",825886722,null),new cljs.core.Symbol(null,"nil-val","nil-val",-513933559,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentHashMap.cljs$lang$type=!0,cljs.core.PersistentHashMap.cljs$lang$ctorStr="cljs.core/PersistentHashMap",cljs.core.PersistentHashMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentHashMap")},cljs.core.__GT_PersistentHashMap=function(r,l,e,c,t,n){return new cljs.core.PersistentHashMap(r,l,e,c,t,n)},cljs.core.PersistentHashMap.EMPTY=new cljs.core.PersistentHashMap(null,0,null,!1,null,cljs.core.empty_unordered_hash),cljs.core.PersistentHashMap.fromArray=function(r,l){for(var e=l?r:cljs.core.aclone(r),c=e.length,t=0,n=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);;){if(!(t<c))return cljs.core._persistent_BANG_(n);var s=t+2,n=cljs.core._assoc_BANG_(n,e[t],e[t+1]),t=s}},cljs.core.PersistentHashMap.fromArrays=function(r,l){for(var e=r.length,c=0,t=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);;){if(!(c<e))return cljs.core.persistent_BANG_(t);var n=c+1,t=t.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3(null,r[c],l[c]),c=n}},cljs.core.PersistentHashMap.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.TransientHashMap=function(r,l,e,c,t){this.edit=r,this.root=l,this.count=e,this.has_nil_QMARK_=c,this.nil_val=t,this.cljs$lang$protocol_mask$partition0$=258,this.cljs$lang$protocol_mask$partition1$=56},cljs.core.TransientHashMap.prototype.conj_BANG_=function(r){if(!this.edit)throw Error("conj! after persistent");if(r?2048&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IMapEntry$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,r)):cljs.core.native_satisfies_QMARK_(cljs.core.IMapEntry,r))return this.assoc_BANG_(cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(r):cljs.core.key.call(null,r),cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(r):cljs.core.val.call(null,r));r=cljs.core.seq(r);for(var l=this;;){var e=cljs.core.first(r);if(!cljs.core.truth_(e))return l;var c=e;r=cljs.core.next(r),l=l.assoc_BANG_(function(){var r=c;return cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(r):cljs.core.key.call(null,r)}(),function(){var r=c;return cljs.core.val.cljs$core$IFn$_invoke$arity$1?cljs.core.val.cljs$core$IFn$_invoke$arity$1(r):cljs.core.val.call(null,r)}())}},cljs.core.TransientHashMap.prototype.assoc_BANG_=function(r,l){if(this.edit){if(null==r)this.nil_val!==l&&(this.nil_val=l),this.has_nil_QMARK_||(this.count+=1,this.has_nil_QMARK_=!0);else{var e=new cljs.core.Box(!1),c=(null==this.root?cljs.core.BitmapIndexedNode.EMPTY:this.root).inode_assoc_BANG_(this.edit,0,cljs.core.hash(r),r,l,e);c!==this.root&&(this.root=c),e.val&&(this.count+=1)}return this}throw Error("assoc! after persistent!")},cljs.core.TransientHashMap.prototype.without_BANG_=function(r){if(this.edit){if(null==r)this.has_nil_QMARK_&&(this.has_nil_QMARK_=!1,this.nil_val=null,--this.count);else if(null!=this.root){var l=new cljs.core.Box(!1);r=this.root.inode_without_BANG_(this.edit,0,cljs.core.hash(r),r,l),r!==this.root&&(this.root=r),cljs.core.truth_(l[0])&&--this.count}return this}throw Error("dissoc! after persistent!")},cljs.core.TransientHashMap.prototype.persistent_BANG_=function(){if(this.edit)return this.edit=null,new cljs.core.PersistentHashMap(null,this.count,this.root,this.has_nil_QMARK_,this.nil_val,null);throw Error("persistent! called twice")},cljs.core.TransientHashMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){if(this.edit)return this.count;throw Error("count after persistent!")},cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return null==l?this.has_nil_QMARK_?this.nil_val:null:null==this.root?null:this.root.inode_lookup(0,cljs.core.hash(l),l)},cljs.core.TransientHashMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return null==l?this.has_nil_QMARK_?this.nil_val:e:null==this.root?e:this.root.inode_lookup(0,cljs.core.hash(l),l,e)},cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(r,l){return this.conj_BANG_(l)},cljs.core.TransientHashMap.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(r){return this.persistent_BANG_()},cljs.core.TransientHashMap.prototype.cljs$core$ITransientAssociative$_assoc_BANG_$arity$3=function(r,l,e){return this.assoc_BANG_(l,e)},cljs.core.TransientHashMap.prototype.cljs$core$ITransientMap$_dissoc_BANG_$arity$2=function(r,l){return this.without_BANG_(l)},cljs.core.TransientHashMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"edit","edit",-1302639,null),new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"has-nil?","has-nil?",825886722,null),new cljs.core.Symbol(null,"nil-val","nil-val",-513933559,null)],null)},cljs.core.TransientHashMap.cljs$lang$type=!0,cljs.core.TransientHashMap.cljs$lang$ctorStr="cljs.core/TransientHashMap",cljs.core.TransientHashMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/TransientHashMap")},cljs.core.__GT_TransientHashMap=function(r,l,e,c,t){return new cljs.core.TransientHashMap(r,l,e,c,t)},cljs.core.tree_map_seq_push=function(r,l,e){for(var c=l;;){if(null==r)return c;l=e?r.left:r.right,c=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(c,r),r=l}},cljs.core.PersistentTreeMapSeq=function(r,l,e,c,t){this.meta=r,this.stack=l,this.ascending_QMARK_=e,this.cnt=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32374862,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.PersistentTreeMapSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentTreeMapSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0>this.cnt?cljs.core.count(cljs.core.next(this))+1:this.cnt},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return cljs.core.peek(this.stack)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return r=cljs.core.first(this.stack),r=cljs.core.tree_map_seq_push(this.ascending_QMARK_?r.right:r.left,cljs.core.next(this.stack),this.ascending_QMARK_),null!=r?new cljs.core.PersistentTreeMapSeq(null,r,this.ascending_QMARK_,this.cnt-1,null):cljs.core.List.EMPTY},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentTreeMapSeq(l,this.stack,this.ascending_QMARK_,this.cnt,this.__hash)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.PersistentTreeMapSeq.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"stack","stack",847125597,null),new cljs.core.Symbol(null,"ascending?","ascending?",-1938452653,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentTreeMapSeq.cljs$lang$type=!0,cljs.core.PersistentTreeMapSeq.cljs$lang$ctorStr="cljs.core/PersistentTreeMapSeq",cljs.core.PersistentTreeMapSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentTreeMapSeq")},cljs.core.__GT_PersistentTreeMapSeq=function(r,l,e,c,t){return new cljs.core.PersistentTreeMapSeq(r,l,e,c,t)},cljs.core.PersistentTreeMapSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.create_tree_map_seq=function(r,l,e){return new cljs.core.PersistentTreeMapSeq(null,cljs.core.tree_map_seq_push(r,null,l),l,e,null)},cljs.core.balance_left=function(r,l,e,c){return e instanceof cljs.core.RedNode?e.left instanceof cljs.core.RedNode?new cljs.core.RedNode(e.key,e.val,e.left.blacken(),new cljs.core.BlackNode(r,l,e.right,c,null),null):e.right instanceof cljs.core.RedNode?new cljs.core.RedNode(e.right.key,e.right.val,new cljs.core.BlackNode(e.key,e.val,e.left,e.right.left,null),new cljs.core.BlackNode(r,l,e.right.right,c,null),null):new cljs.core.BlackNode(r,l,e,c,null):new cljs.core.BlackNode(r,l,e,c,null)},cljs.core.balance_right=function(r,l,e,c){return c instanceof cljs.core.RedNode?c.right instanceof cljs.core.RedNode?new cljs.core.RedNode(c.key,c.val,new cljs.core.BlackNode(r,l,e,c.left,null),c.right.blacken(),null):c.left instanceof cljs.core.RedNode?new cljs.core.RedNode(c.left.key,c.left.val,new cljs.core.BlackNode(r,l,e,c.left.left,null),new cljs.core.BlackNode(c.key,c.val,c.left.right,c.right,null),null):new cljs.core.BlackNode(r,l,e,c,null):new cljs.core.BlackNode(r,l,e,c,null)},cljs.core.balance_left_del=function(r,l,e,c){if(e instanceof cljs.core.RedNode)return new cljs.core.RedNode(r,l,e.blacken(),c,null);if(c instanceof cljs.core.BlackNode)return cljs.core.balance_right(r,l,e,c.redden());if(c instanceof cljs.core.RedNode&&c.left instanceof cljs.core.BlackNode)return new cljs.core.RedNode(c.left.key,c.left.val,new cljs.core.BlackNode(r,l,e,c.left.left,null),cljs.core.balance_right(c.key,c.val,c.left.right,c.right.redden()),null);throw Error("red-black tree invariant violation")},cljs.core.balance_right_del=function(r,l,e,c){if(c instanceof cljs.core.RedNode)return new cljs.core.RedNode(r,l,e,c.blacken(),null);if(e instanceof cljs.core.BlackNode)return cljs.core.balance_left(r,l,e.redden(),c);if(e instanceof cljs.core.RedNode&&e.right instanceof cljs.core.BlackNode)return new cljs.core.RedNode(e.right.key,e.right.val,cljs.core.balance_left(e.key,e.val,e.left.redden(),e.right.left),new cljs.core.BlackNode(r,l,e.right.right,c,null),null);throw Error("red-black tree invariant violation")},cljs.core.tree_map_kv_reduce=function r(l,e,c){if(c=null!=l.left?r(l.left,e,c):c,cljs.core.reduced_QMARK_(c))return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c);var t=l.key,n=l.val;return c=e.cljs$core$IFn$_invoke$arity$3?e.cljs$core$IFn$_invoke$arity$3(c,t,n):e.call(null,c,t,n),cljs.core.reduced_QMARK_(c)?cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c):(l=null!=l.right?r(l.right,e,c):c,cljs.core.reduced_QMARK_(l)?cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l):l)},cljs.core.BlackNode=function(r,l,e,c,t){this.key=r,this.val=l,this.left=e,this.right=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32402207,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.BlackNode.prototype.add_right=function(r){return r.balance_right(this)},cljs.core.BlackNode.prototype.redden=function(){return new cljs.core.RedNode(this.key,this.val,this.left,this.right,null)},cljs.core.BlackNode.prototype.blacken=function(){return this},cljs.core.BlackNode.prototype.add_left=function(r){return r.balance_left(this)},cljs.core.BlackNode.prototype.replace=function(r,l,e,c){return new cljs.core.BlackNode(r,l,e,c,null)},cljs.core.BlackNode.prototype.balance_left=function(r){return new cljs.core.BlackNode(r.key,r.val,this,r.right,null)},cljs.core.BlackNode.prototype.balance_right=function(r){return new cljs.core.BlackNode(r.key,r.val,r.left,this,null)},cljs.core.BlackNode.prototype.remove_left=function(r){return cljs.core.balance_left_del(this.key,this.val,r,this.right)},cljs.core.BlackNode.prototype.kv_reduce=function(r,l){return cljs.core.tree_map_kv_reduce(this,r,l)},cljs.core.BlackNode.prototype.remove_right=function(r){return cljs.core.balance_right_del(this.key,this.val,this.left,r)},cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.BlackNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,e)},cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){return 0===l?this.key:1===l?this.val:null},cljs.core.BlackNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0===l?this.key:1===l?this.val:e},cljs.core.BlackNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(r,l,e){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null).cljs$core$IVector$_assoc_n$arity$3(null,l,e)},cljs.core.BlackNode.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return null},cljs.core.BlackNode.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2},cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(r){return this.key},cljs.core.BlackNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(r){return this.val},cljs.core.BlackNode.prototype.cljs$core$IStack$_peek$arity$1=function(r){return this.val},cljs.core.BlackNode.prototype.cljs$core$IStack$_pop$arity$1=function(r){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key],null)},cljs.core.BlackNode.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.BlackNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.BlackNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.PersistentVector.EMPTY},cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(this,l)},cljs.core.BlackNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(this,l,e)},cljs.core.BlackNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null),l,e)},cljs.core.BlackNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY,this.val),this.key)},cljs.core.BlackNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return cljs.core.with_meta(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null),l)},cljs.core.BlackNode.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val,l],null)},cljs.core.BlackNode.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.BlackNode.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.BlackNode.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.BlackNode.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.BlackNode.cljs$lang$type=!0,cljs.core.BlackNode.cljs$lang$ctorStr="cljs.core/BlackNode",cljs.core.BlackNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/BlackNode")},cljs.core.__GT_BlackNode=function(r,l,e,c,t){return new cljs.core.BlackNode(r,l,e,c,t)},cljs.core.BlackNode.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.RedNode=function(r,l,e,c,t){this.key=r,this.val=l,this.left=e,this.right=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32402207,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.RedNode.prototype.add_right=function(r){return new cljs.core.RedNode(this.key,this.val,this.left,r,null)},cljs.core.RedNode.prototype.redden=function(){throw Error("red-black tree invariant violation")},cljs.core.RedNode.prototype.blacken=function(){return new cljs.core.BlackNode(this.key,this.val,this.left,this.right,null)},cljs.core.RedNode.prototype.add_left=function(r){return new cljs.core.RedNode(this.key,this.val,r,this.right,null)},cljs.core.RedNode.prototype.replace=function(r,l,e,c){return new cljs.core.RedNode(r,l,e,c,null)},cljs.core.RedNode.prototype.balance_left=function(r){return this.left instanceof cljs.core.RedNode?new cljs.core.RedNode(this.key,this.val,this.left.blacken(),new cljs.core.BlackNode(r.key,r.val,this.right,r.right,null),null):this.right instanceof cljs.core.RedNode?new cljs.core.RedNode(this.right.key,this.right.val,new cljs.core.BlackNode(this.key,this.val,this.left,this.right.left,null),new cljs.core.BlackNode(r.key,r.val,this.right.right,r.right,null),null):new cljs.core.BlackNode(r.key,r.val,this,r.right,null)},cljs.core.RedNode.prototype.balance_right=function(r){return this.right instanceof cljs.core.RedNode?new cljs.core.RedNode(this.key,this.val,new cljs.core.BlackNode(r.key,r.val,r.left,this.left,null),this.right.blacken(),null):this.left instanceof cljs.core.RedNode?new cljs.core.RedNode(this.left.key,this.left.val,new cljs.core.BlackNode(r.key,r.val,r.left,this.left.left,null),new cljs.core.BlackNode(this.key,this.val,this.left.right,this.right,null),null):new cljs.core.BlackNode(r.key,r.val,r.left,this,null)},cljs.core.RedNode.prototype.remove_left=function(r){return new cljs.core.RedNode(this.key,this.val,r,this.right,null)},cljs.core.RedNode.prototype.kv_reduce=function(r,l){return cljs.core.tree_map_kv_reduce(this,r,l)},cljs.core.RedNode.prototype.remove_right=function(r){return new cljs.core.RedNode(this.key,this.val,this.left,r,null)},cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.RedNode.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core._nth.cljs$core$IFn$_invoke$arity$3(this,l,e)},cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){return 0===l?this.key:1===l?this.val:null},cljs.core.RedNode.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return 0===l?this.key:1===l?this.val:e},cljs.core.RedNode.prototype.cljs$core$IVector$_assoc_n$arity$3=function(r,l,e){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null).cljs$core$IVector$_assoc_n$arity$3(null,l,e)},cljs.core.RedNode.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return null},cljs.core.RedNode.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2},cljs.core.RedNode.prototype.cljs$core$IMapEntry$_key$arity$1=function(r){return this.key},
cljs.core.RedNode.prototype.cljs$core$IMapEntry$_val$arity$1=function(r){return this.val},cljs.core.RedNode.prototype.cljs$core$IStack$_peek$arity$1=function(r){return this.val},cljs.core.RedNode.prototype.cljs$core$IStack$_pop$arity$1=function(r){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key],null)},cljs.core.RedNode.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.RedNode.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.RedNode.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.PersistentVector.EMPTY},cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(this,l)},cljs.core.RedNode.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$3(this,l,e)},cljs.core.RedNode.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null),l,e)},cljs.core.RedNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core._conj(cljs.core._conj(cljs.core.List.EMPTY,this.val),this.key)},cljs.core.RedNode.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return cljs.core.with_meta(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val],null),l)},cljs.core.RedNode.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[this.key,this.val,l],null)},cljs.core.RedNode.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.RedNode.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.RedNode.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.RedNode.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.RedNode.cljs$lang$type=!0,cljs.core.RedNode.cljs$lang$ctorStr="cljs.core/RedNode",cljs.core.RedNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/RedNode")},cljs.core.__GT_RedNode=function(r,l,e,c,t){return new cljs.core.RedNode(r,l,e,c,t)},cljs.core.RedNode.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.tree_map_add=function r(l,e,c,t,n){if(null==e)return new cljs.core.RedNode(c,t,null,null,null);var s;return s=e.key,0===(s=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,s):l.call(null,c,s))?(n[0]=e,null):0>s?(l=r(l,e.left,c,t,n),null!=l?e.add_left(l):null):(l=r(l,e.right,c,t,n),null!=l?e.add_right(l):null)},cljs.core.tree_map_append=function r(l,e){if(null==l)return e;if(null==e)return l;if(l instanceof cljs.core.RedNode){if(e instanceof cljs.core.RedNode){var c=r(l.right,e.left);return c instanceof cljs.core.RedNode?new cljs.core.RedNode(c.key,c.val,new cljs.core.RedNode(l.key,l.val,l.left,c.left,null),new cljs.core.RedNode(e.key,e.val,c.right,e.right,null),null):new cljs.core.RedNode(l.key,l.val,l.left,new cljs.core.RedNode(e.key,e.val,c,e.right,null),null)}return new cljs.core.RedNode(l.key,l.val,l.left,r(l.right,e),null)}return e instanceof cljs.core.RedNode?new cljs.core.RedNode(e.key,e.val,r(l,e.left),e.right,null):(c=r(l.right,e.left),c instanceof cljs.core.RedNode?new cljs.core.RedNode(c.key,c.val,new cljs.core.BlackNode(l.key,l.val,l.left,c.left,null),new cljs.core.BlackNode(e.key,e.val,c.right,e.right,null),null):cljs.core.balance_left_del(l.key,l.val,l.left,new cljs.core.BlackNode(e.key,e.val,c,e.right,null)))},cljs.core.tree_map_remove=function r(l,e,c,t){if(null!=e){var n;return n=e.key,0===(n=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n))?(t[0]=e,cljs.core.tree_map_append(e.left,e.right)):0>n?(l=r(l,e.left,c,t),null!=l||null!=t[0]?e.left instanceof cljs.core.BlackNode?cljs.core.balance_left_del(e.key,e.val,l,e.right):new cljs.core.RedNode(e.key,e.val,l,e.right,null):null):(l=r(l,e.right,c,t),null!=l||null!=t[0]?e.right instanceof cljs.core.BlackNode?cljs.core.balance_right_del(e.key,e.val,e.left,l):new cljs.core.RedNode(e.key,e.val,e.left,l,null):null)}return null},cljs.core.tree_map_replace=function r(l,e,c,t){var n,s=e.key;return n=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,s):l.call(null,c,s),0===n?e.replace(s,t,e.left,e.right):0>n?e.replace(s,e.val,r(l,e.left,c,t),e.right):e.replace(s,e.val,e.left,r(l,e.right,c,t))},cljs.core.PersistentTreeMap=function(r,l,e,c,t){this.comp=r,this.tree=l,this.cnt=e,this.meta=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=418776847,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.PersistentTreeMap.prototype.forEach=function(r){for(var l=cljs.core.seq(this),e=null,c=0,t=0;;)if(t<c){var n=e.cljs$core$IIndexed$_nth$arity$2(null,t),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null),n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,1,null);r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s),t+=1}else{if(!(l=cljs.core.seq(l)))return null;cljs.core.chunked_seq_QMARK_(l)?(e=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),s=e,c=cljs.core.count(e),e=s):(e=cljs.core.first(l),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,s):r.call(null,e,s),l=cljs.core.next(l),e=null,c=0),t=0}},cljs.core.PersistentTreeMap.prototype.get=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentTreeMap.prototype.entries=function(){return cljs.core.es6_entries_iterator(cljs.core.seq(this))},cljs.core.PersistentTreeMap.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentTreeMap.prototype.keys=function(){return cljs.core.es6_iterator(cljs.core.keys.cljs$core$IFn$_invoke$arity$1?cljs.core.keys.cljs$core$IFn$_invoke$arity$1(this):cljs.core.keys.call(null,this))},cljs.core.PersistentTreeMap.prototype.values=function(){return cljs.core.es6_iterator(cljs.core.vals.cljs$core$IFn$_invoke$arity$1?cljs.core.vals.cljs$core$IFn$_invoke$arity$1(this):cljs.core.vals.call(null,this))},cljs.core.PersistentTreeMap.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentTreeMap.prototype.entry_at=function(r){for(var l=this.tree;;){if(null==l)return null;var e;e=r;var c=l.key;if(0===(e=this.comp.cljs$core$IFn$_invoke$arity$2?this.comp.cljs$core$IFn$_invoke$arity$2(e,c):this.comp.call(null,e,c)))return l;l=0>e?l.left:l.right}},cljs.core.PersistentTreeMap.prototype.has=function(r){return cljs.core.contains_QMARK_(this,r)};cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentTreeMap.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return r=this.entry_at(l),null!=r?r.val:e},cljs.core.PersistentTreeMap.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3=function(r,l,e){return null!=this.tree?cljs.core.tree_map_kv_reduce(this.tree,l,e):e},cljs.core.PersistentTreeMap.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentTreeMap.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentTreeMap(this.comp,this.tree,this.cnt,this.meta,this.__hash)},cljs.core.PersistentTreeMap.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.cnt},cljs.core.PersistentTreeMap.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return 0<this.cnt?cljs.core.create_tree_map_seq(this.tree,!1,this.cnt):null},cljs.core.PersistentTreeMap.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.PersistentTreeMap.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_map(this,l)},cljs.core.PersistentTreeMap.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return new cljs.core.PersistentTreeMap(this.comp,null,0,this.meta,0)},cljs.core.PersistentTreeMap.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){var e=[null],c=cljs.core.tree_map_remove(this.comp,this.tree,l,e);return null==c?null==cljs.core.nth.cljs$core$IFn$_invoke$arity$2(e,0)?this:new cljs.core.PersistentTreeMap(this.comp,null,0,this.meta,null):new cljs.core.PersistentTreeMap(this.comp,c.blacken(),this.cnt-1,this.meta,null)},cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){r=[null];var c=cljs.core.tree_map_add(this.comp,this.tree,l,e,r);return null==c?(r=cljs.core.nth.cljs$core$IFn$_invoke$arity$2(r,0),cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(e,r.val)?this:new cljs.core.PersistentTreeMap(this.comp,cljs.core.tree_map_replace(this.comp,this.tree,l,e),this.cnt,this.meta,null)):new cljs.core.PersistentTreeMap(this.comp,c.blacken(),this.cnt+1,this.meta,null)},cljs.core.PersistentTreeMap.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){return null!=this.entry_at(l)},cljs.core.PersistentTreeMap.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return 0<this.cnt?cljs.core.create_tree_map_seq(this.tree,!0,this.cnt):null},cljs.core.PersistentTreeMap.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentTreeMap(this.comp,this.tree,this.cnt,l,this.__hash)},cljs.core.PersistentTreeMap.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l))return cljs.core._assoc(this,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(l,1));for(var e=this,c=cljs.core.seq(l);;){if(null==c)return e;var t=cljs.core.first(c);if(!cljs.core.vector_QMARK_(t))throw Error("conj on a map takes map entries or seqables of map entries");e=cljs.core._assoc(e,cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,0),cljs.core._nth.cljs$core$IFn$_invoke$arity$2(t,1)),c=cljs.core.next(c)}},cljs.core.PersistentTreeMap.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.PersistentTreeMap.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.PersistentTreeMap.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(r,l){return 0<this.cnt?cljs.core.create_tree_map_seq(this.tree,l,this.cnt):null},cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(r,l,e){if(!(0<this.cnt))return null;r=null;for(var c=this.tree;;){if(null==c)return null==r?null:new cljs.core.PersistentTreeMapSeq(null,r,e,-1,null);var t;t=l;var n=c.key;if(0===(t=this.comp.cljs$core$IFn$_invoke$arity$2?this.comp.cljs$core$IFn$_invoke$arity$2(t,n):this.comp.call(null,t,n)))return new cljs.core.PersistentTreeMapSeq(null,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,c),e,-1,null);cljs.core.truth_(e)?0>t?(r=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,c),c=c.left):c=c.right:0<t?(r=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,c),c=c.right):c=c.left}},cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_entry_key$arity$2=function(r,l){return cljs.core.key.cljs$core$IFn$_invoke$arity$1?cljs.core.key.cljs$core$IFn$_invoke$arity$1(l):cljs.core.key.call(null,l)},cljs.core.PersistentTreeMap.prototype.cljs$core$ISorted$_comparator$arity$1=function(r){return this.comp},cljs.core.PersistentTreeMap.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"comp","comp",-1462482139,null),new cljs.core.Symbol(null,"tree","tree",1444219499,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentTreeMap.cljs$lang$type=!0,cljs.core.PersistentTreeMap.cljs$lang$ctorStr="cljs.core/PersistentTreeMap",cljs.core.PersistentTreeMap.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentTreeMap")},cljs.core.__GT_PersistentTreeMap=function(r,l,e,c,t){return new cljs.core.PersistentTreeMap(r,l,e,c,t)},cljs.core.PersistentTreeMap.EMPTY=new cljs.core.PersistentTreeMap(cljs.core.compare,null,0,null,cljs.core.empty_unordered_hash),cljs.core.PersistentTreeMap.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.hash_map=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic=function(r){r=cljs.core.seq(r);for(var l=cljs.core.transient$(cljs.core.PersistentHashMap.EMPTY);;){if(!r)return cljs.core.persistent_BANG_(l);var e=cljs.core.nnext(r),l=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(l,cljs.core.first(r),cljs.core.second(r));r=e}},cljs.core.hash_map.cljs$lang$maxFixedArity=0,cljs.core.hash_map.cljs$lang$applyTo=function(r){return cljs.core.hash_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.array_map=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic=function(r){return r=r instanceof cljs.core.IndexedSeq&&0===r.i?r.arr:cljs.core.into_array.cljs$core$IFn$_invoke$arity$1(r),cljs.core.PersistentArrayMap.fromArray(r,!0,!1)},cljs.core.array_map.cljs$lang$maxFixedArity=0,cljs.core.array_map.cljs$lang$applyTo=function(r){return cljs.core.array_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.obj_map=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic=function(r){var l,e=[];for(l={},r=cljs.core.seq(r);;){if(!r)return cljs.core.ObjMap.fromObject(e,l);e.push(cljs.core.first(r)),l[cljs.core.first(r)]=cljs.core.second(r),r=cljs.core.nnext(r)}},cljs.core.obj_map.cljs$lang$maxFixedArity=0,cljs.core.obj_map.cljs$lang$applyTo=function(r){return cljs.core.obj_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.sorted_map=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic=function(r){r=cljs.core.seq(r);for(var l=cljs.core.PersistentTreeMap.EMPTY;;){if(!r)return l;var e=cljs.core.nnext(r),l=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,cljs.core.first(r),cljs.core.second(r));r=e}},cljs.core.sorted_map.cljs$lang$maxFixedArity=0,cljs.core.sorted_map.cljs$lang$applyTo=function(r){return cljs.core.sorted_map.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.sorted_map_by=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic=function(r,l){for(var e=cljs.core.seq(l),c=new cljs.core.PersistentTreeMap(cljs.core.fn__GT_comparator(r),null,0,null,0);;){if(!e)return c;var t=cljs.core.nnext(e),c=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(c,cljs.core.first(e),cljs.core.second(e)),e=t}},cljs.core.sorted_map_by.cljs$lang$maxFixedArity=1,cljs.core.sorted_map_by.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.sorted_map_by.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.KeySeq=function(r,l){this.mseq=r,this._meta=l,this.cljs$lang$protocol_mask$partition0$=32374988,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.KeySeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.KeySeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.KeySeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this._meta},cljs.core.KeySeq.prototype.cljs$core$INext$_next$arity$1=function(r){return r=((r=this.mseq)?128&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$INext$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.INext,r)):cljs.core.native_satisfies_QMARK_(cljs.core.INext,r))?this.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(this.mseq),null==r?null:new cljs.core.KeySeq(r,this._meta)},cljs.core.KeySeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.KeySeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.KeySeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this._meta)},cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.KeySeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.KeySeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.mseq.cljs$core$ISeq$_first$arity$1(null).cljs$core$IMapEntry$_key$arity$1(null)},cljs.core.KeySeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return r=((r=this.mseq)?128&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$INext$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.INext,r)):cljs.core.native_satisfies_QMARK_(cljs.core.INext,r))?this.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(this.mseq),null!=r?new cljs.core.KeySeq(r,this._meta):cljs.core.List.EMPTY},cljs.core.KeySeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.KeySeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.KeySeq(this.mseq,l)},cljs.core.KeySeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.KeySeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"mseq","mseq",1602647196,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)},cljs.core.KeySeq.cljs$lang$type=!0,cljs.core.KeySeq.cljs$lang$ctorStr="cljs.core/KeySeq",cljs.core.KeySeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/KeySeq")},cljs.core.__GT_KeySeq=function(r,l){return new cljs.core.KeySeq(r,l)},cljs.core.KeySeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.keys=function(r){return(r=cljs.core.seq(r))?new cljs.core.KeySeq(r,null):null},cljs.core.key=function(r){return cljs.core._key(r)},cljs.core.ValSeq=function(r,l){this.mseq=r,this._meta=l,this.cljs$lang$protocol_mask$partition0$=32374988,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.ValSeq.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ValSeq.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.ValSeq.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this._meta},cljs.core.ValSeq.prototype.cljs$core$INext$_next$arity$1=function(r){return r=((r=this.mseq)?128&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$INext$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.INext,r)):cljs.core.native_satisfies_QMARK_(cljs.core.INext,r))?this.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(this.mseq),null==r?null:new cljs.core.ValSeq(r,this._meta)},cljs.core.ValSeq.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash_ordered_coll(this)},cljs.core.ValSeq.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.ValSeq.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this._meta)},cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$2(l,this)},cljs.core.ValSeq.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.seq_reduce.cljs$core$IFn$_invoke$arity$3(l,e,this)},cljs.core.ValSeq.prototype.cljs$core$ISeq$_first$arity$1=function(r){return this.mseq.cljs$core$ISeq$_first$arity$1(null).cljs$core$IMapEntry$_val$arity$1(null)},cljs.core.ValSeq.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return r=((r=this.mseq)?128&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$INext$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.INext,r)):cljs.core.native_satisfies_QMARK_(cljs.core.INext,r))?this.mseq.cljs$core$INext$_next$arity$1(null):cljs.core.next(this.mseq),null!=r?new cljs.core.ValSeq(r,this._meta):cljs.core.List.EMPTY},cljs.core.ValSeq.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return this},cljs.core.ValSeq.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.ValSeq(this.mseq,l)},cljs.core.ValSeq.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.ValSeq.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"mseq","mseq",1602647196,null),new cljs.core.Symbol(null,"_meta","_meta",-1716892533,null)],null)},cljs.core.ValSeq.cljs$lang$type=!0,cljs.core.ValSeq.cljs$lang$ctorStr="cljs.core/ValSeq",cljs.core.ValSeq.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ValSeq")},cljs.core.__GT_ValSeq=function(r,l){return new cljs.core.ValSeq(r,l)},cljs.core.ValSeq.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.vals=function(r){return(r=cljs.core.seq(r))?new cljs.core.ValSeq(r,null):null},cljs.core.val=function(r){return cljs.core._val(r)},cljs.core.merge=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.truth_(cljs.core.some(cljs.core.identity,r))?cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(function(r,l){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.truth_(r)?r:cljs.core.PersistentArrayMap.EMPTY,l)},r):null},cljs.core.merge.cljs$lang$maxFixedArity=0,cljs.core.merge.cljs$lang$applyTo=function(r){return cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.merge_with=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic=function(r,l){if(cljs.core.truth_(cljs.core.some(cljs.core.identity,l))){var e=function(r){return function(l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(r,cljs.core.truth_(l)?l:cljs.core.PersistentArrayMap.EMPTY,cljs.core.seq(e))}}(function(l,e){var c=cljs.core.first(e),t=cljs.core.second(e);return cljs.core.contains_QMARK_(l,c)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,c,function(){var e=cljs.core.get.cljs$core$IFn$_invoke$arity$2(l,c);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,t):r.call(null,e,t)}()):cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,c,t)});return cljs.core.reduce.cljs$core$IFn$_invoke$arity$2(e,l)}return null},cljs.core.merge_with.cljs$lang$maxFixedArity=1,cljs.core.merge_with.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.merge_with.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.select_keys=function(r,l){for(var e=cljs.core.PersistentArrayMap.EMPTY,c=cljs.core.seq(l);;){if(!c)return cljs.core.with_meta(e,cljs.core.meta(r));var t=cljs.core.first(c),n=cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,t,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",-1572889185)),e=cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(n,new cljs.core.Keyword("cljs.core","not-found","cljs.core/not-found",-1572889185))?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(e,t,n):e,c=cljs.core.next(c)}},cljs.core.PersistentHashSet=function(r,l,e){this.meta=r,this.hash_map=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=15077647,this.cljs$lang$protocol_mask$partition1$=8196},cljs.core.PersistentHashSet.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentHashSet.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentHashSet.prototype.keys=function(){return cljs.core.es6_iterator(cljs.core.seq(this))},cljs.core.PersistentHashSet.prototype.entries=function(){return cljs.core.es6_set_entries_iterator(cljs.core.seq(this))},cljs.core.PersistentHashSet.prototype.values=function(){return cljs.core.es6_iterator(cljs.core.seq(this))},cljs.core.PersistentHashSet.prototype.has=function(r){return cljs.core.contains_QMARK_(this,r)},cljs.core.PersistentHashSet.prototype.forEach=function(r){for(var l=cljs.core.seq(this),e=null,c=0,t=0;;)if(t<c){var n=e.cljs$core$IIndexed$_nth$arity$2(null,t),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null),n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,1,null);r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s),t+=1}else{if(!(l=cljs.core.seq(l)))return null;cljs.core.chunked_seq_QMARK_(l)?(e=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),s=e,c=cljs.core.count(e),e=s):(e=cljs.core.first(l),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,s):r.call(null,e,s),l=cljs.core.next(l),e=null,c=0),t=0}},cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core._contains_key_QMARK_(this.hash_map,l)?l:e},cljs.core.PersistentHashSet.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentHashSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentHashSet(this.meta,this.hash_map,this.__hash)},cljs.core.PersistentHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core._count(this.hash_map)},cljs.core.PersistentHashSet.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.PersistentHashSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.set_QMARK_(l)&&cljs.core.count(this)===cljs.core.count(l)&&cljs.core.every_QMARK_(function(r){return function(l){return cljs.core.contains_QMARK_(r,l)}}(this),l)},cljs.core.PersistentHashSet.prototype.cljs$core$IEditableCollection$_as_transient$arity$1=function(r){return new cljs.core.TransientHashSet(cljs.core._as_transient(this.hash_map))},cljs.core.PersistentHashSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.PersistentHashSet.EMPTY,this.meta)},cljs.core.PersistentHashSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(r,l){return new cljs.core.PersistentHashSet(this.meta,cljs.core._dissoc(this.hash_map,l),null)},cljs.core.PersistentHashSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.keys(this.hash_map)},cljs.core.PersistentHashSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentHashSet(l,this.hash_map,this.__hash)},cljs.core.PersistentHashSet.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.PersistentHashSet(this.meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(this.hash_map,l,null),null)},cljs.core.PersistentHashSet.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.PersistentHashSet.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.PersistentHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentHashSet.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"hash-map","hash-map",-439030950,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentHashSet.cljs$lang$type=!0,cljs.core.PersistentHashSet.cljs$lang$ctorStr="cljs.core/PersistentHashSet",cljs.core.PersistentHashSet.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentHashSet")},cljs.core.__GT_PersistentHashSet=function(r,l,e){return new cljs.core.PersistentHashSet(r,l,e)},cljs.core.PersistentHashSet.EMPTY=new cljs.core.PersistentHashSet(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.empty_unordered_hash),cljs.core.PersistentHashSet.fromArray=function(r,l){var e=r.length;if(e<=cljs.core.PersistentArrayMap.HASHMAP_THRESHOLD){l||cljs.core.aclone(r);for(var c=0,t=cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY);;){
if(!(c<e))return new cljs.core.PersistentHashSet(null,cljs.core._persistent_BANG_(t),null);var n=c+1,t=cljs.core._assoc_BANG_(t,r[c],null),c=n}}else for(c=0,t=cljs.core.transient$(cljs.core.PersistentHashSet.EMPTY);;){if(!(c<e))return cljs.core._persistent_BANG_(t);n=c+1,t=cljs.core._conj_BANG_(t,r[c]),c=n}},cljs.core.PersistentHashSet.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.TransientHashSet=function(r){this.transient_map=r,this.cljs$lang$protocol_mask$partition1$=136,this.cljs$lang$protocol_mask$partition0$=259},cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_conj_BANG_$arity$2=function(r,l){return this.transient_map=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(this.transient_map,l,null),this},cljs.core.TransientHashSet.prototype.cljs$core$ITransientCollection$_persistent_BANG_$arity$1=function(r){return new cljs.core.PersistentHashSet(null,cljs.core.persistent_BANG_(this.transient_map),null)},cljs.core.TransientHashSet.prototype.cljs$core$ITransientSet$_disjoin_BANG_$arity$2=function(r,l){return this.transient_map=cljs.core.dissoc_BANG_.cljs$core$IFn$_invoke$arity$2(this.transient_map,l),this},cljs.core.TransientHashSet.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count(this.transient_map)},cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.TransientHashSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this.transient_map,l,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel?e:l},cljs.core.TransientHashSet.prototype.call=function(){var r=null,l=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this.transient_map,l,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel?null:l},e=function(r,l,e){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this.transient_map,l,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel?e:l},r=function(r,c,t){switch(arguments.length){case 2:return l.call(this,r,c);case 3:return e.call(this,r,c,t)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=l,r.cljs$core$IFn$_invoke$arity$3=e,r}(),cljs.core.TransientHashSet.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this.transient_map,r,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel?null:r},cljs.core.TransientHashSet.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this.transient_map,r,cljs.core.lookup_sentinel)===cljs.core.lookup_sentinel?l:r},cljs.core.TransientHashSet.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"transient-map","transient-map",351764893,null)],null)},cljs.core.TransientHashSet.cljs$lang$type=!0,cljs.core.TransientHashSet.cljs$lang$ctorStr="cljs.core/TransientHashSet",cljs.core.TransientHashSet.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/TransientHashSet")},cljs.core.__GT_TransientHashSet=function(r){return new cljs.core.TransientHashSet(r)},cljs.core.PersistentTreeSet=function(r,l,e){this.meta=r,this.tree_map=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=417730831,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.PersistentTreeSet.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.PersistentTreeSet.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.PersistentTreeSet.prototype.keys=function(){return cljs.core.es6_iterator(cljs.core.seq(this))},cljs.core.PersistentTreeSet.prototype.entries=function(){return cljs.core.es6_set_entries_iterator(cljs.core.seq(this))},cljs.core.PersistentTreeSet.prototype.values=function(){return cljs.core.es6_iterator(cljs.core.seq(this))},cljs.core.PersistentTreeSet.prototype.has=function(r){return cljs.core.contains_QMARK_(this,r)},cljs.core.PersistentTreeSet.prototype.forEach=function(r){for(var l=cljs.core.seq(this),e=null,c=0,t=0;;)if(t<c){var n=e.cljs$core$IIndexed$_nth$arity$2(null,t),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null),n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,1,null);r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(n,s):r.call(null,n,s),t+=1}else{if(!(l=cljs.core.seq(l)))return null;cljs.core.chunked_seq_QMARK_(l)?(e=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),s=e,c=cljs.core.count(e),e=s):(e=cljs.core.first(l),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,0,null),e=n=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(e,1,null),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,s):r.call(null,e,s),l=cljs.core.next(l),e=null,c=0),t=0}},cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.PersistentTreeSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return r=this.tree_map.entry_at(l),null!=r?r.key:e},cljs.core.PersistentTreeSet.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.PersistentTreeSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.PersistentTreeSet(this.meta,this.tree_map,this.__hash)},cljs.core.PersistentTreeSet.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count(this.tree_map)},cljs.core.PersistentTreeSet.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return 0<cljs.core.count(this.tree_map)?cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core.rseq(this.tree_map)):null},cljs.core.PersistentTreeSet.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_unordered_coll(this)},cljs.core.PersistentTreeSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.set_QMARK_(l)&&cljs.core.count(this)===cljs.core.count(l)&&cljs.core.every_QMARK_(function(r){return function(l){return cljs.core.contains_QMARK_(r,l)}}(this),l)},cljs.core.PersistentTreeSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return new cljs.core.PersistentTreeSet(this.meta,cljs.core._empty(this.tree_map),0)},cljs.core.PersistentTreeSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(r,l){return new cljs.core.PersistentTreeSet(this.meta,cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(this.tree_map,l),null)},cljs.core.PersistentTreeSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.keys(this.tree_map)},cljs.core.PersistentTreeSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.PersistentTreeSet(l,this.tree_map,this.__hash)},cljs.core.PersistentTreeSet.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return new cljs.core.PersistentTreeSet(this.meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(this.tree_map,l,null),null)},cljs.core.PersistentTreeSet.prototype.call=function(){var r=null,r=function(r,l,e){switch(arguments.length){case 2:return this.cljs$core$ILookup$_lookup$arity$2(null,l);case 3:return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$2(null,l)},r.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return this.cljs$core$ILookup$_lookup$arity$3(null,l,e)},r}(),cljs.core.PersistentTreeSet.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return this.cljs$core$ILookup$_lookup$arity$2(null,r)},cljs.core.PersistentTreeSet.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return this.cljs$core$ILookup$_lookup$arity$3(null,r,l)},cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq$arity$2=function(r,l){return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core._sorted_seq(this.tree_map,l))},cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_sorted_seq_from$arity$3=function(r,l,e){return cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,cljs.core._sorted_seq_from(this.tree_map,l,e))},cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_entry_key$arity$2=function(r,l){return l},cljs.core.PersistentTreeSet.prototype.cljs$core$ISorted$_comparator$arity$1=function(r){return cljs.core._comparator(this.tree_map)},cljs.core.PersistentTreeSet.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"tree-map","tree-map",1373073049,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.PersistentTreeSet.cljs$lang$type=!0,cljs.core.PersistentTreeSet.cljs$lang$ctorStr="cljs.core/PersistentTreeSet",cljs.core.PersistentTreeSet.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/PersistentTreeSet")},cljs.core.__GT_PersistentTreeSet=function(r,l,e){return new cljs.core.PersistentTreeSet(r,l,e)},cljs.core.PersistentTreeSet.EMPTY=new cljs.core.PersistentTreeSet(null,cljs.core.PersistentTreeMap.EMPTY,cljs.core.empty_unordered_hash),cljs.core.PersistentTreeSet.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.set_from_indexed_seq=function(r){r=r.arr;r:for(var l=0,e=cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);;){if(!(l<r.length))break r;var c=l+1,e=e.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null,r[l]),l=c}return e.cljs$core$ITransientCollection$_persistent_BANG_$arity$1(null)},cljs.core.set=function(r){if(null==(r=cljs.core.seq(r)))return cljs.core.PersistentHashSet.EMPTY;if(r instanceof cljs.core.IndexedSeq&&0===r.i)return cljs.core.set_from_indexed_seq(r);for(var l=cljs.core._as_transient(cljs.core.PersistentHashSet.EMPTY);;){if(null==r)return cljs.core.persistent_BANG_(l);var e=cljs.core.next(r),l=l.cljs$core$ITransientCollection$_conj_BANG_$arity$2(null,r.cljs$core$ISeq$_first$arity$1(null));r=e}},cljs.core.hash_set=function(){switch(arguments.length){case 0:return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0();default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0);return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(r)}},cljs.core.hash_set.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.PersistentHashSet.EMPTY},cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.set(r)},cljs.core.hash_set.cljs$lang$applyTo=function(r){return cljs.core.hash_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.hash_set.cljs$lang$maxFixedArity=0,cljs.core.sorted_set=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,cljs.core.PersistentTreeSet.EMPTY,r)};cljs.core.sorted_set.cljs$lang$maxFixedArity=0,cljs.core.sorted_set.cljs$lang$applyTo=function(r){return cljs.core.sorted_set.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.sorted_set_by=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic=function(r,l){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,new cljs.core.PersistentTreeSet(null,cljs.core.sorted_map_by(r),0),l)},cljs.core.sorted_set_by.cljs$lang$maxFixedArity=1,cljs.core.sorted_set_by.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.sorted_set_by.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.replace=function(){switch(arguments.length){case 1:return cljs.core.replace.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.replace.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.replace.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.map.cljs$core$IFn$_invoke$arity$1(function(l){var e=cljs.core.find(r,l);return cljs.core.truth_(e)?cljs.core.val(e):l})},cljs.core.replace.cljs$core$IFn$_invoke$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l)){var e=cljs.core.count(l);return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l){return function(l,e){var c=cljs.core.find(r,cljs.core.nth.cljs$core$IFn$_invoke$arity$2(l,e));return cljs.core.truth_(c)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(l,e,cljs.core.second(c)):l}}(),l,cljs.core.take.cljs$core$IFn$_invoke$arity$2(e,cljs.core.iterate(cljs.core.inc,0)))}return cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(l){var e=cljs.core.find(r,l);return cljs.core.truth_(e)?cljs.core.second(e):l},l)},cljs.core.replace.cljs$lang$maxFixedArity=2,cljs.core.distinct=function(){switch(arguments.length){case 0:return cljs.core.distinct.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.distinct.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.distinct.cljs$core$IFn$_invoke$arity$0=function(){return function(r){return function(l){return function(){var e=null,c=function(){return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)},t=function(l){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)},n=function(e,c){return cljs.core.contains_QMARK_(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l),c)?e:(cljs.core._vreset_BANG_(l,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core._deref(l),c)),r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,c):r.call(null,e,c))},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}(cljs.core.volatile_BANG_(cljs.core.PersistentHashSet.EMPTY))}},cljs.core.distinct.cljs$core$IFn$_invoke$arity$1=function(r){return function r(l,e){return new cljs.core.LazySeq(null,function(){return function(l,e){for(;;){var c=l,t=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(c,0,null);if(!(c=cljs.core.seq(c)))return null;if(!cljs.core.contains_QMARK_(e,t))return cljs.core.cons(t,r(cljs.core.rest(c),cljs.core.conj.cljs$core$IFn$_invoke$arity$2(e,t)));t=cljs.core.rest(c),c=e,l=t,e=c}}.call(null,l,e)},null,null)}(r,cljs.core.PersistentHashSet.EMPTY)},cljs.core.distinct.cljs$lang$maxFixedArity=1,cljs.core.butlast=function(r){for(var l=cljs.core.PersistentVector.EMPTY;;){if(!cljs.core.next(r))return cljs.core.seq(l);l=cljs.core.conj.cljs$core$IFn$_invoke$arity$2(l,cljs.core.first(r)),r=cljs.core.next(r)}},cljs.core.name=function(r){if(r&&(4096&r.cljs$lang$protocol_mask$partition1$||r.cljs$core$INamed$))return r.cljs$core$INamed$_name$arity$1(null);if("string"==typeof r)return r;throw Error([cljs.core.str("Doesn't support name: "),cljs.core.str(r)].join(""))},cljs.core.zipmap=function(r,l){for(var e=cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY),c=cljs.core.seq(r),t=cljs.core.seq(l);;){if(!c||!t)return cljs.core.persistent_BANG_(e);e=cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(e,cljs.core.first(c),cljs.core.first(t)),c=cljs.core.next(c),t=cljs.core.next(t)}},cljs.core.max_key=function(){switch(arguments.length){case 2:return cljs.core.max_key.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.max_key.cljs$core$IFn$_invoke$arity$2=function(r,l){return l},cljs.core.max_key.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l))>(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e))?l:e},cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){return cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(r,l,e)},cljs.core.max_key.cljs$core$IFn$_invoke$arity$3(r,l,e),c)},cljs.core.max_key.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.max_key.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.max_key.cljs$lang$maxFixedArity=3,cljs.core.min_key=function(){switch(arguments.length){case 2:return cljs.core.min_key.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.min_key.cljs$core$IFn$_invoke$arity$2=function(r,l){return l},cljs.core.min_key.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l))<(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e))?l:e},cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){return cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(r,l,e)},cljs.core.min_key.cljs$core$IFn$_invoke$arity$3(r,l,e),c)},cljs.core.min_key.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.min_key.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.min_key.cljs$lang$maxFixedArity=3,cljs.core.ArrayList=function(r){this.arr=r},cljs.core.ArrayList.prototype.add=function(r){return this.arr.push(r)},cljs.core.ArrayList.prototype.size=function(){return this.arr.length},cljs.core.ArrayList.prototype.clear=function(){return this.arr=[]},cljs.core.ArrayList.prototype.isEmpty=function(){return 0===this.arr.length},cljs.core.ArrayList.prototype.toArray=function(){return this.arr},cljs.core.ArrayList.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.ArrayList.cljs$lang$type=!0,cljs.core.ArrayList.cljs$lang$ctorStr="cljs.core/ArrayList",cljs.core.ArrayList.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/ArrayList")},cljs.core.__GT_ArrayList=function(r){return new cljs.core.ArrayList(r)},cljs.core.array_list=function(){return new cljs.core.ArrayList([])},cljs.core.partition_all=function(){switch(arguments.length){case 1:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.partition_all.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){if(!cljs.core.truth_(e.isEmpty())){var c=cljs.core.vec(e.toArray());e.clear(),r=cljs.core.unreduced(l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(r,c):l.call(null,r,c))}return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){if(e.add(t),r===e.size()){var n=cljs.core.vec(e.toArray());return e.clear(),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,n):l.call(null,c,n)}return c},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.array_list())}},cljs.core.partition_all.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(r,r,l)},cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(e);return c?cljs.core.cons(cljs.core.take.cljs$core$IFn$_invoke$arity$2(r,c),cljs.core.partition_all.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(l,c))):null},null,null)},cljs.core.partition_all.cljs$lang$maxFixedArity=3,cljs.core.take_while=function(){switch(arguments.length){case 1:return cljs.core.take_while.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.take_while.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(){var e=null,c=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},t=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},n=function(e,c){return cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c))?l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c):cljs.core.reduced(e)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}},cljs.core.take_while.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);return e&&cljs.core.truth_(function(){var l=cljs.core.first(e);return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)}())?cljs.core.cons(cljs.core.first(e),cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(r,cljs.core.rest(e))):null},null,null)},cljs.core.take_while.cljs$lang$maxFixedArity=2,cljs.core.mk_bound_fn=function(r,l,e){return function(c){var t=cljs.core._comparator(r);return c=cljs.core._entry_key(r,c),t=t.cljs$core$IFn$_invoke$arity$2?t.cljs$core$IFn$_invoke$arity$2(c,e):t.call(null,c,e),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(t,0):l.call(null,t,0)}},cljs.core.subseq=function(){switch(arguments.length){case 3:return cljs.core.subseq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 5:return cljs.core.subseq.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.subseq.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.mk_bound_fn(r,l,e);return cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._GT_,cljs.core._GT__EQ_],!0).call(null,l))?(r=cljs.core._sorted_seq_from(r,e,!0),cljs.core.truth_(r)?(l=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,0,null),cljs.core.truth_(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l))?r:cljs.core.next(r)):null):cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(c,cljs.core._sorted_seq(r,!0))},cljs.core.subseq.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){var n=cljs.core._sorted_seq_from(r,e,!0);if(cljs.core.truth_(n)){var s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null);return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(r,c,t),cljs.core.truth_(cljs.core.mk_bound_fn(r,l,e).call(null,s))?n:cljs.core.next(n))}return null},cljs.core.subseq.cljs$lang$maxFixedArity=5,cljs.core.rsubseq=function(){switch(arguments.length){case 3:return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 5:return cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.mk_bound_fn(r,l,e);return cljs.core.truth_(cljs.core.PersistentHashSet.fromArray([cljs.core._LT_,cljs.core._LT__EQ_],!0).call(null,l))?(r=cljs.core._sorted_seq_from(r,e,!1),cljs.core.truth_(r)?(l=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(r,0,null),cljs.core.truth_(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l))?r:cljs.core.next(r)):null):cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(c,cljs.core._sorted_seq(r,!1))},cljs.core.rsubseq.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){var n=cljs.core._sorted_seq_from(r,t,!1);if(cljs.core.truth_(n)){var s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(n,0,null);return cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(cljs.core.mk_bound_fn(r,l,e),cljs.core.truth_(cljs.core.mk_bound_fn(r,c,t).call(null,s))?n:cljs.core.next(n))}return null},cljs.core.rsubseq.cljs$lang$maxFixedArity=5,cljs.core.RangeIterator=function(r,l,e){this.i=r,this.end=l,this.step=e},cljs.core.RangeIterator.prototype.hasNext=function(){return 0<this.step?this.i<this.end:this.i>this.end},cljs.core.RangeIterator.prototype.next=function(){var r=this.i;return this.i+=this.step,r},cljs.core.RangeIterator.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"i","i",253690212,null),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"step","step",-1365547645,null)],null)},cljs.core.RangeIterator.cljs$lang$type=!0,cljs.core.RangeIterator.cljs$lang$ctorStr="cljs.core/RangeIterator",cljs.core.RangeIterator.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/RangeIterator")},cljs.core.__GT_RangeIterator=function(r,l,e){return new cljs.core.RangeIterator(r,l,e)},cljs.core.Range=function(r,l,e,c,t){this.meta=r,this.start=l,this.end=e,this.step=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=32375006,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.Range.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.Range.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$2=function(r,l){if(l<cljs.core._count(this))return this.start+l*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds")},cljs.core.Range.prototype.cljs$core$IIndexed$_nth$arity$3=function(r,l,e){return l<cljs.core._count(this)?this.start+l*this.step:this.start>this.end&&0===this.step?this.start:e},cljs.core.Range.prototype.cljs$core$IIterable$=!0,cljs.core.Range.prototype.cljs$core$IIterable$_iterator$arity$1=function(r){return new cljs.core.RangeIterator(this.start,this.end,this.step)},cljs.core.Range.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},cljs.core.Range.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.Range(this.meta,this.start,this.end,this.step,this.__hash)},cljs.core.Range.prototype.cljs$core$INext$_next$arity$1=function(r){return 0<this.step?this.start+this.step<this.end?new cljs.core.Range(this.meta,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new cljs.core.Range(this.meta,this.start+this.step,this.end,this.step,null):null},cljs.core.Range.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.not(cljs.core._seq(this))?0:Math.ceil((this.end-this.start)/this.step)},cljs.core.Range.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_ordered_coll(this)},cljs.core.Range.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.equiv_sequential(this,l)},cljs.core.Range.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return cljs.core.with_meta(cljs.core.List.EMPTY,this.meta)},cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.ci_reduce.cljs$core$IFn$_invoke$arity$2(this,l)},cljs.core.Range.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){for(r=this.start;;){if(!(0<this.step?r<this.end:r>this.end))return e;var c=r;if(e=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c),cljs.core.reduced_QMARK_(e))return l=e,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l);r+=this.step}},cljs.core.Range.prototype.cljs$core$ISeq$_first$arity$1=function(r){return null==cljs.core._seq(this)?null:this.start},cljs.core.Range.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return null!=cljs.core._seq(this)?new cljs.core.Range(this.meta,this.start+this.step,this.end,this.step,null):cljs.core.List.EMPTY},cljs.core.Range.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return 0<this.step?this.start<this.end?this:null:this.start>this.end?this:null},cljs.core.Range.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.Range(l,this.start,this.end,this.step,this.__hash)},cljs.core.Range.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.cons(l,this)},cljs.core.Range.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"step","step",-1365547645,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.Range.cljs$lang$type=!0,cljs.core.Range.cljs$lang$ctorStr="cljs.core/Range",cljs.core.Range.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Range")},cljs.core.__GT_Range=function(r,l,e,c,t){return new cljs.core.Range(r,l,e,c,t)},cljs.core.Range.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.range=function(){switch(arguments.length){case 0:return cljs.core.range.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.range.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.range.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.range.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.range.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0,Number.MAX_VALUE,1)},cljs.core.range.cljs$core$IFn$_invoke$arity$1=function(r){
return cljs.core.range.cljs$core$IFn$_invoke$arity$3(0,r,1)},cljs.core.range.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.range.cljs$core$IFn$_invoke$arity$3(r,l,1)},cljs.core.range.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.Range(null,r,l,e,null)},cljs.core.range.cljs$lang$maxFixedArity=3,cljs.core.take_nth=function(){switch(arguments.length){case 1:return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.take_nth.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){return function(e){return function(){var c=null,t=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},n=function(r){return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},s=function(c,t){var n=cljs.core._vreset_BANG_(e,cljs.core._deref(e)+1);return 0===cljs.core.rem(n,r)?l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,t):l.call(null,c,t):c},c=function(r,l){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c}()}(cljs.core.volatile_BANG_(-1))}},cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);return e?cljs.core.cons(cljs.core.first(e),cljs.core.take_nth.cljs$core$IFn$_invoke$arity$2(r,cljs.core.drop.cljs$core$IFn$_invoke$arity$2(r,e))):null},null,null)},cljs.core.take_nth.cljs$lang$maxFixedArity=2,cljs.core.split_with=function(r,l){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(r,l),cljs.core.drop_while.cljs$core$IFn$_invoke$arity$2(r,l)],null)},cljs.core.partition_by=function(){switch(arguments.length){case 1:return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.partition_by.cljs$core$IFn$_invoke$arity$1=function(r){return function(l){var e=cljs.core.array_list(),c=cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439));return function(e,c){return function(){var t=null,n=function(){return l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},s=function(r){if(!cljs.core.truth_(e.isEmpty())){var c=cljs.core.vec(e.toArray());e.clear(),r=cljs.core.unreduced(l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(r,c):l.call(null,r,c))}return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)},o=function(t,n){var s=cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c),o=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(n):r.call(null,n);return cljs.core.vreset_BANG_(c,o),cljs.core.keyword_identical_QMARK_(s,new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439))||cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(o,s)?(e.add(n),t):(s=cljs.core.vec(e.toArray()),e.clear(),s=l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(t,s):l.call(null,t,s),cljs.core.reduced_QMARK_(s)||e.add(n),s)},t=function(r,l){switch(arguments.length){case 0:return n.call(this);case 1:return s.call(this,r);case 2:return o.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return t.cljs$core$IFn$_invoke$arity$0=n,t.cljs$core$IFn$_invoke$arity$1=s,t.cljs$core$IFn$_invoke$arity$2=o,t}()}(e,c)}},cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);if(e){var c=cljs.core.first(e),t=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),c=cljs.core.cons(c,cljs.core.take_while.cljs$core$IFn$_invoke$arity$2(function(l,e,c,t){return function(l){return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(e,r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l))}}(0,t),cljs.core.next(e)));return cljs.core.cons(c,cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(r,cljs.core.seq(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(cljs.core.count(c),e))))}return null},null,null)},cljs.core.partition_by.cljs$lang$maxFixedArity=2,cljs.core.frequencies=function(r){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r,l){return cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,l,0)+1)},cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY),r))},cljs.core.reductions=function(){switch(arguments.length){case 2:return cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.reductions.cljs$core$IFn$_invoke$arity$2=function(r,l){return new cljs.core.LazySeq(null,function(){var e=cljs.core.seq(l);return e?cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(r,cljs.core.first(e),cljs.core.rest(e)):cljs.core._conj(cljs.core.List.EMPTY,r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null))},null,null)},cljs.core.reductions.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.cons(l,new cljs.core.LazySeq(null,function(){var c=cljs.core.seq(e);return c?cljs.core.reductions.cljs$core$IFn$_invoke$arity$3(r,function(){var e=cljs.core.first(c);return r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e)}(),cljs.core.rest(c)):null},null,null))},cljs.core.reductions.cljs$lang$maxFixedArity=3,cljs.core.juxt=function(){switch(arguments.length){case 1:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.juxt.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0);return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)}},cljs.core.juxt.cljs$core$IFn$_invoke$arity$1=function(r){return function(){var l=null,e=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)],null)},c=function(l){var e=cljs.core.PersistentVector,c=cljs.core.PersistentVector.EMPTY_NODE;return l=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l),new e(null,1,5,c,[l],null)},t=function(l,e){var c,t=cljs.core.PersistentVector,n=cljs.core.PersistentVector.EMPTY_NODE;return c=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e),new t(null,1,5,n,[c],null)},n=function(l,e,c){var t=cljs.core.PersistentVector,n=cljs.core.PersistentVector.EMPTY_NODE;return l=r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(l,e,c):r.call(null,l,e,c),new t(null,1,5,n,[l],null)},s=function(){var l=function(l,e,c,t){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t)],null)},e=function(r,e,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return l.call(this,r,e,c,n)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=function(r){var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),l(e,c,t,r)},e.cljs$core$IFn$_invoke$arity$variadic=l,e}(),l=function(r,l,o,a){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r);case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,o);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,o,i)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=s.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l.cljs$core$IFn$_invoke$arity$2=t,l.cljs$core$IFn$_invoke$arity$3=n,l.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,l}()},cljs.core.juxt.cljs$core$IFn$_invoke$arity$2=function(r,l){return function(){var e=null,c=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null),l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)],null)},t=function(e){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(e):l.call(null,e)],null)},n=function(e,c){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,c):r.call(null,e,c),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(e,c):l.call(null,e,c)],null)},s=function(e,c,t){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(e,c,t):r.call(null,e,c,t),l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(e,c,t):l.call(null,e,c,t)],null)},o=function(){var e=function(e,c,t,n){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,e,c,t,n),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n)],null)},c=function(r,l,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return e.call(this,r,l,c,n)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),e(l,c,t,r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}(),e=function(r,l,e,a){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l);case 3:return s.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return o.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=o.cljs$lang$applyTo,e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e.cljs$core$IFn$_invoke$arity$3=s,e.cljs$core$IFn$_invoke$arity$variadic=o.cljs$core$IFn$_invoke$arity$variadic,e}()},cljs.core.juxt.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return function(){var c=null,t=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null),l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null),e.cljs$core$IFn$_invoke$arity$0?e.cljs$core$IFn$_invoke$arity$0():e.call(null)],null)},n=function(c){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(c):r.call(null,c),l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(c):l.call(null,c),e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(c):e.call(null,c)],null)},s=function(c,t){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(c,t):r.call(null,c,t),l.cljs$core$IFn$_invoke$arity$2?l.cljs$core$IFn$_invoke$arity$2(c,t):l.call(null,c,t),e.cljs$core$IFn$_invoke$arity$2?e.cljs$core$IFn$_invoke$arity$2(c,t):e.call(null,c,t)],null)},o=function(c,t,n){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[r.cljs$core$IFn$_invoke$arity$3?r.cljs$core$IFn$_invoke$arity$3(c,t,n):r.call(null,c,t,n),l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(c,t,n):l.call(null,c,t,n),e.cljs$core$IFn$_invoke$arity$3?e.cljs$core$IFn$_invoke$arity$3(c,t,n):e.call(null,c,t,n)],null)},a=function(){var c=function(c,t,n,s){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.apply.cljs$core$IFn$_invoke$arity$5(r,c,t,n,s),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(l,c,t,n,s),cljs.core.apply.cljs$core$IFn$_invoke$arity$5(e,c,t,n,s)],null)},t=function(r,l,e,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return c.call(this,r,l,e,n)};return t.cljs$lang$maxFixedArity=3,t.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);r=cljs.core.next(r);var e=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),c(l,e,t,r)},t.cljs$core$IFn$_invoke$arity$variadic=c,t}(),c=function(r,l,e,c){switch(arguments.length){case 0:return t.call(this);case 1:return n.call(this,r);case 2:return s.call(this,r,l);case 3:return o.call(this,r,l,e);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return a.cljs$core$IFn$_invoke$arity$variadic(r,l,e,i)}throw Error("Invalid arity: "+arguments.length)};return c.cljs$lang$maxFixedArity=3,c.cljs$lang$applyTo=a.cljs$lang$applyTo,c.cljs$core$IFn$_invoke$arity$0=t,c.cljs$core$IFn$_invoke$arity$1=n,c.cljs$core$IFn$_invoke$arity$2=s,c.cljs$core$IFn$_invoke$arity$3=o,c.cljs$core$IFn$_invoke$arity$variadic=a.cljs$core$IFn$_invoke$arity$variadic,c}()},cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){return function(r){return function(){var l=null,e=function(){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r){return function(r,l){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null))}}(),cljs.core.PersistentVector.EMPTY,r)},c=function(l){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r){return function(r,e){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(l):e.call(null,l))}}(),cljs.core.PersistentVector.EMPTY,r)},t=function(l,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r){return function(r,c){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,c.cljs$core$IFn$_invoke$arity$2?c.cljs$core$IFn$_invoke$arity$2(l,e):c.call(null,l,e))}}(),cljs.core.PersistentVector.EMPTY,r)},n=function(l,e,c){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r){return function(r,t){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,t.cljs$core$IFn$_invoke$arity$3?t.cljs$core$IFn$_invoke$arity$3(l,e,c):t.call(null,l,e,c))}}(),cljs.core.PersistentVector.EMPTY,r)},s=function(){var l=function(l,e,c,t){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r){return function(r,n){return cljs.core.conj.cljs$core$IFn$_invoke$arity$2(r,cljs.core.apply.cljs$core$IFn$_invoke$arity$5(n,l,e,c,t))}}(),cljs.core.PersistentVector.EMPTY,r)},e=function(r,e,c,t){var n=null;if(3<arguments.length){for(var n=0,s=Array(arguments.length-3);n<s.length;)s[n]=arguments[n+3],++n;n=new cljs.core.IndexedSeq(s,0)}return l.call(this,r,e,c,n)};return e.cljs$lang$maxFixedArity=3,e.cljs$lang$applyTo=function(r){var e=cljs.core.first(r);r=cljs.core.next(r);var c=cljs.core.first(r);r=cljs.core.next(r);var t=cljs.core.first(r);return r=cljs.core.rest(r),l(e,c,t,r)},e.cljs$core$IFn$_invoke$arity$variadic=l,e}(),l=function(r,l,o,a){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r);case 2:return t.call(this,r,l);case 3:return n.call(this,r,l,o);default:var i=null;if(3<arguments.length){for(var i=0,u=Array(arguments.length-3);i<u.length;)u[i]=arguments[i+3],++i;i=new cljs.core.IndexedSeq(u,0)}return s.cljs$core$IFn$_invoke$arity$variadic(r,l,o,i)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=s.cljs$lang$applyTo,l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l.cljs$core$IFn$_invoke$arity$2=t,l.cljs$core$IFn$_invoke$arity$3=n,l.cljs$core$IFn$_invoke$arity$variadic=s.cljs$core$IFn$_invoke$arity$variadic,l}()}(cljs.core.list_STAR_.cljs$core$IFn$_invoke$arity$4(r,l,e,c))},cljs.core.juxt.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);r=cljs.core.first(e);var c=cljs.core.next(e),e=cljs.core.first(c),c=cljs.core.next(c);return cljs.core.juxt.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.juxt.cljs$lang$maxFixedArity=3,cljs.core.dorun=function(){switch(arguments.length){case 1:return cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.dorun.cljs$core$IFn$_invoke$arity$1=function(r){for(;;){if(!cljs.core.seq(r))return null;r=cljs.core.next(r)}},cljs.core.dorun.cljs$core$IFn$_invoke$arity$2=function(r,l){for(;;){if(!(cljs.core.seq(l)&&0<r))return null;var e=r-1,c=cljs.core.next(l);r=e,l=c}},cljs.core.dorun.cljs$lang$maxFixedArity=2,cljs.core.doall=function(){switch(arguments.length){case 1:return cljs.core.doall.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.doall.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.doall.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.dorun.cljs$core$IFn$_invoke$arity$1(r),r},cljs.core.doall.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.dorun.cljs$core$IFn$_invoke$arity$2(r,l),l},cljs.core.doall.cljs$lang$maxFixedArity=2,cljs.core.regexp_QMARK_=function(r){return r instanceof RegExp},cljs.core.re_matches=function(r,l){if("string"==typeof l){var e=r.exec(l);return cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(e),l)?1===cljs.core.count(e)?cljs.core.first(e):cljs.core.vec(e):null}throw new TypeError("re-matches must match against a string.")},cljs.core.re_find=function(r,l){if("string"==typeof l){var e=r.exec(l);return null==e?null:1===cljs.core.count(e)?cljs.core.first(e):cljs.core.vec(e)}throw new TypeError("re-find must match against a string.")},cljs.core.re_seq=function r(l,e){var c=cljs.core.re_find(l,e),t=e.search(l),n=cljs.core.coll_QMARK_(c)?cljs.core.first(c):c,s=cljs.core.subs.cljs$core$IFn$_invoke$arity$2(e,t+cljs.core.count(n));return cljs.core.truth_(c)?new cljs.core.LazySeq(null,function(e,c,t,n){return function(){return cljs.core.cons(e,cljs.core.seq(n)?r(l,n):null)}}(c,0,0,s),null,null):null},cljs.core.re_pattern=function(r){if(r instanceof RegExp)return r;var l=cljs.core.re_find(/^\(\?([idmsux]*)\)/,r),e=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,0,null),l=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(l,1,null);return r=cljs.core.subs.cljs$core$IFn$_invoke$arity$2(r,cljs.core.count(e)),e=RegExp,l=cljs.core.truth_(l)?l:"",new e(r,l)},cljs.core.pr_sequential_writer=function(r,l,e,c,t,n,s){var o=cljs.core._STAR_print_level_STAR_;cljs.core._STAR_print_level_STAR_=null==cljs.core._STAR_print_level_STAR_?null:cljs.core._STAR_print_level_STAR_-1;try{if(null!=cljs.core._STAR_print_level_STAR_&&0>cljs.core._STAR_print_level_STAR_)return cljs.core._write(r,"#");if(cljs.core._write(r,e),0===new cljs.core.Keyword(null,"print-length","print-length",1931866356).cljs$core$IFn$_invoke$arity$1(n))cljs.core.seq(s)&&cljs.core._write(r,function(){var r=new cljs.core.Keyword(null,"more-marker","more-marker",-14717935).cljs$core$IFn$_invoke$arity$1(n);return cljs.core.truth_(r)?r:"..."}());else{if(cljs.core.seq(s)){var a=cljs.core.first(s);l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(a,r,n):l.call(null,a,r,n)}for(var i=cljs.core.next(s),u=new cljs.core.Keyword(null,"print-length","print-length",1931866356).cljs$core$IFn$_invoke$arity$1(n)-1;;){if(!i||null!=u&&0===u){cljs.core.seq(i)&&0===u&&(cljs.core._write(r,c),cljs.core._write(r,function(){var r=new cljs.core.Keyword(null,"more-marker","more-marker",-14717935).cljs$core$IFn$_invoke$arity$1(n);return cljs.core.truth_(r)?r:"..."}()));break}cljs.core._write(r,c);var $=cljs.core.first(i);e=r,s=n,l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3($,e,s):l.call(null,$,e,s);var j=cljs.core.next(i);e=u-1,i=j,u=e}}return cljs.core._write(r,t)}finally{cljs.core._STAR_print_level_STAR_=o}},cljs.core.write_all=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic=function(r,l){for(var e=cljs.core.seq(l),c=null,t=0,n=0;;)if(n<t){var s=c.cljs$core$IIndexed$_nth$arity$2(null,n);cljs.core._write(r,s),n+=1}else{if(!(e=cljs.core.seq(e)))return null;c=e,cljs.core.chunked_seq_QMARK_(c)?(e=cljs.core.chunk_first(c),t=cljs.core.chunk_rest(c),c=e,s=cljs.core.count(e),e=t,t=s):(s=cljs.core.first(c),cljs.core._write(r,s),e=cljs.core.next(c),c=null,t=0),n=0}},cljs.core.write_all.cljs$lang$maxFixedArity=1,cljs.core.write_all.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.string_print=function(r){return cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1?cljs.core._STAR_print_fn_STAR_.cljs$core$IFn$_invoke$arity$1(r):cljs.core._STAR_print_fn_STAR_.call(null,r),null},cljs.core.flush=function(){return null},cljs.core.char_escapes=function(){return{'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"}}(),cljs.core.quote_string=function(r){return[cljs.core.str('"'),cljs.core.str(r.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(r){return cljs.core.char_escapes[r]})),cljs.core.str('"')].join("")},cljs.core.pr_writer_impl=function(r,l,e){if(null==r)return cljs.core._write(l,"nil");if(void 0===r)return cljs.core._write(l,"#<undefined>");if(cljs.core.truth_(function(){var l=cljs.core.get.cljs$core$IFn$_invoke$arity$2(e,new cljs.core.Keyword(null,"meta","meta",1499536964));return cljs.core.truth_(l)&&(l=r?!!(131072&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IMeta$)||!r.cljs$lang$protocol_mask$partition0$&&cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,r):cljs.core.native_satisfies_QMARK_(cljs.core.IMeta,r))?cljs.core.meta(r):l}())){cljs.core._write(l,"^");var c=cljs.core.meta(r);cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3?cljs.core.pr_writer.cljs$core$IFn$_invoke$arity$3(c,l,e):cljs.core.pr_writer.call(null,c,l,e),cljs.core._write(l," ")}if(null==r)return cljs.core._write(l,"nil");if(r.cljs$lang$type)return r.cljs$lang$ctorPrWriter(r,l,e);if(r&&(2147483648&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IPrintWithWriter$))return r.cljs$core$IPrintWithWriter$_pr_writer$arity$3(null,l,e);if(cljs.core.type(r)===Boolean||"number"==typeof r)return cljs.core._write(l,""+cljs.core.str(r));if(cljs.core.object_QMARK_(r)){cljs.core._write(l,"#js ");var c=cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(l){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.cljs$core$IFn$_invoke$arity$1(l),r[l]],null)},cljs.core.js_keys(r)),t=cljs.core.pr_writer;return cljs.core.print_map.cljs$core$IFn$_invoke$arity$4?cljs.core.print_map.cljs$core$IFn$_invoke$arity$4(c,t,l,e):cljs.core.print_map.call(null,c,t,l,e)}return cljs.core.array_QMARK_(r)?cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"#js ["," ","]",e,r):cljs.core.truth_(goog.isString(r))?cljs.core.truth_(new cljs.core.Keyword(null,"readably","readably",1129599760).cljs$core$IFn$_invoke$arity$1(e))?cljs.core._write(l,cljs.core.quote_string(r)):cljs.core._write(l,r):cljs.core.fn_QMARK_(r)?cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(l,cljs.core.array_seq(["#<",""+cljs.core.str(r),">"],0)):r instanceof Date?(c=function(r,l){for(var e=""+cljs.core.str(r);;){if(!(cljs.core.count(e)<l))return e;e=[cljs.core.str("0"),cljs.core.str(e)].join("")}},cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(l,cljs.core.array_seq(['#inst "',""+cljs.core.str(r.getUTCFullYear()),"-",c(r.getUTCMonth()+1,2),"-",c(r.getUTCDate(),2),"T",c(r.getUTCHours(),2),":",c(r.getUTCMinutes(),2),":",c(r.getUTCSeconds(),2),".",c(r.getUTCMilliseconds(),3),"-",'00:00"'],0))):cljs.core.truth_(cljs.core.regexp_QMARK_(r))?cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(l,cljs.core.array_seq(['#"',r.source,'"'],0)):(r?2147483648&r.cljs$lang$protocol_mask$partition0$||r.cljs$core$IPrintWithWriter$||(r.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IPrintWithWriter,r)):cljs.core.native_satisfies_QMARK_(cljs.core.IPrintWithWriter,r))?cljs.core._pr_writer(r,l,e):cljs.core.write_all.cljs$core$IFn$_invoke$arity$variadic(l,cljs.core.array_seq(["#<",""+cljs.core.str(r),">"],0))},cljs.core.pr_writer=function(r,l,e){var c=new cljs.core.Keyword(null,"alt-impl","alt-impl",670969595).cljs$core$IFn$_invoke$arity$1(e);return cljs.core.truth_(c)?(e=cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(e,new cljs.core.Keyword(null,"fallback-impl","fallback-impl",-1501286995),cljs.core.pr_writer_impl),c.cljs$core$IFn$_invoke$arity$3?c.cljs$core$IFn$_invoke$arity$3(r,l,e):c.call(null,r,l,e)):cljs.core.pr_writer_impl(r,l,e)},cljs.core.pr_seq_writer=function(r,l,e){cljs.core.pr_writer(cljs.core.first(r),l,e),r=cljs.core.seq(cljs.core.next(r));for(var c=null,t=0,n=0;;)if(n<t){var s=c.cljs$core$IIndexed$_nth$arity$2(null,n);cljs.core._write(l," "),cljs.core.pr_writer(s,l,e),n+=1}else{if(!(r=cljs.core.seq(r)))return null;c=r,cljs.core.chunked_seq_QMARK_(c)?(r=cljs.core.chunk_first(c),t=cljs.core.chunk_rest(c),c=r,s=cljs.core.count(r),r=t,t=s):(s=cljs.core.first(c),cljs.core._write(l," "),cljs.core.pr_writer(s,l,e),r=cljs.core.next(c),c=null,t=0),n=0}},cljs.core.pr_sb_with_opts=function(r,l){var e=new goog.string.StringBuffer,c=new cljs.core.StringBufferWriter(e);return cljs.core.pr_seq_writer(r,c,l),c.cljs$core$IWriter$_flush$arity$1(null),e},cljs.core.pr_str_with_opts=function(r,l){return cljs.core.empty_QMARK_(r)?"":""+cljs.core.str(cljs.core.pr_sb_with_opts(r,l))},cljs.core.prn_str_with_opts=function(r,l){if(cljs.core.empty_QMARK_(r))return"\n";var e=cljs.core.pr_sb_with_opts(r,l);return e.append("\n"),""+cljs.core.str(e)},cljs.core.pr_with_opts=function(r,l){return cljs.core.string_print(cljs.core.pr_str_with_opts(r,l))},cljs.core.newline=function(){switch(arguments.length){case 0:return cljs.core.newline.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.newline.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.newline.cljs$core$IFn$_invoke$arity$1(null)},cljs.core.newline.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.string_print("\n"),cljs.core.truth_(cljs.core.get.cljs$core$IFn$_invoke$arity$2(r,new cljs.core.Keyword(null,"flush-on-newline","flush-on-newline",-151457939)))?cljs.core.flush():null},cljs.core.newline.cljs$lang$maxFixedArity=1,cljs.core.pr_str=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.pr_str_with_opts(r,cljs.core.pr_opts())},cljs.core.pr_str.cljs$lang$maxFixedArity=0,cljs.core.pr_str.cljs$lang$applyTo=function(r){return cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.prn_str=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.prn_str_with_opts(r,cljs.core.pr_opts())},cljs.core.prn_str.cljs$lang$maxFixedArity=0,cljs.core.prn_str.cljs$lang$applyTo=function(r){return cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.pr=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.pr_with_opts(r,cljs.core.pr_opts())},cljs.core.pr.cljs$lang$maxFixedArity=0,cljs.core.pr.cljs$lang$applyTo=function(r){return cljs.core.pr.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.print=function(){var r=function(r){return cljs.core.pr_with_opts(r,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),!1))},l=function(l){var e=null;if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;e=new cljs.core.IndexedSeq(c,0)}return r.call(this,e)};return l.cljs$lang$maxFixedArity=0,l.cljs$lang$applyTo=function(l){return l=cljs.core.seq(l),r(l)},l.cljs$core$IFn$_invoke$arity$variadic=r,l}(),cljs.core.print_str=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.pr_str_with_opts(r,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),!1))},cljs.core.print_str.cljs$lang$maxFixedArity=0,cljs.core.print_str.cljs$lang$applyTo=function(r){return cljs.core.print_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.println=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.println.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.pr_with_opts(r,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),!1)),cljs.core.truth_(cljs.core._STAR_print_newline_STAR_)?cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts()):null},cljs.core.println.cljs$lang$maxFixedArity=0,cljs.core.println.cljs$lang$applyTo=function(r){return cljs.core.println.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.println_str=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic=function(r){
return cljs.core.prn_str_with_opts(r,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.pr_opts(),new cljs.core.Keyword(null,"readably","readably",1129599760),!1))},cljs.core.println_str.cljs$lang$maxFixedArity=0,cljs.core.println_str.cljs$lang$applyTo=function(r){return cljs.core.println_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.prn=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.pr_with_opts(r,cljs.core.pr_opts()),cljs.core.truth_(cljs.core._STAR_print_newline_STAR_)?cljs.core.newline.cljs$core$IFn$_invoke$arity$1(cljs.core.pr_opts()):null},cljs.core.prn.cljs$lang$maxFixedArity=0,cljs.core.prn.cljs$lang$applyTo=function(r){return cljs.core.prn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.print_map=function(r,l,e,c){return cljs.core.pr_sequential_writer(e,function(r,e,c){var t=cljs.core.key(r);return l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(t,e,c):l.call(null,t,e,c),cljs.core._write(e," "),r=cljs.core.val(r),l.cljs$core$IFn$_invoke$arity$3?l.cljs$core$IFn$_invoke$arity$3(r,e,c):l.call(null,r,e,c)},"{",", ","}",c,cljs.core.seq(r))},cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Volatile.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,"#<Volatile: "),cljs.core.pr_writer(this.state,l,e),cljs.core._write(l,">")},cljs.core.Var.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Var.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,"#'"),cljs.core.pr_writer(this.sym,l,e)},cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.IndexedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.LazySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentTreeMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.NodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.BlackNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"["," ","]",e,this)},cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentArrayMapSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)};cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ES6IteratorSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentTreeSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"#{"," ","}",e,this)},cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ChunkedSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ObjMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.print_map(this,cljs.core.pr_writer,l,e)},cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Cons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.RSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentHashMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.print_map(this,cljs.core.pr_writer,l,e)},cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ArrayNodeSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Subvec.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"["," ","]",e,this)},cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentTreeMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.print_map(this,cljs.core.pr_writer,l,e)},cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentHashSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"#{"," ","}",e,this)},cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ChunkedCons.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Atom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,"#<Atom: "),cljs.core.pr_writer(this.state,l,e),cljs.core._write(l,">")},cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ValSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.RedNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"["," ","]",e,this)},cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentVector.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"["," ","]",e,this)},cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentQueueSeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.EmptyList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,"()")},cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.LazyTransformer.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentQueue.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"#queue ["," ","]",e,cljs.core.seq(this))},cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.PersistentArrayMap.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.print_map(this,cljs.core.pr_writer,l,e)},cljs.core.Range.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.Range.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.KeySeq.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.List.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.List.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.Symbol.prototype.cljs$core$IComparable$=!0,cljs.core.Symbol.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){if(l instanceof cljs.core.Symbol)return cljs.core.compare_symbols(this,l);throw Error([cljs.core.str("Cannot compare "),cljs.core.str(this),cljs.core.str(" to "),cljs.core.str(l)].join(""))},cljs.core.Keyword.prototype.cljs$core$IComparable$=!0,cljs.core.Keyword.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){if(l instanceof cljs.core.Keyword)return cljs.core.compare_keywords(this,l);throw Error([cljs.core.str("Cannot compare "),cljs.core.str(this),cljs.core.str(" to "),cljs.core.str(l)].join(""))},cljs.core.Subvec.prototype.cljs$core$IComparable$=!0,cljs.core.Subvec.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l))return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(this,l);throw Error([cljs.core.str("Cannot compare "),cljs.core.str(this),cljs.core.str(" to "),cljs.core.str(l)].join(""))},cljs.core.PersistentVector.prototype.cljs$core$IComparable$=!0,cljs.core.PersistentVector.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){if(cljs.core.vector_QMARK_(l))return cljs.core.compare_indexed.cljs$core$IFn$_invoke$arity$2(this,l);throw Error([cljs.core.str("Cannot compare "),cljs.core.str(this),cljs.core.str(" to "),cljs.core.str(l)].join(""))},cljs.core.alter_meta_BANG_=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return r.meta=cljs.core.apply.cljs$core$IFn$_invoke$arity$3(l,r.meta,e)},cljs.core.alter_meta_BANG_.cljs$lang$maxFixedArity=2,cljs.core.alter_meta_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r),e=cljs.core.next(r);return r=cljs.core.first(e),e=cljs.core.next(e),cljs.core.alter_meta_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},cljs.core.reset_meta_BANG_=function(r,l){return r.meta=l},cljs.core.add_watch=function(r,l,e){return cljs.core._add_watch(r,l,e),r},cljs.core.remove_watch=function(r,l){return cljs.core._remove_watch(r,l),r},cljs.core.gensym_counter=null,cljs.core.gensym=function(){switch(arguments.length){case 0:return cljs.core.gensym.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.gensym.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.gensym.cljs$core$IFn$_invoke$arity$1("G__")},cljs.core.gensym.cljs$core$IFn$_invoke$arity$1=function(r){if(null==cljs.core.gensym_counter){var l,e=cljs.core;l=cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(0):cljs.core.atom.call(null,0),e.gensym_counter=l}return cljs.core.symbol.cljs$core$IFn$_invoke$arity$1([cljs.core.str(r),cljs.core.str(cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(cljs.core.gensym_counter,cljs.core.inc))].join(""))},cljs.core.gensym.cljs$lang$maxFixedArity=1,cljs.core.fixture1=1,cljs.core.fixture2=2,cljs.core.Delay=function(r,l){this.f=r,this.value=l,this.cljs$lang$protocol_mask$partition0$=32768,this.cljs$lang$protocol_mask$partition1$=1},cljs.core.Delay.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return cljs.core.truth_(this.f)&&(this.value=this.f.cljs$core$IFn$_invoke$arity$0?this.f.cljs$core$IFn$_invoke$arity$0():this.f.call(null),this.f=null),this.value},cljs.core.Delay.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(r){return cljs.core.not(this.f)},cljs.core.Delay.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"value","value",1946509744,null)],null)},cljs.core.Delay.cljs$lang$type=!0,cljs.core.Delay.cljs$lang$ctorStr="cljs.core/Delay",cljs.core.Delay.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Delay")},cljs.core.__GT_Delay=function(r,l){return new cljs.core.Delay(r,l)},cljs.core.delay_QMARK_=function(r){return r instanceof cljs.core.Delay},cljs.core.force=function(r){return cljs.core.delay_QMARK_(r)?cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r):r},cljs.core.realized_QMARK_=function(r){return cljs.core._realized_QMARK_(r)},cljs.core.preserving_reduced=function(r){return function(l,e){var c;return c=r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e),cljs.core.reduced_QMARK_(c)?cljs.core.reduced(c):c}},cljs.core.cat=function(r){return function(l){return function(){var e=null,c=function(){return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)},t=function(l){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)},n=function(r,e){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(l,r,e)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}(cljs.core.preserving_reduced(r))},cljs.core.dedupe=function(){switch(arguments.length){case 0:return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0=function(){return function(r){return function(l){return function(){var e=null,c=function(){return r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null)},t=function(l){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(l):r.call(null,l)},n=function(e,c){var t;return t=cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l),cljs.core.vreset_BANG_(l,c),cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(t,c)?e:r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,c):r.call(null,e,c)},e=function(r,l){switch(arguments.length){case 0:return c.call(this);case 1:return t.call(this,r);case 2:return n.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return e.cljs$core$IFn$_invoke$arity$0=c,e.cljs$core$IFn$_invoke$arity$1=t,e.cljs$core$IFn$_invoke$arity$2=n,e}()}(cljs.core.volatile_BANG_(new cljs.core.Keyword("cljs.core","none","cljs.core/none",926646439)))}},cljs.core.dedupe.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(cljs.core.dedupe.cljs$core$IFn$_invoke$arity$0(),r)},cljs.core.dedupe.cljs$lang$maxFixedArity=1,cljs.core.random_sample=function(){switch(arguments.length){case 1:return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.random_sample.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.filter.cljs$core$IFn$_invoke$arity$1(function(l){return(cljs.core.rand.cljs$core$IFn$_invoke$arity$0?cljs.core.rand.cljs$core$IFn$_invoke$arity$0():cljs.core.rand.call(null))<r})},cljs.core.random_sample.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.filter.cljs$core$IFn$_invoke$arity$2(function(l){return(cljs.core.rand.cljs$core$IFn$_invoke$arity$0?cljs.core.rand.cljs$core$IFn$_invoke$arity$0():cljs.core.rand.call(null))<r},l)},cljs.core.random_sample.cljs$lang$maxFixedArity=2,cljs.core.Eduction=function(r,l){this.xform=r,this.coll=l,this.cljs$lang$protocol_mask$partition0$=2173173760,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.Eduction.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq(cljs.core.sequence.cljs$core$IFn$_invoke$arity$2(this.xform,this.coll))},cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return cljs.core.transduce.cljs$core$IFn$_invoke$arity$3(this.xform,cljs.core.completing.cljs$core$IFn$_invoke$arity$1(l),this.coll)},cljs.core.Eduction.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.transduce.cljs$core$IFn$_invoke$arity$4(this.xform,cljs.core.completing.cljs$core$IFn$_invoke$arity$1(l),e,this.coll)},cljs.core.Eduction.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer(l,cljs.core.pr_writer,"("," ",")",e,this)},cljs.core.Eduction.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"xform","xform",-85179481,null),new cljs.core.Symbol(null,"coll","coll",-1006698606,null)],null)},cljs.core.Eduction.cljs$lang$type=!0,cljs.core.Eduction.cljs$lang$ctorStr="cljs.core/Eduction",cljs.core.Eduction.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/Eduction")},cljs.core.__GT_Eduction=function(r,l){return new cljs.core.Eduction(r,l)},cljs.core.Eduction.prototype[cljs.core.ITER_SYMBOL]=function(){return cljs.core.es6_iterator(this)},cljs.core.eduction=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(r)},cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic=function(r){return new cljs.core.Eduction(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.comp,cljs.core.butlast(r)),cljs.core.last(r))},cljs.core.eduction.cljs$lang$maxFixedArity=0,cljs.core.eduction.cljs$lang$applyTo=function(r){return cljs.core.eduction.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(r))},cljs.core.run_BANG_=function(r,l){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){return r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e)},null,l)},cljs.core.IEncodeJS=function(){return{}}(),cljs.core._clj__GT_js=function(r){if(r?r.cljs$core$IEncodeJS$_clj__GT_js$arity$1:r)return r.cljs$core$IEncodeJS$_clj__GT_js$arity$1(r);var l;l=cljs.core._clj__GT_js;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._clj__GT_js._))throw cljs.core.missing_protocol("IEncodeJS.-clj->js",r);return l.call(null,r)},cljs.core._key__GT_js=function(r){if(r?r.cljs$core$IEncodeJS$_key__GT_js$arity$1:r)return r.cljs$core$IEncodeJS$_key__GT_js$arity$1(r);var l;l=cljs.core._key__GT_js;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._key__GT_js._))throw cljs.core.missing_protocol("IEncodeJS.-key->js",r);return l.call(null,r)},cljs.core.key__GT_js=function(r){return(r?cljs.core.truth_(cljs.core.truth_(null)?null:r.cljs$core$IEncodeJS$)||(r.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,r)):cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,r))?cljs.core._clj__GT_js(r):"string"==typeof r||"number"==typeof r||r instanceof cljs.core.Keyword||r instanceof cljs.core.Symbol?cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1?cljs.core.clj__GT_js.cljs$core$IFn$_invoke$arity$1(r):cljs.core.clj__GT_js.call(null,r):cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([r],0))},cljs.core.clj__GT_js=function r(l){if(null==l)return null;if(l?cljs.core.truth_(cljs.core.truth_(null)?null:l.cljs$core$IEncodeJS$)||(l.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,l)):cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeJS,l))return cljs.core._clj__GT_js(l);if(l instanceof cljs.core.Keyword)return cljs.core.name(l);if(l instanceof cljs.core.Symbol)return""+cljs.core.str(l);if(cljs.core.map_QMARK_(l)){var e={};l=cljs.core.seq(l);for(var c=null,t=0,n=0;;)if(n<t){var s=c.cljs$core$IIndexed$_nth$arity$2(null,n),o=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(s,0,null),s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(s,1,null);e[cljs.core.key__GT_js(o)]=r(s),n+=1}else{if(!(l=cljs.core.seq(l)))break;cljs.core.chunked_seq_QMARK_(l)?(t=cljs.core.chunk_first(l),l=cljs.core.chunk_rest(l),c=t,t=cljs.core.count(t)):(t=cljs.core.first(l),c=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(t,0,null),t=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(t,1,null),e[cljs.core.key__GT_js(c)]=r(t),l=cljs.core.next(l),c=null,t=0),n=0}return e}if(cljs.core.coll_QMARK_(l)){for(e=[],l=cljs.core.seq(cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,l)),c=null,n=t=0;;)if(n<t)o=c.cljs$core$IIndexed$_nth$arity$2(null,n),e.push(o),n+=1;else{if(!(l=cljs.core.seq(l)))break;c=l,cljs.core.chunked_seq_QMARK_(c)?(l=cljs.core.chunk_first(c),n=cljs.core.chunk_rest(c),c=l,t=cljs.core.count(l),l=n):(l=cljs.core.first(c),e.push(l),l=cljs.core.next(c),c=null,t=0),n=0}return e}return l},cljs.core.IEncodeClojure=function(){return{}}(),cljs.core._js__GT_clj=function(r,l){if(r?r.cljs$core$IEncodeClojure$_js__GT_clj$arity$2:r)return r.cljs$core$IEncodeClojure$_js__GT_clj$arity$2(r,l);var e;e=cljs.core._js__GT_clj;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._js__GT_clj._))throw cljs.core.missing_protocol("IEncodeClojure.-js->clj",r);return e.call(null,r,l)},cljs.core.js__GT_clj=function(){switch(arguments.length){case 1:return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(r,cljs.core.array_seq([new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252),!1],null)],0))},cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic=function(r,l){var e=cljs.core.seq_QMARK_(l)?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,l):l,c=cljs.core.get.cljs$core$IFn$_invoke$arity$2(e,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252)),t=cljs.core.truth_(c)?cljs.core.keyword:cljs.core.str;return function(r,e,c,t){return function r(e){return(e?cljs.core.truth_(cljs.core.truth_(null)?null:e.cljs$core$IEncodeClojure$)||(e.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure,e)):cljs.core.native_satisfies_QMARK_(cljs.core.IEncodeClojure,e))?cljs.core._js__GT_clj(e,cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.array_map,l)):cljs.core.seq_QMARK_(e)?cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,e)):cljs.core.coll_QMARK_(e)?cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.empty(e),cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,e)):cljs.core.array_QMARK_(e)?cljs.core.vec(cljs.core.map.cljs$core$IFn$_invoke$arity$2(r,e)):cljs.core.type(e)===Object?cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,function(){return function(l,c,t,n){return function l(c){return new cljs.core.LazySeq(null,function(t,n,s,o){return function(){for(;;){var t=cljs.core.seq(c);if(t){if(cljs.core.chunked_seq_QMARK_(t)){var n=cljs.core.chunk_first(t),s=cljs.core.count(n),a=cljs.core.chunk_buffer(s);return function(){for(var l=0;;){if(!(l<s))return!0;var c=cljs.core._nth.cljs$core$IFn$_invoke$arity$2(n,l);cljs.core.chunk_append(a,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[function(){var r=c;return o.cljs$core$IFn$_invoke$arity$1?o.cljs$core$IFn$_invoke$arity$1(r):o.call(null,r)}(),r(e[c])],null)),l+=1}}()?cljs.core.chunk_cons(cljs.core.chunk(a),l(cljs.core.chunk_rest(t))):cljs.core.chunk_cons(cljs.core.chunk(a),null)}var i=cljs.core.first(t);return cljs.core.cons(new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[function(){var r=i;return o.cljs$core$IFn$_invoke$arity$1?o.cljs$core$IFn$_invoke$arity$1(r):o.call(null,r)}(),r(e[i])],null),l(cljs.core.rest(t)))}return null}}}(0,0,0,n),null,null)}}(0,0,0,t)(cljs.core.js_keys(e))}()):e}}(0,0,0,t)(r)},cljs.core.js__GT_clj.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.js__GT_clj.cljs$lang$maxFixedArity=1,cljs.core.memoize=function(r){return function(l){return function(){var e=function(e){var c=cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l),e,cljs.core.lookup_sentinel);return c===cljs.core.lookup_sentinel&&(c=cljs.core.apply.cljs$core$IFn$_invoke$arity$2(r,e),cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(l,cljs.core.assoc,e,c)),c},c=function(r){var l=null;if(0<arguments.length){for(var l=0,c=Array(arguments.length-0);l<c.length;)c[l]=arguments[l+0],++l;l=new cljs.core.IndexedSeq(c,0)}return e.call(this,l)};return c.cljs$lang$maxFixedArity=0,c.cljs$lang$applyTo=function(r){return r=cljs.core.seq(r),e(r)},c.cljs$core$IFn$_invoke$arity$variadic=e,c}()}(function(){var r=cljs.core.PersistentArrayMap.EMPTY;return cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(r):cljs.core.atom.call(null,r)}())},cljs.core.trampoline=function(){switch(arguments.length){case 1:return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1=function(r){for(;;)if(r=r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null),!cljs.core.fn_QMARK_(r))return r},cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic=function(r,l){return cljs.core.trampoline.cljs$core$IFn$_invoke$arity$1(function(){return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(r,l)})},cljs.core.trampoline.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.trampoline.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.trampoline.cljs$lang$maxFixedArity=1,cljs.core.rand=function(){switch(arguments.length){case 0:return cljs.core.rand.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.rand.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.rand.cljs$core$IFn$_invoke$arity$1(1)},cljs.core.rand.cljs$core$IFn$_invoke$arity$1=function(r){return Math.random()*r},cljs.core.rand.cljs$lang$maxFixedArity=1,cljs.core.rand_int=function(r){return r*=Math.random(),Math.floor(r)},cljs.core.rand_nth=function(r){return cljs.core.nth.cljs$core$IFn$_invoke$arity$2(r,cljs.core.rand_int(cljs.core.count(r)))},cljs.core.group_by=function(r,l){return cljs.core.persistent_BANG_(cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(l,e){var c;return c=r.cljs$core$IFn$_invoke$arity$1?r.cljs$core$IFn$_invoke$arity$1(e):r.call(null,e),cljs.core.assoc_BANG_.cljs$core$IFn$_invoke$arity$3(l,c,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(l,c,cljs.core.PersistentVector.EMPTY),e))},cljs.core.transient$(cljs.core.PersistentArrayMap.EMPTY),l))},cljs.core.make_hierarchy=function(){return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",-2027538891),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"descendants","descendants",1824886031),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"ancestors","ancestors",-776045424),cljs.core.PersistentArrayMap.EMPTY],null)},cljs.core._global_hierarchy=null,cljs.core.get_global_hierarchy=function(){if(null==cljs.core._global_hierarchy){var r,l=cljs.core;r=cljs.core.make_hierarchy(),r=cljs.core.atom.cljs$core$IFn$_invoke$arity$1?cljs.core.atom.cljs$core$IFn$_invoke$arity$1(r):cljs.core.atom.call(null,r),l._global_hierarchy=r}return cljs.core._global_hierarchy},cljs.core.swap_global_hierarchy_BANG_=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l){return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(cljs.core.swap_BANG_,cljs.core.get_global_hierarchy(),r,l)},cljs.core.swap_global_hierarchy_BANG_.cljs$lang$maxFixedArity=1,cljs.core.swap_global_hierarchy_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first(r);return r=cljs.core.next(r),cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.isa_QMARK_=function(){switch(arguments.length){case 2:return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(function(){var r=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}(),r,l)},cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(l,e);if(c||(c=cljs.core.contains_QMARK_(new cljs.core.Keyword(null,"ancestors","ancestors",-776045424).cljs$core$IFn$_invoke$arity$1(r).call(null,l),e))||!(c=cljs.core.vector_QMARK_(e))||!(c=cljs.core.vector_QMARK_(l)))return c;if(!(c=cljs.core.count(e)===cljs.core.count(l)))return c;for(var t=!0,n=0;;){if(!t||n===cljs.core.count(e))return t;t=cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(r,function(){var r=n;return l.cljs$core$IFn$_invoke$arity$1?l.cljs$core$IFn$_invoke$arity$1(r):l.call(null,r)}(),function(){var r=n;return e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(r):e.call(null,r)}()),n=c=n+1}},cljs.core.isa_QMARK_.cljs$lang$maxFixedArity=3,cljs.core.parents=function(){switch(arguments.length){case 1:return cljs.core.parents.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.parents.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.parents.cljs$core$IFn$_invoke$arity$2(function(){var r=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}(),r)},
cljs.core.parents.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"parents","parents",-2027538891).cljs$core$IFn$_invoke$arity$1(r),l))},cljs.core.parents.cljs$lang$maxFixedArity=2,cljs.core.ancestors=function(){switch(arguments.length){case 1:return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.ancestors.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2(function(){var r=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}(),r)},cljs.core.ancestors.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"ancestors","ancestors",-776045424).cljs$core$IFn$_invoke$arity$1(r),l))},cljs.core.ancestors.cljs$lang$maxFixedArity=2,cljs.core.descendants=function(){switch(arguments.length){case 1:return cljs.core.descendants.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.descendants.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.descendants.cljs$core$IFn$_invoke$arity$2(function(){var r=cljs.core.get_global_hierarchy();return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}(),r)},cljs.core.descendants.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.not_empty(cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"descendants","descendants",1824886031).cljs$core$IFn$_invoke$arity$1(r),l))},cljs.core.descendants.cljs$lang$maxFixedArity=2,cljs.core.derive=function(){switch(arguments.length){case 2:return cljs.core.derive.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.derive.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.derive.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.derive,cljs.core.array_seq([r,l],0)),null},cljs.core.derive.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=new cljs.core.Keyword(null,"parents","parents",-2027538891).cljs$core$IFn$_invoke$arity$1(r),t=new cljs.core.Keyword(null,"descendants","descendants",1824886031).cljs$core$IFn$_invoke$arity$1(r),n=new cljs.core.Keyword(null,"ancestors","ancestors",-776045424).cljs$core$IFn$_invoke$arity$1(r),s=function(r,l,e){return function(r,l,e,c,t){return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r,l,e){return function(r,l){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,cljs.core.get.cljs$core$IFn$_invoke$arity$3(t,l,cljs.core.PersistentHashSet.EMPTY),cljs.core.cons(c,t.cljs$core$IFn$_invoke$arity$1?t.cljs$core$IFn$_invoke$arity$1(c):t.call(null,c))))}}(),r,cljs.core.cons(l,e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(l):e.call(null,l)))}}();if(cljs.core.contains_QMARK_(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l),e))l=null;else{if(cljs.core.contains_QMARK_(n.cljs$core$IFn$_invoke$arity$1?n.cljs$core$IFn$_invoke$arity$1(l):n.call(null,l),e))throw Error([cljs.core.str(l),cljs.core.str("already has"),cljs.core.str(e),cljs.core.str("as ancestor")].join(""));if(cljs.core.contains_QMARK_(n.cljs$core$IFn$_invoke$arity$1?n.cljs$core$IFn$_invoke$arity$1(e):n.call(null,e),l))throw Error([cljs.core.str("Cyclic derivation:"),cljs.core.str(e),cljs.core.str("has"),cljs.core.str(l),cljs.core.str("as ancestor")].join(""));l=new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"parents","parents",-2027538891),cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new cljs.core.Keyword(null,"parents","parents",-2027538891).cljs$core$IFn$_invoke$arity$1(r),l,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(c,l,cljs.core.PersistentHashSet.EMPTY),e)),new cljs.core.Keyword(null,"ancestors","ancestors",-776045424),s(new cljs.core.Keyword(null,"ancestors","ancestors",-776045424).cljs$core$IFn$_invoke$arity$1(r),l,t,e,n),new cljs.core.Keyword(null,"descendants","descendants",1824886031),s(new cljs.core.Keyword(null,"descendants","descendants",1824886031).cljs$core$IFn$_invoke$arity$1(r),e,n,l,t)],null)}return cljs.core.truth_(l)?l:r},cljs.core.derive.cljs$lang$maxFixedArity=3,cljs.core.underive=function(){switch(arguments.length){case 2:return cljs.core.underive.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.underive.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.underive.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.swap_global_hierarchy_BANG_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.underive,cljs.core.array_seq([r,l],0)),null},cljs.core.underive.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=new cljs.core.Keyword(null,"parents","parents",-2027538891).cljs$core$IFn$_invoke$arity$1(r),t=cljs.core.truth_(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l))?cljs.core.disj.cljs$core$IFn$_invoke$arity$2(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l),e):cljs.core.PersistentHashSet.EMPTY,n=cljs.core.truth_(cljs.core.not_empty(t))?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(c,l,t):cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(c,l),s=cljs.core.flatten(cljs.core.map.cljs$core$IFn$_invoke$arity$2(function(r,l,e){return function(r){return cljs.core.cons(cljs.core.first(r),cljs.core.interpose.cljs$core$IFn$_invoke$arity$2(cljs.core.first(r),cljs.core.second(r)))}}(),cljs.core.seq(n)));return cljs.core.contains_QMARK_(c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l),e)?cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r,l,e,c){return function(r,l){return cljs.core.apply.cljs$core$IFn$_invoke$arity$3(cljs.core.derive,r,l)}}(),cljs.core.make_hierarchy(),cljs.core.partition.cljs$core$IFn$_invoke$arity$2(2,s)):r},cljs.core.underive.cljs$lang$maxFixedArity=3,cljs.core.reset_cache=function(r,l,e,c){return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(r,function(r){return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(l):cljs.core.deref.call(null,l)}),cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(e,function(r){return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c)})},cljs.core.prefers_STAR_=function r(l,e,c){var t=(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c)).call(null,l),t=!!cljs.core.truth_(cljs.core.truth_(t)?t.cljs$core$IFn$_invoke$arity$1?t.cljs$core$IFn$_invoke$arity$1(e):t.call(null,e):t)||null;return cljs.core.truth_(t)?t:(t=function(){for(var t=cljs.core.parents.cljs$core$IFn$_invoke$arity$1(e);;){if(!(0<cljs.core.count(t)))return null;cljs.core.truth_(r(l,cljs.core.first(t),c)),t=cljs.core.rest(t)}}(),cljs.core.truth_(t)?t:(t=function(){for(var t=cljs.core.parents.cljs$core$IFn$_invoke$arity$1(l);;){if(!(0<cljs.core.count(t)))return null;cljs.core.truth_(r(cljs.core.first(t),e,c)),t=cljs.core.rest(t)}}(),!!cljs.core.truth_(t)&&t))},cljs.core.dominates=function(r,l,e){return e=cljs.core.prefers_STAR_(r,l,e),cljs.core.truth_(e)?e:cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$2(r,l)},cljs.core.find_and_cache_best_method=function r(l,e,c,t,n,s,o){var a=cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(function(r,t){var s=cljs.core.nth.cljs$core$IFn$_invoke$arity$3(t,0,null);if(cljs.core.nth.cljs$core$IFn$_invoke$arity$3(t,1,null),cljs.core.isa_QMARK_.cljs$core$IFn$_invoke$arity$3(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c),e,s)){var o=cljs.core.truth_(function(){var l=null==r;return l||cljs.core.dominates(s,cljs.core.first(r),n)}())?t:r;if(!cljs.core.truth_(cljs.core.dominates(cljs.core.first(o),s,n)))throw Error([cljs.core.str("Multiple methods in multimethod '"),cljs.core.str(l),cljs.core.str("' match dispatch value: "),cljs.core.str(e),cljs.core.str(" -> "),cljs.core.str(s),cljs.core.str(" and "),cljs.core.str(cljs.core.first(o)),cljs.core.str(", and neither is preferred")].join(""));return o}return r},null,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(t):cljs.core.deref.call(null,t));return cljs.core.truth_(a)?cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(o):cljs.core.deref.call(null,o),cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(c):cljs.core.deref.call(null,c))?(cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(s,cljs.core.assoc,e,cljs.core.second(a)),cljs.core.second(a)):(cljs.core.reset_cache(s,t,o,c),r(l,e,c,t,n,s,o)):null},cljs.core.IMultiFn=function(){return{}}(),cljs.core._reset=function(r){if(r?r.cljs$core$IMultiFn$_reset$arity$1:r)return r.cljs$core$IMultiFn$_reset$arity$1(r);var l;l=cljs.core._reset;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._reset._))throw cljs.core.missing_protocol("IMultiFn.-reset",r);return l.call(null,r)},cljs.core._add_method=function(r,l,e){if(r?r.cljs$core$IMultiFn$_add_method$arity$3:r)return r.cljs$core$IMultiFn$_add_method$arity$3(r,l,e);var c;c=cljs.core._add_method;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._add_method._))throw cljs.core.missing_protocol("IMultiFn.-add-method",r);return c.call(null,r,l,e)},cljs.core._remove_method=function(r,l){if(r?r.cljs$core$IMultiFn$_remove_method$arity$2:r)return r.cljs$core$IMultiFn$_remove_method$arity$2(r,l);var e;e=cljs.core._remove_method;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._remove_method._))throw cljs.core.missing_protocol("IMultiFn.-remove-method",r);return e.call(null,r,l)},cljs.core._prefer_method=function(r,l,e){if(r?r.cljs$core$IMultiFn$_prefer_method$arity$3:r)return r.cljs$core$IMultiFn$_prefer_method$arity$3(r,l,e);var c;c=cljs.core._prefer_method;var t;if(t=goog.typeOf(null==r?null:r),!(c=c[t])&&!(c=cljs.core._prefer_method._))throw cljs.core.missing_protocol("IMultiFn.-prefer-method",r);return c.call(null,r,l,e)},cljs.core._get_method=function(r,l){if(r?r.cljs$core$IMultiFn$_get_method$arity$2:r)return r.cljs$core$IMultiFn$_get_method$arity$2(r,l);var e;e=cljs.core._get_method;var c;if(c=goog.typeOf(null==r?null:r),!(e=e[c])&&!(e=cljs.core._get_method._))throw cljs.core.missing_protocol("IMultiFn.-get-method",r);return e.call(null,r,l)},cljs.core._methods=function(r){if(r?r.cljs$core$IMultiFn$_methods$arity$1:r)return r.cljs$core$IMultiFn$_methods$arity$1(r);var l;l=cljs.core._methods;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._methods._))throw cljs.core.missing_protocol("IMultiFn.-methods",r);return l.call(null,r)},cljs.core._prefers=function(r){if(r?r.cljs$core$IMultiFn$_prefers$arity$1:r)return r.cljs$core$IMultiFn$_prefers$arity$1(r);var l;l=cljs.core._prefers;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._prefers._))throw cljs.core.missing_protocol("IMultiFn.-prefers",r);return l.call(null,r)},cljs.core._default_dispatch_val=function(r){if(r?r.cljs$core$IMultiFn$_default_dispatch_val$arity$1:r)return r.cljs$core$IMultiFn$_default_dispatch_val$arity$1(r);var l;l=cljs.core._default_dispatch_val;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._default_dispatch_val._))throw cljs.core.missing_protocol("IMultiFn.-default-dispatch-val",r);return l.call(null,r)},cljs.core._dispatch_fn=function(r){if(r?r.cljs$core$IMultiFn$_dispatch_fn$arity$1:r)return r.cljs$core$IMultiFn$_dispatch_fn$arity$1(r);var l;l=cljs.core._dispatch_fn;var e;if(e=goog.typeOf(null==r?null:r),!(l=l[e])&&!(l=cljs.core._dispatch_fn._))throw cljs.core.missing_protocol("IMultiFn.-dispatch-fn",r);return l.call(null,r)},cljs.core.throw_no_method_error=function(r,l){throw Error([cljs.core.str("No method in multimethod '"),cljs.core.str(r),cljs.core.str("' for dispatch value: "),cljs.core.str(l)].join(""))},cljs.core.MultiFn=function(r,l,e,c,t,n,s,o){this.name=r,this.dispatch_fn=l,this.default_dispatch_val=e,this.hierarchy=c,this.method_table=t,this.prefer_table=n,this.method_cache=s,this.cached_hierarchy=o,this.cljs$lang$protocol_mask$partition0$=4194305,this.cljs$lang$protocol_mask$partition1$=4352},cljs.core.MultiFn.prototype.call=function(){var r=null,l=function(r){r=this;var l=r.dispatch_fn.cljs$core$IFn$_invoke$arity$0?r.dispatch_fn.cljs$core$IFn$_invoke$arity$0():r.dispatch_fn.call(null),e=this.cljs$core$IMultiFn$_get_method$arity$2(null,l);return cljs.core.truth_(e)||cljs.core.throw_no_method_error(r.name,l),e.cljs$core$IFn$_invoke$arity$0?e.cljs$core$IFn$_invoke$arity$0():e.call(null)},e=function(r,l){r=this;var e;e=r.dispatch_fn.cljs$core$IFn$_invoke$arity$1?r.dispatch_fn.cljs$core$IFn$_invoke$arity$1(l):r.dispatch_fn.call(null,l);var c=this.cljs$core$IMultiFn$_get_method$arity$2(null,e);return cljs.core.truth_(c)||cljs.core.throw_no_method_error(r.name,e),c.cljs$core$IFn$_invoke$arity$1?c.cljs$core$IFn$_invoke$arity$1(l):c.call(null,l)},c=function(r,l,e){r=this;var c;c=r.dispatch_fn.cljs$core$IFn$_invoke$arity$2?r.dispatch_fn.cljs$core$IFn$_invoke$arity$2(l,e):r.dispatch_fn.call(null,l,e);var t=this.cljs$core$IMultiFn$_get_method$arity$2(null,c);return cljs.core.truth_(t)||cljs.core.throw_no_method_error(r.name,c),t.cljs$core$IFn$_invoke$arity$2?t.cljs$core$IFn$_invoke$arity$2(l,e):t.call(null,l,e)},t=function(r,l,e,c){r=this;var t;t=r.dispatch_fn.cljs$core$IFn$_invoke$arity$3?r.dispatch_fn.cljs$core$IFn$_invoke$arity$3(l,e,c):r.dispatch_fn.call(null,l,e,c);var n=this.cljs$core$IMultiFn$_get_method$arity$2(null,t);return cljs.core.truth_(n)||cljs.core.throw_no_method_error(r.name,t),n.cljs$core$IFn$_invoke$arity$3?n.cljs$core$IFn$_invoke$arity$3(l,e,c):n.call(null,l,e,c)},n=function(r,l,e,c,t){r=this;var n;n=r.dispatch_fn.cljs$core$IFn$_invoke$arity$4?r.dispatch_fn.cljs$core$IFn$_invoke$arity$4(l,e,c,t):r.dispatch_fn.call(null,l,e,c,t);var s=this.cljs$core$IMultiFn$_get_method$arity$2(null,n);return cljs.core.truth_(s)||cljs.core.throw_no_method_error(r.name,n),s.cljs$core$IFn$_invoke$arity$4?s.cljs$core$IFn$_invoke$arity$4(l,e,c,t):s.call(null,l,e,c,t)},s=function(r,l,e,c,t,n){r=this;var s;s=r.dispatch_fn.cljs$core$IFn$_invoke$arity$5?r.dispatch_fn.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):r.dispatch_fn.call(null,l,e,c,t,n);var o=this.cljs$core$IMultiFn$_get_method$arity$2(null,s);return cljs.core.truth_(o)||cljs.core.throw_no_method_error(r.name,s),o.cljs$core$IFn$_invoke$arity$5?o.cljs$core$IFn$_invoke$arity$5(l,e,c,t,n):o.call(null,l,e,c,t,n)},o=function(r,l,e,c,t,n,s){r=this;var o;o=r.dispatch_fn.cljs$core$IFn$_invoke$arity$6?r.dispatch_fn.cljs$core$IFn$_invoke$arity$6(l,e,c,t,n,s):r.dispatch_fn.call(null,l,e,c,t,n,s);var a=this.cljs$core$IMultiFn$_get_method$arity$2(null,o);return cljs.core.truth_(a)||cljs.core.throw_no_method_error(r.name,o),a.cljs$core$IFn$_invoke$arity$6?a.cljs$core$IFn$_invoke$arity$6(l,e,c,t,n,s):a.call(null,l,e,c,t,n,s)},a=function(r,l,e,c,t,n,s,o){r=this;var a;a=r.dispatch_fn.cljs$core$IFn$_invoke$arity$7?r.dispatch_fn.cljs$core$IFn$_invoke$arity$7(l,e,c,t,n,s,o):r.dispatch_fn.call(null,l,e,c,t,n,s,o);var i=this.cljs$core$IMultiFn$_get_method$arity$2(null,a);return cljs.core.truth_(i)||cljs.core.throw_no_method_error(r.name,a),i.cljs$core$IFn$_invoke$arity$7?i.cljs$core$IFn$_invoke$arity$7(l,e,c,t,n,s,o):i.call(null,l,e,c,t,n,s,o)},i=function(r,l,e,c,t,n,s,o,a){r=this;var i;i=r.dispatch_fn.cljs$core$IFn$_invoke$arity$8?r.dispatch_fn.cljs$core$IFn$_invoke$arity$8(l,e,c,t,n,s,o,a):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a);var u=this.cljs$core$IMultiFn$_get_method$arity$2(null,i);return cljs.core.truth_(u)||cljs.core.throw_no_method_error(r.name,i),u.cljs$core$IFn$_invoke$arity$8?u.cljs$core$IFn$_invoke$arity$8(l,e,c,t,n,s,o,a):u.call(null,l,e,c,t,n,s,o,a)},u=function(r,l,e,c,t,n,s,o,a,i){r=this;var u;u=r.dispatch_fn.cljs$core$IFn$_invoke$arity$9?r.dispatch_fn.cljs$core$IFn$_invoke$arity$9(l,e,c,t,n,s,o,a,i):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i);var $=this.cljs$core$IMultiFn$_get_method$arity$2(null,u);return cljs.core.truth_($)||cljs.core.throw_no_method_error(r.name,u),$.cljs$core$IFn$_invoke$arity$9?$.cljs$core$IFn$_invoke$arity$9(l,e,c,t,n,s,o,a,i):$.call(null,l,e,c,t,n,s,o,a,i)},$=function(r,l,e,c,t,n,s,o,a,i,u){r=this;var $;$=r.dispatch_fn.cljs$core$IFn$_invoke$arity$10?r.dispatch_fn.cljs$core$IFn$_invoke$arity$10(l,e,c,t,n,s,o,a,i,u):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u);var j=this.cljs$core$IMultiFn$_get_method$arity$2(null,$);return cljs.core.truth_(j)||cljs.core.throw_no_method_error(r.name,$),j.cljs$core$IFn$_invoke$arity$10?j.cljs$core$IFn$_invoke$arity$10(l,e,c,t,n,s,o,a,i,u):j.call(null,l,e,c,t,n,s,o,a,i,u)},j=function(r,l,e,c,t,n,s,o,a,i,u,$){r=this;var j;j=r.dispatch_fn.cljs$core$IFn$_invoke$arity$11?r.dispatch_fn.cljs$core$IFn$_invoke$arity$11(l,e,c,t,n,s,o,a,i,u,$):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$);var _=this.cljs$core$IMultiFn$_get_method$arity$2(null,j);return cljs.core.truth_(_)||cljs.core.throw_no_method_error(r.name,j),_.cljs$core$IFn$_invoke$arity$11?_.cljs$core$IFn$_invoke$arity$11(l,e,c,t,n,s,o,a,i,u,$):_.call(null,l,e,c,t,n,s,o,a,i,u,$)},_=function(r,l,e,c,t,n,s,o,a,i,u,$,j){r=this;var _;_=r.dispatch_fn.cljs$core$IFn$_invoke$arity$12?r.dispatch_fn.cljs$core$IFn$_invoke$arity$12(l,e,c,t,n,s,o,a,i,u,$,j):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j);var p=this.cljs$core$IMultiFn$_get_method$arity$2(null,_);return cljs.core.truth_(p)||cljs.core.throw_no_method_error(r.name,_),p.cljs$core$IFn$_invoke$arity$12?p.cljs$core$IFn$_invoke$arity$12(l,e,c,t,n,s,o,a,i,u,$,j):p.call(null,l,e,c,t,n,s,o,a,i,u,$,j)},p=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){r=this;var p;p=r.dispatch_fn.cljs$core$IFn$_invoke$arity$13?r.dispatch_fn.cljs$core$IFn$_invoke$arity$13(l,e,c,t,n,s,o,a,i,u,$,j,_):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_);var d=this.cljs$core$IMultiFn$_get_method$arity$2(null,p);return cljs.core.truth_(d)||cljs.core.throw_no_method_error(r.name,p),d.cljs$core$IFn$_invoke$arity$13?d.cljs$core$IFn$_invoke$arity$13(l,e,c,t,n,s,o,a,i,u,$,j,_):d.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_)},d=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){r=this;var d;d=r.dispatch_fn.cljs$core$IFn$_invoke$arity$14?r.dispatch_fn.cljs$core$IFn$_invoke$arity$14(l,e,c,t,n,s,o,a,i,u,$,j,_,p):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p);var y=this.cljs$core$IMultiFn$_get_method$arity$2(null,d);return cljs.core.truth_(y)||cljs.core.throw_no_method_error(r.name,d),y.cljs$core$IFn$_invoke$arity$14?y.cljs$core$IFn$_invoke$arity$14(l,e,c,t,n,s,o,a,i,u,$,j,_,p):y.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},y=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){r=this;var y;y=r.dispatch_fn.cljs$core$IFn$_invoke$arity$15?r.dispatch_fn.cljs$core$IFn$_invoke$arity$15(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d);var f=this.cljs$core$IMultiFn$_get_method$arity$2(null,y);return cljs.core.truth_(f)||cljs.core.throw_no_method_error(r.name,y),f.cljs$core$IFn$_invoke$arity$15?f.cljs$core$IFn$_invoke$arity$15(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):f.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},f=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){r=this;var f;f=r.dispatch_fn.cljs$core$IFn$_invoke$arity$16?r.dispatch_fn.cljs$core$IFn$_invoke$arity$16(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y);var h=this.cljs$core$IMultiFn$_get_method$arity$2(null,f);return cljs.core.truth_(h)||cljs.core.throw_no_method_error(r.name,f),h.cljs$core$IFn$_invoke$arity$16?h.cljs$core$IFn$_invoke$arity$16(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):h.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},h=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){r=this;var h;h=r.dispatch_fn.cljs$core$IFn$_invoke$arity$17?r.dispatch_fn.cljs$core$IFn$_invoke$arity$17(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f);var v=this.cljs$core$IMultiFn$_get_method$arity$2(null,h);return cljs.core.truth_(v)||cljs.core.throw_no_method_error(r.name,h),v.cljs$core$IFn$_invoke$arity$17?v.cljs$core$IFn$_invoke$arity$17(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):v.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)},v=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){r=this;var v;v=r.dispatch_fn.cljs$core$IFn$_invoke$arity$18?r.dispatch_fn.cljs$core$IFn$_invoke$arity$18(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h);var w=this.cljs$core$IMultiFn$_get_method$arity$2(null,v);return cljs.core.truth_(w)||cljs.core.throw_no_method_error(r.name,v),w.cljs$core$IFn$_invoke$arity$18?w.cljs$core$IFn$_invoke$arity$18(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):w.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},w=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){r=this;var w;w=r.dispatch_fn.cljs$core$IFn$_invoke$arity$19?r.dispatch_fn.cljs$core$IFn$_invoke$arity$19(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v);var m=this.cljs$core$IMultiFn$_get_method$arity$2(null,w);return cljs.core.truth_(m)||cljs.core.throw_no_method_error(r.name,w),m.cljs$core$IFn$_invoke$arity$19?m.cljs$core$IFn$_invoke$arity$19(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):m.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},m=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){r=this;var m;m=r.dispatch_fn.cljs$core$IFn$_invoke$arity$20?r.dispatch_fn.cljs$core$IFn$_invoke$arity$20(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):r.dispatch_fn.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w);var g=this.cljs$core$IMultiFn$_get_method$arity$2(null,m);return cljs.core.truth_(g)||cljs.core.throw_no_method_error(r.name,m),g.cljs$core$IFn$_invoke$arity$20?g.cljs$core$IFn$_invoke$arity$20(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w):g.call(null,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w)},g=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m){r=this;var g=cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(r.dispatch_fn,l,e,c,t,cljs.core.array_seq([n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m],0)),I=this.cljs$core$IMultiFn$_get_method$arity$2(null,g);return cljs.core.truth_(I)||cljs.core.throw_no_method_error(r.name,g),cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(I,l,e,c,t,cljs.core.array_seq([n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m],0))},r=function(r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,I);case 3:return c.call(this,r,I,k);case 4:return t.call(this,r,I,k,A);case 5:return n.call(this,r,I,k,A,b);case 6:return s.call(this,r,I,k,A,b,F);case 7:return o.call(this,r,I,k,A,b,F,P);case 8:return a.call(this,r,I,k,A,b,F,P,S);case 9:return i.call(this,r,I,k,A,b,F,P,S,T);case 10:return u.call(this,r,I,k,A,b,F,P,S,T,R);case 11:return $.call(this,r,I,k,A,b,F,P,S,T,R,E);case 12:return j.call(this,r,I,k,A,b,F,P,S,T,R,E,M);case 13:return _.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x);case 14:return p.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K);case 15:return d.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q);case 16:return y.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N);case 17:return f.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V);case 18:return h.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B);case 19:return v.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O);case 20:return w.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q);case 21:return m.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D);case 22:return g.call(this,r,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r.cljs$core$IFn$_invoke$arity$3=c,r.cljs$core$IFn$_invoke$arity$4=t,r.cljs$core$IFn$_invoke$arity$5=n,r.cljs$core$IFn$_invoke$arity$6=s,r.cljs$core$IFn$_invoke$arity$7=o,r.cljs$core$IFn$_invoke$arity$8=a,r.cljs$core$IFn$_invoke$arity$9=i,r.cljs$core$IFn$_invoke$arity$10=u,r.cljs$core$IFn$_invoke$arity$11=$,r.cljs$core$IFn$_invoke$arity$12=j,r.cljs$core$IFn$_invoke$arity$13=_,r.cljs$core$IFn$_invoke$arity$14=p,r.cljs$core$IFn$_invoke$arity$15=d,r.cljs$core$IFn$_invoke$arity$16=y,r.cljs$core$IFn$_invoke$arity$17=f,r.cljs$core$IFn$_invoke$arity$18=h,r.cljs$core$IFn$_invoke$arity$19=v,r.cljs$core$IFn$_invoke$arity$20=w,r.cljs$core$IFn$_invoke$arity$21=m,r.cljs$core$IFn$_invoke$arity$22=g,r}(),cljs.core.MultiFn.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone(l)))},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$0=function(){var r=this.dispatch_fn.cljs$core$IFn$_invoke$arity$0?this.dispatch_fn.cljs$core$IFn$_invoke$arity$0():this.dispatch_fn.call(null),l=this.cljs$core$IMultiFn$_get_method$arity$2(null,r);return cljs.core.truth_(l)||cljs.core.throw_no_method_error(this.name,r),l.cljs$core$IFn$_invoke$arity$0?l.cljs$core$IFn$_invoke$arity$0():l.call(null)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$1=function(r){var l;l=this.dispatch_fn.cljs$core$IFn$_invoke$arity$1?this.dispatch_fn.cljs$core$IFn$_invoke$arity$1(r):this.dispatch_fn.call(null,r);var e=this.cljs$core$IMultiFn$_get_method$arity$2(null,l);return cljs.core.truth_(e)||cljs.core.throw_no_method_error(this.name,l),e.cljs$core$IFn$_invoke$arity$1?e.cljs$core$IFn$_invoke$arity$1(r):e.call(null,r)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){var e;e=this.dispatch_fn.cljs$core$IFn$_invoke$arity$2?this.dispatch_fn.cljs$core$IFn$_invoke$arity$2(r,l):this.dispatch_fn.call(null,r,l);var c=this.cljs$core$IMultiFn$_get_method$arity$2(null,e);return cljs.core.truth_(c)||cljs.core.throw_no_method_error(this.name,e),c.cljs$core$IFn$_invoke$arity$2?c.cljs$core$IFn$_invoke$arity$2(r,l):c.call(null,r,l)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c;c=this.dispatch_fn.cljs$core$IFn$_invoke$arity$3?this.dispatch_fn.cljs$core$IFn$_invoke$arity$3(r,l,e):this.dispatch_fn.call(null,r,l,e);var t=this.cljs$core$IMultiFn$_get_method$arity$2(null,c);return cljs.core.truth_(t)||cljs.core.throw_no_method_error(this.name,c),t.cljs$core$IFn$_invoke$arity$3?t.cljs$core$IFn$_invoke$arity$3(r,l,e):t.call(null,r,l,e)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){var t;t=this.dispatch_fn.cljs$core$IFn$_invoke$arity$4?this.dispatch_fn.cljs$core$IFn$_invoke$arity$4(r,l,e,c):this.dispatch_fn.call(null,r,l,e,c);var n=this.cljs$core$IMultiFn$_get_method$arity$2(null,t);return cljs.core.truth_(n)||cljs.core.throw_no_method_error(this.name,t),n.cljs$core$IFn$_invoke$arity$4?n.cljs$core$IFn$_invoke$arity$4(r,l,e,c):n.call(null,r,l,e,c)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){var n;n=this.dispatch_fn.cljs$core$IFn$_invoke$arity$5?this.dispatch_fn.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t):this.dispatch_fn.call(null,r,l,e,c,t);var s=this.cljs$core$IMultiFn$_get_method$arity$2(null,n);return cljs.core.truth_(s)||cljs.core.throw_no_method_error(this.name,n),s.cljs$core$IFn$_invoke$arity$5?s.cljs$core$IFn$_invoke$arity$5(r,l,e,c,t):s.call(null,r,l,e,c,t)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){var s;s=this.dispatch_fn.cljs$core$IFn$_invoke$arity$6?this.dispatch_fn.cljs$core$IFn$_invoke$arity$6(r,l,e,c,t,n):this.dispatch_fn.call(null,r,l,e,c,t,n);var o=this.cljs$core$IMultiFn$_get_method$arity$2(null,s);return cljs.core.truth_(o)||cljs.core.throw_no_method_error(this.name,s),o.cljs$core$IFn$_invoke$arity$6?o.cljs$core$IFn$_invoke$arity$6(r,l,e,c,t,n):o.call(null,r,l,e,c,t,n)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$7=function(r,l,e,c,t,n,s){var o;o=this.dispatch_fn.cljs$core$IFn$_invoke$arity$7?this.dispatch_fn.cljs$core$IFn$_invoke$arity$7(r,l,e,c,t,n,s):this.dispatch_fn.call(null,r,l,e,c,t,n,s);var a=this.cljs$core$IMultiFn$_get_method$arity$2(null,o);return cljs.core.truth_(a)||cljs.core.throw_no_method_error(this.name,o),a.cljs$core$IFn$_invoke$arity$7?a.cljs$core$IFn$_invoke$arity$7(r,l,e,c,t,n,s):a.call(null,r,l,e,c,t,n,s)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$8=function(r,l,e,c,t,n,s,o){var a;a=this.dispatch_fn.cljs$core$IFn$_invoke$arity$8?this.dispatch_fn.cljs$core$IFn$_invoke$arity$8(r,l,e,c,t,n,s,o):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o);var i=this.cljs$core$IMultiFn$_get_method$arity$2(null,a);return cljs.core.truth_(i)||cljs.core.throw_no_method_error(this.name,a),i.cljs$core$IFn$_invoke$arity$8?i.cljs$core$IFn$_invoke$arity$8(r,l,e,c,t,n,s,o):i.call(null,r,l,e,c,t,n,s,o)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$9=function(r,l,e,c,t,n,s,o,a){var i;i=this.dispatch_fn.cljs$core$IFn$_invoke$arity$9?this.dispatch_fn.cljs$core$IFn$_invoke$arity$9(r,l,e,c,t,n,s,o,a):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a);var u=this.cljs$core$IMultiFn$_get_method$arity$2(null,i);return cljs.core.truth_(u)||cljs.core.throw_no_method_error(this.name,i),u.cljs$core$IFn$_invoke$arity$9?u.cljs$core$IFn$_invoke$arity$9(r,l,e,c,t,n,s,o,a):u.call(null,r,l,e,c,t,n,s,o,a)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$10=function(r,l,e,c,t,n,s,o,a,i){var u;u=this.dispatch_fn.cljs$core$IFn$_invoke$arity$10?this.dispatch_fn.cljs$core$IFn$_invoke$arity$10(r,l,e,c,t,n,s,o,a,i):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i);var $=this.cljs$core$IMultiFn$_get_method$arity$2(null,u);return cljs.core.truth_($)||cljs.core.throw_no_method_error(this.name,u),$.cljs$core$IFn$_invoke$arity$10?$.cljs$core$IFn$_invoke$arity$10(r,l,e,c,t,n,s,o,a,i):$.call(null,r,l,e,c,t,n,s,o,a,i)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$11=function(r,l,e,c,t,n,s,o,a,i,u){var $;$=this.dispatch_fn.cljs$core$IFn$_invoke$arity$11?this.dispatch_fn.cljs$core$IFn$_invoke$arity$11(r,l,e,c,t,n,s,o,a,i,u):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u);var j=this.cljs$core$IMultiFn$_get_method$arity$2(null,$);return cljs.core.truth_(j)||cljs.core.throw_no_method_error(this.name,$),j.cljs$core$IFn$_invoke$arity$11?j.cljs$core$IFn$_invoke$arity$11(r,l,e,c,t,n,s,o,a,i,u):j.call(null,r,l,e,c,t,n,s,o,a,i,u)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$12=function(r,l,e,c,t,n,s,o,a,i,u,$){var j;j=this.dispatch_fn.cljs$core$IFn$_invoke$arity$12?this.dispatch_fn.cljs$core$IFn$_invoke$arity$12(r,l,e,c,t,n,s,o,a,i,u,$):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$);var _=this.cljs$core$IMultiFn$_get_method$arity$2(null,j);return cljs.core.truth_(_)||cljs.core.throw_no_method_error(this.name,j),_.cljs$core$IFn$_invoke$arity$12?_.cljs$core$IFn$_invoke$arity$12(r,l,e,c,t,n,s,o,a,i,u,$):_.call(null,r,l,e,c,t,n,s,o,a,i,u,$)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$13=function(r,l,e,c,t,n,s,o,a,i,u,$,j){var _;_=this.dispatch_fn.cljs$core$IFn$_invoke$arity$13?this.dispatch_fn.cljs$core$IFn$_invoke$arity$13(r,l,e,c,t,n,s,o,a,i,u,$,j):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j);var p=this.cljs$core$IMultiFn$_get_method$arity$2(null,_);return cljs.core.truth_(p)||cljs.core.throw_no_method_error(this.name,_),p.cljs$core$IFn$_invoke$arity$13?p.cljs$core$IFn$_invoke$arity$13(r,l,e,c,t,n,s,o,a,i,u,$,j):p.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j)},
cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$14=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){var p;p=this.dispatch_fn.cljs$core$IFn$_invoke$arity$14?this.dispatch_fn.cljs$core$IFn$_invoke$arity$14(r,l,e,c,t,n,s,o,a,i,u,$,j,_):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_);var d=this.cljs$core$IMultiFn$_get_method$arity$2(null,p);return cljs.core.truth_(d)||cljs.core.throw_no_method_error(this.name,p),d.cljs$core$IFn$_invoke$arity$14?d.cljs$core$IFn$_invoke$arity$14(r,l,e,c,t,n,s,o,a,i,u,$,j,_):d.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$15=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){var d;d=this.dispatch_fn.cljs$core$IFn$_invoke$arity$15?this.dispatch_fn.cljs$core$IFn$_invoke$arity$15(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p);var y=this.cljs$core$IMultiFn$_get_method$arity$2(null,d);return cljs.core.truth_(y)||cljs.core.throw_no_method_error(this.name,d),y.cljs$core$IFn$_invoke$arity$15?y.cljs$core$IFn$_invoke$arity$15(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p):y.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$16=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d){var y;y=this.dispatch_fn.cljs$core$IFn$_invoke$arity$16?this.dispatch_fn.cljs$core$IFn$_invoke$arity$16(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d);var f=this.cljs$core$IMultiFn$_get_method$arity$2(null,y);return cljs.core.truth_(f)||cljs.core.throw_no_method_error(this.name,y),f.cljs$core$IFn$_invoke$arity$16?f.cljs$core$IFn$_invoke$arity$16(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d):f.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$17=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){var f;f=this.dispatch_fn.cljs$core$IFn$_invoke$arity$17?this.dispatch_fn.cljs$core$IFn$_invoke$arity$17(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y);var h=this.cljs$core$IMultiFn$_get_method$arity$2(null,f);return cljs.core.truth_(h)||cljs.core.throw_no_method_error(this.name,f),h.cljs$core$IFn$_invoke$arity$17?h.cljs$core$IFn$_invoke$arity$17(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y):h.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$18=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){var h;h=this.dispatch_fn.cljs$core$IFn$_invoke$arity$18?this.dispatch_fn.cljs$core$IFn$_invoke$arity$18(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f);var v=this.cljs$core$IMultiFn$_get_method$arity$2(null,h);return cljs.core.truth_(v)||cljs.core.throw_no_method_error(this.name,h),v.cljs$core$IFn$_invoke$arity$18?v.cljs$core$IFn$_invoke$arity$18(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f):v.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f)};cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$19=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){var v;v=this.dispatch_fn.cljs$core$IFn$_invoke$arity$19?this.dispatch_fn.cljs$core$IFn$_invoke$arity$19(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h);var w=this.cljs$core$IMultiFn$_get_method$arity$2(null,v);return cljs.core.truth_(w)||cljs.core.throw_no_method_error(this.name,v),w.cljs$core$IFn$_invoke$arity$19?w.cljs$core$IFn$_invoke$arity$19(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h):w.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$20=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v){var w;w=this.dispatch_fn.cljs$core$IFn$_invoke$arity$20?this.dispatch_fn.cljs$core$IFn$_invoke$arity$20(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):this.dispatch_fn.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v);var m=this.cljs$core$IMultiFn$_get_method$arity$2(null,w);return cljs.core.truth_(m)||cljs.core.throw_no_method_error(this.name,w),m.cljs$core$IFn$_invoke$arity$20?m.cljs$core$IFn$_invoke$arity$20(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v):m.call(null,r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v)},cljs.core.MultiFn.prototype.cljs$core$IFn$_invoke$arity$21=function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){var m=cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(this.dispatch_fn,r,l,e,c,cljs.core.array_seq([t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w],0)),g=this.cljs$core$IMultiFn$_get_method$arity$2(null,m);return cljs.core.truth_(g)||cljs.core.throw_no_method_error(this.name,m),cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(g,r,l,e,c,cljs.core.array_seq([t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w],0))},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefer_method$arity$3=function(r,l,e){if(cljs.core.truth_(cljs.core.prefers_STAR_(l,e,this.prefer_table)))throw Error([cljs.core.str("Preference conflict in multimethod '"),cljs.core.str(this.name),cljs.core.str("': "),cljs.core.str(e),cljs.core.str(" is already preferred to "),cljs.core.str(l)].join(""));return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(this.prefer_table,function(r){return function(r){return cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$3(r,l,cljs.core.PersistentHashSet.EMPTY),e))}}()),cljs.core.reset_cache(this.method_cache,this.method_table,this.cached_hierarchy,this.hierarchy)},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_default_dispatch_val$arity$1=function(r){return this.default_dispatch_val},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_remove_method$arity$2=function(r,l){return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(this.method_table,cljs.core.dissoc,l),cljs.core.reset_cache(this.method_cache,this.method_table,this.cached_hierarchy,this.hierarchy),this},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_methods$arity$1=function(r){return r=this.method_table,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_prefers$arity$1=function(r){return r=this.prefer_table,cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_dispatch_fn$arity$1=function(r){return this.dispatch_fn},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_add_method$arity$3=function(r,l,e){return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(this.method_table,cljs.core.assoc,l,e),cljs.core.reset_cache(this.method_cache,this.method_table,this.cached_hierarchy,this.hierarchy),this},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_reset$arity$1=function(r){return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(this.method_table,function(r){return function(r){return cljs.core.PersistentArrayMap.EMPTY}}()),cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(this.method_cache,function(r){return function(r){return cljs.core.PersistentArrayMap.EMPTY}}()),cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(this.prefer_table,function(r){return function(r){return cljs.core.PersistentArrayMap.EMPTY}}()),cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(this.cached_hierarchy,function(r){return function(r){return null}}()),this},cljs.core.MultiFn.prototype.cljs$core$IMultiFn$_get_method$arity$2=function(r,l){var e=this;cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(function(){var r=e.cached_hierarchy;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}(),function(){var r=e.hierarchy;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}())||cljs.core.reset_cache(e.method_cache,e.method_table,e.cached_hierarchy,e.hierarchy);var c=function(){var r=e.method_cache;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}().call(null,l);return cljs.core.truth_(c)?c:(c=cljs.core.find_and_cache_best_method(e.name,l,e.hierarchy,e.method_table,e.prefer_table,e.method_cache,e.cached_hierarchy),cljs.core.truth_(c)?c:function(){var r=e.method_table;return cljs.core.deref.cljs$core$IFn$_invoke$arity$1?cljs.core.deref.cljs$core$IFn$_invoke$arity$1(r):cljs.core.deref.call(null,r)}().call(null,e.default_dispatch_val))},cljs.core.MultiFn.prototype.cljs$core$INamed$_name$arity$1=function(r){return cljs.core._name(this.name)},cljs.core.MultiFn.prototype.cljs$core$INamed$_namespace$arity$1=function(r){return cljs.core._namespace(this.name)},cljs.core.MultiFn.prototype.cljs$core$IHash$_hash$arity$1=function(r){return goog.getUid(this)},cljs.core.MultiFn.getBasis=function(){return new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"dispatch-fn","dispatch-fn",-1401088155,null),new cljs.core.Symbol(null,"default-dispatch-val","default-dispatch-val",-1231201266,null),new cljs.core.Symbol(null,"hierarchy","hierarchy",587061186,null),new cljs.core.Symbol(null,"method-table","method-table",-1878263165,null),new cljs.core.Symbol(null,"prefer-table","prefer-table",462168584,null),new cljs.core.Symbol(null,"method-cache","method-cache",1230193905,null),new cljs.core.Symbol(null,"cached-hierarchy","cached-hierarchy",-1085460203,null)],null)},cljs.core.MultiFn.cljs$lang$type=!0,cljs.core.MultiFn.cljs$lang$ctorStr="cljs.core/MultiFn",cljs.core.MultiFn.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/MultiFn")},cljs.core.__GT_MultiFn=function(r,l,e,c,t,n,s,o){return new cljs.core.MultiFn(r,l,e,c,t,n,s,o)},cljs.core.remove_all_methods=function(r){return cljs.core._reset(r)},cljs.core.remove_method=function(r,l){return cljs.core._remove_method(r,l)},cljs.core.prefer_method=function(r,l,e){return cljs.core._prefer_method(r,l,e)},cljs.core.methods$=function(r){return cljs.core._methods(r)},cljs.core.get_method=function(r,l){return cljs.core._get_method(r,l)},cljs.core.prefers=function(r){return cljs.core._prefers(r)},cljs.core.default_dispatch_val=function(r){return cljs.core._default_dispatch_val(r)},cljs.core.dispatch_fn=function(r){return cljs.core._dispatch_fn(r)},cljs.core.UUID=function(r,l){this.uuid=r,this.__hash=l,this.cljs$lang$protocol_mask$partition0$=2153775104,this.cljs$lang$protocol_mask$partition1$=2048},cljs.core.UUID.prototype.toString=function(){return this.uuid},cljs.core.UUID.prototype.equiv=function(r){return this.cljs$core$IEquiv$_equiv$arity$2(null,r)},cljs.core.UUID.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return l instanceof cljs.core.UUID&&this.uuid===l.uuid},cljs.core.UUID.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,[cljs.core.str('#uuid "'),cljs.core.str(this.uuid),cljs.core.str('"')].join(""))},cljs.core.UUID.prototype.cljs$core$IHash$_hash$arity$1=function(r){return null==this.__hash&&(this.__hash=goog.string.hashCode(this.uuid)),this.__hash},cljs.core.UUID.prototype.cljs$core$IComparable$_compare$arity$2=function(r,l){return goog.array.defaultCompare(this.uuid,l.uuid)},cljs.core.UUID.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"uuid","uuid",-504564192,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},cljs.core.UUID.cljs$lang$type=!0,cljs.core.UUID.cljs$lang$ctorStr="cljs.core/UUID",cljs.core.UUID.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/UUID")},cljs.core.__GT_UUID=function(r,l){return new cljs.core.UUID(r,l)},cljs.core.uuid=function(r){return new cljs.core.UUID(r,null)},cljs.core.random_uuid=function(){var r=function(){return cljs.core.rand_int(15).toString(16)},l=(8|3&cljs.core.rand_int(14)).toString(16);return cljs.core.uuid([cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str("-"),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str("-"),cljs.core.str("4"),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str("-"),cljs.core.str(l),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str("-"),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r()),cljs.core.str(r())].join(""))},cljs.core.pr_writer_ex_info=function(r,l,e){return cljs.core._write(l,"#ExceptionInfo{:message "),cljs.core.pr_writer(r.message,l,e),cljs.core.truth_(r.data)&&(cljs.core._write(l,", :data "),cljs.core.pr_writer(r.data,l,e)),cljs.core.truth_(r.cause)&&(cljs.core._write(l,", :cause "),cljs.core.pr_writer(r.cause,l,e)),cljs.core._write(l,"}")},cljs.core.ExceptionInfo=function(r,l,e){var c=Error();return this.message=r,this.data=l,this.cause=e,this.name=c.name,this.description=c.description,this.number=c.number,this.fileName=c.fileName,this.lineNumber=c.lineNumber,this.columnNumber=c.columnNumber,this.stack=c.stack,this},cljs.core.ExceptionInfo.prototype.__proto__=Error.prototype,cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$=!0,cljs.core.ExceptionInfo.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_writer_ex_info(this,l,e)},cljs.core.ExceptionInfo.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.ex_info=function(){switch(arguments.length){case 2:return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3(r,l,null)},cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.ExceptionInfo(r,l,e)},cljs.core.ex_info.cljs$lang$maxFixedArity=3,cljs.core.ex_data=function(r){return r instanceof cljs.core.ExceptionInfo?r.data:null},cljs.core.ex_message=function(r){return r instanceof Error?r.message:null},cljs.core.ex_cause=function(r){return r instanceof cljs.core.ExceptionInfo?r.cause:null},cljs.core.comparator=function(r){return function(l,e){return cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(l,e):r.call(null,l,e))?-1:cljs.core.truth_(r.cljs$core$IFn$_invoke$arity$2?r.cljs$core$IFn$_invoke$arity$2(e,l):r.call(null,e,l))?1:0}},cljs.core.special_symbol_QMARK_=function(r){return cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,19,[new cljs.core.Symbol(null,"&","&",-2144855648,null),null,new cljs.core.Symbol(null,"defrecord*","defrecord*",-1936366207,null),null,new cljs.core.Symbol(null,"try","try",-1273693247,null),null,new cljs.core.Symbol(null,"loop*","loop*",615029416,null),null,new cljs.core.Symbol(null,"do","do",1686842252,null),null,new cljs.core.Symbol(null,"letfn*","letfn*",-110097810,null),null,new cljs.core.Symbol(null,"if","if",1181717262,null),null,new cljs.core.Symbol(null,"new","new",-444906321,null),null,new cljs.core.Symbol(null,"ns","ns",2082130287,null),null,new cljs.core.Symbol(null,"deftype*","deftype*",962659890,null),null,new cljs.core.Symbol(null,"let*","let*",1920721458,null),null,new cljs.core.Symbol(null,"js*","js*",-1134233646,null),null,new cljs.core.Symbol(null,"fn*","fn*",-752876845,null),null,new cljs.core.Symbol(null,"recur","recur",1202958259,null),null,new cljs.core.Symbol(null,"set!","set!",250714521,null),null,new cljs.core.Symbol(null,".",".",1975675962,null),null,new cljs.core.Symbol(null,"quote","quote",1377916282,null),null,new cljs.core.Symbol(null,"throw","throw",595905694,null),null,new cljs.core.Symbol(null,"def","def",597100991,null),null],null),null),r)},cljs.core.test=function(r){return r=r.cljs$lang$test,cljs.core.truth_(r)?(r.cljs$core$IFn$_invoke$arity$0?r.cljs$core$IFn$_invoke$arity$0():r.call(null),new cljs.core.Keyword(null,"ok","ok",967785236)):new cljs.core.Keyword(null,"no-test","no-test",-1679482642)},cljs.core.TaggedLiteral=function(r,l){this.tag=r,this.form=l,this.cljs$lang$protocol_mask$partition0$=2153775360,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.TaggedLiteral.prototype.toString=function(){return cljs.core.pr_str_STAR_(this)},cljs.core.TaggedLiteral.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return l instanceof cljs.core.TaggedLiteral&&cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this.tag,l.tag)&&cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this.form,l.form)},cljs.core.TaggedLiteral.prototype.cljs$core$IHash$_hash$arity$1=function(r){return 31*cljs.core.hash(this.tag)+cljs.core.hash(this.form)},cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.cljs$core$IFn$_invoke$arity$3(this,l,null)},cljs.core.TaggedLiteral.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"tag":return this.tag;case"form":return this.form;default:return e}},cljs.core.TaggedLiteral.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write(l,[cljs.core.str("#"),cljs.core.str(this.tag),cljs.core.str(" ")].join("")),cljs.core.pr_writer(this.form,l,e)},cljs.core.TaggedLiteral.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"tag","tag",350170304,null),new cljs.core.Symbol(null,"form","form",16469056,null)],null)},cljs.core.TaggedLiteral.cljs$lang$type=!0,cljs.core.TaggedLiteral.cljs$lang$ctorStr="cljs.core/TaggedLiteral",cljs.core.TaggedLiteral.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write(l,"cljs.core/TaggedLiteral")},cljs.core.__GT_TaggedLiteral=function(r,l){return new cljs.core.TaggedLiteral(r,l)},cljs.core.tagged_literal_QMARK_=function(r){return r instanceof cljs.core.TaggedLiteral},cljs.core.tagged_literal=function(r,l){return new cljs.core.TaggedLiteral(r,l)};var clojure={string:{}};clojure.string.seq_reverse=function(r){return cljs.core.reduce.call(null,cljs.core.conj,cljs.core.List.EMPTY,r)},clojure.string.re_surrogate_pair=RegExp("([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])","g"),clojure.string.reverse=function(r){return r.replace(clojure.string.re_surrogate_pair,"$2$1").split("").reverse().join("")},clojure.string.replace=function(r,l,e){if("string"==typeof l)return r.replace(new RegExp(goog.string.regExpEscape(l),"g"),e);if(l instanceof RegExp)return r.replace(new RegExp(l.source,"g"),e);throw[cljs.core.str("Invalid match arg: "),cljs.core.str(l)].join("")},clojure.string.replace_first=function(r,l,e){return r.replace(l,e)},clojure.string.join=function(){switch(arguments.length){case 1:return clojure.string.join.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return clojure.string.join.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},clojure.string.join.cljs$core$IFn$_invoke$arity$1=function(r){var l=new goog.string.StringBuffer;for(r=cljs.core.seq.call(null,r);;){if(!r)return l.toString();l=l.append(""+cljs.core.str(cljs.core.first.call(null,r))),r=cljs.core.next.call(null,r)}},clojure.string.join.cljs$core$IFn$_invoke$arity$2=function(r,l){for(var e=new goog.string.StringBuffer,c=cljs.core.seq.call(null,l);;){if(!c)return e.toString();e.append(""+cljs.core.str(cljs.core.first.call(null,c))),null!=(c=cljs.core.next.call(null,c))&&e.append(r)}},clojure.string.join.cljs$lang$maxFixedArity=2,clojure.string.upper_case=function(r){return r.toUpperCase()},clojure.string.lower_case=function(r){return r.toLowerCase()},clojure.string.capitalize=function(r){return 2>cljs.core.count.call(null,r)?clojure.string.upper_case.call(null,r):[cljs.core.str(clojure.string.upper_case.call(null,cljs.core.subs.call(null,r,0,1))),cljs.core.str(clojure.string.lower_case.call(null,cljs.core.subs.call(null,r,1)))].join("")},clojure.string.pop_last_while_empty=function(r){for(;;){if(!cljs.core._EQ_.call(null,"",cljs.core.peek.call(null,r)))return r;r=cljs.core.pop.call(null,r)}},clojure.string.discard_trailing_if_needed=function(r,l){return cljs.core._EQ_.call(null,0,r)?clojure.string.pop_last_while_empty.call(null,l):l},clojure.string.split_with_empty_regex=function(r,l){if(0>=l||l>=2+cljs.core.count.call(null,r))return cljs.core.conj.call(null,cljs.core.vec.call(null,cljs.core.cons.call(null,"",cljs.core.map.call(null,cljs.core.str,cljs.core.seq.call(null,r)))),"");var e=cljs.core._EQ_;return cljs.core.truth_(e.call(null,1,l))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r],null):cljs.core.truth_(e.call(null,2,l))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["",r],null):(e=l-2,cljs.core.conj.call(null,cljs.core.vec.call(null,cljs.core.cons.call(null,"",cljs.core.subvec.call(null,cljs.core.vec.call(null,cljs.core.map.call(null,cljs.core.str,cljs.core.seq.call(null,r))),0,e))),cljs.core.subs.call(null,r,e)))},clojure.string.split=function(){switch(arguments.length){case 2:return clojure.string.split.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return clojure.string.split.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},clojure.string.split.cljs$core$IFn$_invoke$arity$2=function(r,l){return clojure.string.split.call(null,r,l,0)},clojure.string.split.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return clojure.string.discard_trailing_if_needed.call(null,e,cljs.core._EQ_.call(null,""+cljs.core.str(l),"/(?:)/")?clojure.string.split_with_empty_regex.call(null,r,e):1>e?cljs.core.vec.call(null,(""+cljs.core.str(r)).split(l)):function(){for(var c=r,t=e,n=cljs.core.PersistentVector.EMPTY;;){if(cljs.core._EQ_.call(null,t,1))return cljs.core.conj.call(null,n,c);var s=cljs.core.re_find.call(null,l,c);if(!cljs.core.truth_(s))return cljs.core.conj.call(null,n,c);var o=s,s=c.indexOf(o),o=c.substring(s+cljs.core.count.call(null,o)),t=t-1,n=cljs.core.conj.call(null,n,c.substring(0,s)),c=o}}())},clojure.string.split.cljs$lang$maxFixedArity=3,clojure.string.split_lines=function(r){return clojure.string.split.call(null,r,/\n|\r\n/)},clojure.string.trim=function(r){return goog.string.trim(r)},clojure.string.triml=function(r){return goog.string.trimLeft(r)},clojure.string.trimr=function(r){return goog.string.trimRight(r)},clojure.string.trim_newline=function(r){for(var l=r.length;;){if(0===l)return"";var e=cljs.core.get.call(null,r,l-1);if(!cljs.core._EQ_.call(null,e,"\n")&&!cljs.core._EQ_.call(null,e,"\r"))return r.substring(0,l);--l}},clojure.string.blank_QMARK_=function(r){return goog.string.isEmptySafe(r)},clojure.string.escape=function(r,l){for(var e=new goog.string.StringBuffer,c=r.length,t=0;;){if(cljs.core._EQ_.call(null,c,t))return e.toString();var n=r.charAt(t),s=cljs.core.get.call(null,l,n);cljs.core.truth_(s)?e.append(""+cljs.core.str(s)):e.append(n),t+=1}};var datascript={shim:{}};datascript.shim.make_array=cljs.core.make_array,datascript.shim.into_array=cljs.core.into_array,datascript.shim.if_cljs=function(r,l,e){return cljs.core.truth_(new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(r))?l:e},datascript.shim.aconcat=function(r,l){return r.concat(l)},datascript.shim.amap=function(r,l){return l.map(r)},datascript.shim.asort=function(r,l){return r.sort(l)},datascript.shim.array_QMARK_=cljs.core.array_QMARK_,datascript.shim.seqable_QMARK_=cljs.core.seqable_QMARK_,datascript.shim.neg_number_QMARK_=cljs.core.every_pred.call(null,cljs.core.number_QMARK_,cljs.core.neg_QMARK_),cljs.core.async={},cljs.core.async.impl={},cljs.core.async.impl.protocols={},cljs.core.async.impl.protocols.MAX_QUEUE_SIZE=1024,cljs.core.async.impl.protocols.ReadPort=function(){return{}}(),cljs.core.async.impl.protocols.take_BANG_=function(r,l){if(r?r.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2:r)return r.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2(r,l);var e;if(!(e=cljs.core.async.impl.protocols.take_BANG_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.impl.protocols.take_BANG_._))throw cljs.core.missing_protocol.call(null,"ReadPort.take!",r);return e.call(null,r,l)},cljs.core.async.impl.protocols.WritePort=function(){return{}}(),cljs.core.async.impl.protocols.put_BANG_=function(r,l,e){if(r?r.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3:r)return r.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3(r,l,e);var c;if(!(c=cljs.core.async.impl.protocols.put_BANG_[goog.typeOf(null==r?null:r)])&&!(c=cljs.core.async.impl.protocols.put_BANG_._))throw cljs.core.missing_protocol.call(null,"WritePort.put!",r);return c.call(null,r,l,e)},cljs.core.async.impl.protocols.Channel=function(){return{}}(),cljs.core.async.impl.protocols.close_BANG_=function(r){if(r?r.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1:r)return r.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.close_BANG_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.close_BANG_._))throw cljs.core.missing_protocol.call(null,"Channel.close!",r);return l.call(null,r)},cljs.core.async.impl.protocols.closed_QMARK_=function(r){if(r?r.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1:r)return r.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.closed_QMARK_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.closed_QMARK_._))throw cljs.core.missing_protocol.call(null,"Channel.closed?",r);return l.call(null,r)},cljs.core.async.impl.protocols.Handler=function(){return{}}(),cljs.core.async.impl.protocols.active_QMARK_=function(r){if(r?r.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1:r)return r.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.active_QMARK_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.active_QMARK_._))throw cljs.core.missing_protocol.call(null,"Handler.active?",r);return l.call(null,r)},cljs.core.async.impl.protocols.commit=function(r){if(r?r.cljs$core$async$impl$protocols$Handler$commit$arity$1:r)return r.cljs$core$async$impl$protocols$Handler$commit$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.commit[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.commit._))throw cljs.core.missing_protocol.call(null,"Handler.commit",r);return l.call(null,r)},cljs.core.async.impl.protocols.Buffer=function(){return{}}(),cljs.core.async.impl.protocols.full_QMARK_=function(r){if(r?r.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1:r)return r.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.full_QMARK_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.full_QMARK_._))throw cljs.core.missing_protocol.call(null,"Buffer.full?",r);return l.call(null,r)},cljs.core.async.impl.protocols.remove_BANG_=function(r){if(r?r.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1:r)return r.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1(r);var l;if(!(l=cljs.core.async.impl.protocols.remove_BANG_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.protocols.remove_BANG_._))throw cljs.core.missing_protocol.call(null,"Buffer.remove!",r);return l.call(null,r)},cljs.core.async.impl.protocols.add_BANG__STAR_=function(r,l){if(r?r.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2:r)return r.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.impl.protocols.add_BANG__STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.impl.protocols.add_BANG__STAR_._))throw cljs.core.missing_protocol.call(null,"Buffer.add!*",r);return e.call(null,r,l)},cljs.core.async.impl.protocols.add_BANG_=function(){switch(arguments.length){case 1:return cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$1=function(r){return r},cljs.core.async.impl.protocols.add_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.impl.protocols.add_BANG__STAR_.call(null,r,l)},cljs.core.async.impl.protocols.add_BANG_.cljs$lang$maxFixedArity=2,cljs.core.async.impl.protocols.UnblockingBuffer=function(){return{}}(),cljs.core.async.impl.buffers={},cljs.core.async.impl.buffers.acopy=function(r,l,e,c,t){for(var n=0;;){if(!(n<t))return null;e[c+n]=r[l+n],n+=1}},cljs.core.async.impl.buffers.RingBuffer=function(r,l,e,c){this.head=r,this.tail=l,this.length=e,this.arr=c},cljs.core.async.impl.buffers.RingBuffer.prototype.pop=function(){if(0===this.length)return null;var r=this.arr[this.tail];return this.arr[this.tail]=null,this.tail=(this.tail+1)%this.arr.length,--this.length,r},cljs.core.async.impl.buffers.RingBuffer.prototype.unshift=function(r){return this.arr[this.head]=r,this.head=(this.head+1)%this.arr.length,this.length+=1,null},cljs.core.async.impl.buffers.RingBuffer.prototype.unbounded_unshift=function(r){return this.length+1===this.arr.length&&this.resize(),this.unshift(r)},cljs.core.async.impl.buffers.RingBuffer.prototype.resize=function(){var r=Array(2*this.arr.length);return this.tail<this.head?(cljs.core.async.impl.buffers.acopy.call(null,this.arr,this.tail,r,0,this.length),this.tail=0,this.head=this.length,this.arr=r):this.tail>this.head?(cljs.core.async.impl.buffers.acopy.call(null,this.arr,this.tail,r,0,this.arr.length-this.tail),cljs.core.async.impl.buffers.acopy.call(null,this.arr,0,r,this.arr.length-this.tail,this.head),this.tail=0,this.head=this.length,this.arr=r):this.tail===this.head?(this.head=this.tail=0,this.arr=r):null},cljs.core.async.impl.buffers.RingBuffer.prototype.cleanup=function(r){for(var l=this.length,e=0;;){if(!(e<l))return null;var c=this.pop();r.call(null,c)&&this.unshift(c),e+=1}},cljs.core.async.impl.buffers.RingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"head","head",869147608,null),new cljs.core.Symbol(null,"tail","tail",494507963,null),new cljs.core.Symbol(null,"length","length",-2065447907,null),new cljs.core.Symbol(null,"arr","arr",2115492975,null)],null)},cljs.core.async.impl.buffers.RingBuffer.cljs$lang$type=!0,cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/RingBuffer",cljs.core.async.impl.buffers.RingBuffer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.buffers/RingBuffer")},cljs.core.async.impl.buffers.__GT_RingBuffer=function(r,l,e,c){return new cljs.core.async.impl.buffers.RingBuffer(r,l,e,c)},cljs.core.async.impl.buffers.ring_buffer=function(r){return new cljs.core.async.impl.buffers.RingBuffer(0,0,0,Array(r))},cljs.core.async.impl.buffers.FixedBuffer=function(r,l){this.buf=r,this.n=l,this.cljs$lang$protocol_mask$partition0$=2,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=!0,cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(r){return this.buf.length===this.n},
cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(r){return this.buf.pop()},cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(r,l){return this.buf.unbounded_unshift(l),this},cljs.core.async.impl.buffers.FixedBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.buf.length},cljs.core.async.impl.buffers.FixedBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)},cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$type=!0,cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/FixedBuffer",cljs.core.async.impl.buffers.FixedBuffer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.buffers/FixedBuffer")},cljs.core.async.impl.buffers.__GT_FixedBuffer=function(r,l){return new cljs.core.async.impl.buffers.FixedBuffer(r,l)},cljs.core.async.impl.buffers.fixed_buffer=function(r){return new cljs.core.async.impl.buffers.FixedBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,r),r)},cljs.core.async.impl.buffers.DroppingBuffer=function(r,l){this.buf=r,this.n=l,this.cljs$lang$protocol_mask$partition0$=2,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=!0,cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=!0,cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(r){return!1},cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(r){return this.buf.pop()},cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(r,l){return this.buf.length!==this.n&&this.buf.unshift(l),this},cljs.core.async.impl.buffers.DroppingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.buf.length},cljs.core.async.impl.buffers.DroppingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)},cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$type=!0,cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/DroppingBuffer",cljs.core.async.impl.buffers.DroppingBuffer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.buffers/DroppingBuffer")},cljs.core.async.impl.buffers.__GT_DroppingBuffer=function(r,l){return new cljs.core.async.impl.buffers.DroppingBuffer(r,l)},cljs.core.async.impl.buffers.dropping_buffer=function(r){return new cljs.core.async.impl.buffers.DroppingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,r),r)},cljs.core.async.impl.buffers.SlidingBuffer=function(r,l){this.buf=r,this.n=l,this.cljs$lang$protocol_mask$partition0$=2,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$UnblockingBuffer$=!0,cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$=!0,cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$full_QMARK_$arity$1=function(r){return!1},cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$remove_BANG_$arity$1=function(r){return this.buf.pop()},cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$async$impl$protocols$Buffer$add_BANG__STAR_$arity$2=function(r,l){return this.buf.length===this.n&&cljs.core.async.impl.protocols.remove_BANG_.call(null,this),this.buf.unshift(l),this},cljs.core.async.impl.buffers.SlidingBuffer.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.buf.length},cljs.core.async.impl.buffers.SlidingBuffer.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"n","n",-2092305744,null)],null)},cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$type=!0,cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorStr="cljs.core.async.impl.buffers/SlidingBuffer",cljs.core.async.impl.buffers.SlidingBuffer.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.buffers/SlidingBuffer")},cljs.core.async.impl.buffers.__GT_SlidingBuffer=function(r,l){return new cljs.core.async.impl.buffers.SlidingBuffer(r,l)},cljs.core.async.impl.buffers.sliding_buffer=function(r){return new cljs.core.async.impl.buffers.SlidingBuffer(cljs.core.async.impl.buffers.ring_buffer.call(null,r),r)},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(r){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=r,goog.debug.entryPointRegistry.monitorsMayExist_)for(var l=goog.debug.entryPointRegistry.monitors_,e=0;e<l.length;e++)r(goog.bind(l[e].wrap,l[e]))},goog.debug.entryPointRegistry.monitorAll=function(r){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var l=goog.bind(r.wrap,r),e=0;e<goog.debug.entryPointRegistry.refList_.length;e++)goog.debug.entryPointRegistry.refList_[e](l);goog.debug.entryPointRegistry.monitors_.push(r)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(r){var l=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(r==l[l.length-1],"Only the most recent monitor can be unwrapped."),r=goog.bind(r.unwrap,r);for(var e=0;e<goog.debug.entryPointRegistry.refList_.length;e++)goog.debug.entryPointRegistry.refList_[e](r);l.length--},goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.functions={},goog.functions.constant=function(r){return function(){return r}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(r,l){return r},goog.functions.error=function(r){return function(){throw Error(r)}},goog.functions.fail=function(r){return function(){throw r}},goog.functions.lock=function(r,l){return l=l||0,function(){return r.apply(this,Array.prototype.slice.call(arguments,0,l))}},goog.functions.nth=function(r){return function(){return arguments[r]}},goog.functions.withReturnValue=function(r,l){return goog.functions.sequence(r,goog.functions.constant(l))},goog.functions.equalTo=function(r,l){return function(e){return l?r==e:r===e}},goog.functions.compose=function(r,l){var e=arguments,c=e.length;return function(){var r;c&&(r=e[c-1].apply(this,arguments));for(var l=c-2;0<=l;l--)r=e[l].call(this,r);return r}},goog.functions.sequence=function(r){var l=arguments,e=l.length;return function(){for(var r,c=0;c<e;c++)r=l[c].apply(this,arguments);return r}},goog.functions.and=function(r){var l=arguments,e=l.length;return function(){for(var r=0;r<e;r++)if(!l[r].apply(this,arguments))return!1;return!0}},goog.functions.or=function(r){var l=arguments,e=l.length;return function(){for(var r=0;r<e;r++)if(l[r].apply(this,arguments))return!0;return!1}},goog.functions.not=function(r){return function(){return!r.apply(this,arguments)}},goog.functions.create=function(r,l){var e=function(){};return e.prototype=r.prototype,e=new e,r.apply(e,Array.prototype.slice.call(arguments,1)),e},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(r){var l,e=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(e||(l=r(),e=!0),l):r()}},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var r=goog.labs.userAgent.util.getNavigator_();return r&&(r=r.userAgent)?r:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(r){goog.labs.userAgent.util.userAgent_=r||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(r){var l=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(l,r)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(r){var l=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(l,r)},goog.labs.userAgent.util.extractVersionTuples=function(r){for(var l,e=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),c=[];l=e.exec(r);)c.push([l[1],l[2],l[3]||void 0]);return c},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")||goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchIE_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchIE_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function r(r){return r=goog.array.find(r,c),e[r]||""}var l=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(l);var l=goog.labs.userAgent.util.extractVersionTuples(l),e={};goog.array.forEach(l,function(r){e[r[0]]=r[1]});var c=goog.partial(goog.object.containsKey,e);return goog.labs.userAgent.browser.isOpera()?r(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isChrome()?r(["Chrome","CriOS"]):(l=l[2])&&l[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(r){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),r)},goog.labs.userAgent.browser.getIEVersion_=function(r){var l=/rv: *([\d\.]*)/.exec(r);if(l&&l[1]||(l=/Edge\/([\d\.]+)/.exec(r)))return l[1];var l="",e=/MSIE +([\d\.]+)/.exec(r);if(e&&e[1])if(r=/Trident\/(\d.\d)/.exec(r),"7.0"==e[1])if(r&&r[1])switch(r[1]){case"4.0":l="8.0";break;case"5.0":l="9.0";break;case"6.0":l="10.0";break;case"7.0":l="11.0"}else l="7.0";else l=e[1];return l},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var r=goog.labs.userAgent.util.getUserAgent();if(r){var r=goog.labs.userAgent.util.extractVersionTuples(r),l=goog.labs.userAgent.engine.getEngineTuple_(r);if(l)return"Gecko"==l[0]?goog.labs.userAgent.engine.getVersionForKey_(r,"Firefox"):l[1];var e,r=r[0];if(r&&(e=r[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(r){if(!goog.labs.userAgent.engine.isEdge())return r[1];for(var l=0;l<r.length;l++){var e=r[l];if("Edge"==e[0])return e}},goog.labs.userAgent.engine.isVersionOrHigher=function(r){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),r)},goog.labs.userAgent.engine.getVersionForKey_=function(r,l){var e=goog.array.find(r,function(r){return l==r[0]});return e&&e[1]||""},goog.async={},goog.async.throwException=function(r){goog.global.setTimeout(function(){throw r},0)},goog.async.nextTick=function(r,l,e){var c=r;l&&(c=goog.bind(r,l)),c=goog.async.nextTick.wrapCallback_(c),!goog.isFunction(goog.global.setImmediate)||!e&&goog.global.Window&&goog.global.Window.prototype&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(c)):goog.global.setImmediate(c)},goog.async.nextTick.getSetImmediateEmulator_=function(){var r=goog.global.MessageChannel;if(void 0===r&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(r=function(){var r=document.createElement(goog.dom.TagName.IFRAME);r.style.display="none",r.src="",document.documentElement.appendChild(r);var l=r.contentWindow,r=l.document;r.open(),r.write(""),r.close();var e="callImmediate"+Math.random(),c="file:"==l.location.protocol?"*":l.location.protocol+"//"+l.location.host,r=goog.bind(function(r){"*"!=c&&r.origin!=c||r.data!=e||this.port1.onmessage()},this);l.addEventListener("message",r,!1),this.port1={},this.port2={postMessage:function(){l.postMessage(e,c)}}}),void 0!==r&&!goog.labs.userAgent.browser.isIE()){var l=new r,e={},c=e;return l.port1.onmessage=function(){if(goog.isDef(e.next)){e=e.next;var r=e.cb;e.cb=null,r()}},function(r){c.next={cb:r},c=c.next,l.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT)?function(r){var l=document.createElement(goog.dom.TagName.SCRIPT);l.onreadystatechange=function(){l.onreadystatechange=null,l.parentNode.removeChild(l),l=null,r(),r=null},document.documentElement.appendChild(l)}:function(r){goog.global.setTimeout(r,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(r){goog.async.nextTick.wrapCallback_=r}),cljs.core.async.impl.dispatch={},cljs.core.async.impl.dispatch.tasks=cljs.core.async.impl.buffers.ring_buffer.call(null,32),cljs.core.async.impl.dispatch.running_QMARK_=!1,cljs.core.async.impl.dispatch.queued_QMARK_=!1,cljs.core.async.impl.dispatch.TASK_BATCH_SIZE=1024,cljs.core.async.impl.dispatch.process_messages=function(){cljs.core.async.impl.dispatch.running_QMARK_=!0,cljs.core.async.impl.dispatch.queued_QMARK_=!1;for(var r=0;;){var l=cljs.core.async.impl.dispatch.tasks.pop();{if(!(null!=l&&(l.call(null),r<cljs.core.async.impl.dispatch.TASK_BATCH_SIZE)))break;r+=1}}return cljs.core.async.impl.dispatch.running_QMARK_=!1,0<cljs.core.async.impl.dispatch.tasks.length?cljs.core.async.impl.dispatch.queue_dispatcher.call(null):null},cljs.core.async.impl.dispatch.queue_dispatcher=function(){return cljs.core.truth_(function(){var r=cljs.core.async.impl.dispatch.queued_QMARK_;return cljs.core.truth_(r)?cljs.core.async.impl.dispatch.running_QMARK_:r}())?null:(cljs.core.async.impl.dispatch.queued_QMARK_=!0,goog.async.nextTick(cljs.core.async.impl.dispatch.process_messages))},cljs.core.async.impl.dispatch.run=function(r){return cljs.core.async.impl.dispatch.tasks.unbounded_unshift(r),cljs.core.async.impl.dispatch.queue_dispatcher.call(null)},cljs.core.async.impl.dispatch.queue_delay=function(r,l){return setTimeout(r,l)},cljs.core.async.impl.channels={},cljs.core.async.impl.channels.box=function r(l){return void 0===cljs.core.async.impl.channels.t30592&&(cljs.core.async.impl.channels.t30592=function(r,l,e){this.box=r,this.val=l,this.meta30593=e,this.cljs$lang$protocol_mask$partition0$=425984,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.channels.t30592.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.impl.channels.t30592(this.box,this.val,l)},cljs.core.async.impl.channels.t30592.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta30593},cljs.core.async.impl.channels.t30592.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return this.val},cljs.core.async.impl.channels.t30592.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"box","box",-1123515375,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"meta30593","meta30593",-536873023,null)],null)},cljs.core.async.impl.channels.t30592.cljs$lang$type=!0,cljs.core.async.impl.channels.t30592.cljs$lang$ctorStr="cljs.core.async.impl.channels/t30592",cljs.core.async.impl.channels.t30592.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.channels/t30592")},cljs.core.async.impl.channels.__GT_t30592=function(r,l,e){return new cljs.core.async.impl.channels.t30592(r,l,e)}),new cljs.core.async.impl.channels.t30592(r,l,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.impl.channels.PutBox=function(r,l){this.handler=r,this.val=l},cljs.core.async.impl.channels.PutBox.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"val","val",1769233139,null)],null)},cljs.core.async.impl.channels.PutBox.cljs$lang$type=!0,cljs.core.async.impl.channels.PutBox.cljs$lang$ctorStr="cljs.core.async.impl.channels/PutBox",cljs.core.async.impl.channels.PutBox.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.channels/PutBox")},cljs.core.async.impl.channels.__GT_PutBox=function(r,l){return new cljs.core.async.impl.channels.PutBox(r,l)},cljs.core.async.impl.channels.put_active_QMARK_=function(r){return cljs.core.async.impl.protocols.active_QMARK_.call(null,r.handler)},cljs.core.async.impl.channels.MAX_DIRTY=64,cljs.core.async.impl.channels.MMC=function(){return{}}(),cljs.core.async.impl.channels.abort=function(r){if(r?r.cljs$core$async$impl$channels$MMC$abort$arity$1:r)return r.cljs$core$async$impl$channels$MMC$abort$arity$1(r);var l;if(!(l=cljs.core.async.impl.channels.abort[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.impl.channels.abort._))throw cljs.core.missing_protocol.call(null,"MMC.abort",r);return l.call(null,r)},cljs.core.async.impl.channels.ManyToManyChannel=function(r,l,e,c,t,n,s){this.takes=r,this.dirty_takes=l,this.puts=e,this.dirty_puts=c,this.buf=t,this.closed=n,this.add_BANG_=s},cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$channels$MMC$=!0,cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$channels$MMC$abort$arity$1=function(r){for(;;){if(null!=(r=this.puts.pop())){var l=r.handler;r.val;if(!cljs.core.async.impl.protocols.active_QMARK_.call(null,l))continue;var e=cljs.core.async.impl.protocols.commit.call(null,l);cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t){return function(){return r.call(null,!0)}}(e))}break}return this.puts.cleanup(cljs.core.constantly.call(null,!1)),cljs.core.async.impl.protocols.close_BANG_.call(null,this)},cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$=!0,cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(r,l,e){var c=this;if((r=c.closed)||!cljs.core.async.impl.protocols.active_QMARK_.call(null,e))return cljs.core.async.impl.channels.box.call(null,!r);if(cljs.core.truth_(function(){var r=c.buf;return cljs.core.truth_(r)?cljs.core.not.call(null,cljs.core.async.impl.protocols.full_QMARK_.call(null,c.buf)):r}())){for(cljs.core.async.impl.protocols.commit.call(null,e),e=cljs.core.reduced_QMARK_.call(null,c.add_BANG_.call(null,c.buf,l));;){if(0<c.takes.length&&0<cljs.core.count.call(null,c.buf)){var t=c.takes.pop();if(!cljs.core.async.impl.protocols.active_QMARK_.call(null,t))continue;var n=cljs.core.async.impl.protocols.commit.call(null,t),s=cljs.core.async.impl.protocols.remove_BANG_.call(null,c.buf);cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t,n){return function(){return r.call(null,l)}}(n,s))}break}return e&&cljs.core.async.impl.channels.abort.call(null,this),cljs.core.async.impl.channels.box.call(null,!0)}return t=function(){for(;;){var r=c.takes.pop();if(!cljs.core.truth_(r))return null;if(cljs.core.truth_(cljs.core.async.impl.protocols.active_QMARK_.call(null,r)))return r}}(),cljs.core.truth_(t)?(n=cljs.core.async.impl.protocols.commit.call(null,t),cljs.core.async.impl.protocols.commit.call(null,e),cljs.core.async.impl.dispatch.run.call(null,function(r,e,c,t){return function(){return r.call(null,l)}}(n)),cljs.core.async.impl.channels.box.call(null,!0)):(c.dirty_puts>cljs.core.async.impl.channels.MAX_DIRTY?(c.dirty_puts=0,c.puts.cleanup(cljs.core.async.impl.channels.put_active_QMARK_)):c.dirty_puts+=1,c.puts.unbounded_unshift(new cljs.core.async.impl.channels.PutBox(e,l)),null)},cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$=!0,cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(r,l){var e=this;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,l)){if(null!=e.buf&&0<cljs.core.count.call(null,e.buf)){for(var c=cljs.core.async.impl.protocols.commit.call(null,l),t=cljs.core.async.impl.channels.box.call(null,cljs.core.async.impl.protocols.remove_BANG_.call(null,e.buf));;){if(!cljs.core.truth_(cljs.core.async.impl.protocols.full_QMARK_.call(null,e.buf))){var n=e.puts.pop();if(null!=n){var s=n.handler,o=n.val;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,s)){var a=cljs.core.async.impl.protocols.commit.call(null,s);cljs.core.async.impl.protocols.commit.call(null,l),cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t,n,s){return function(){return r.call(null,!0)}}(a)),cljs.core.reduced_QMARK_.call(null,e.add_BANG_.call(null,e.buf,o))&&cljs.core.async.impl.channels.abort.call(null,this)}continue}}break}return t}if(c=function(){for(;;){var r=e.puts.pop();if(!cljs.core.truth_(r))return null;if(cljs.core.async.impl.protocols.active_QMARK_.call(null,r.handler))return r}}(),cljs.core.truth_(c))return t=cljs.core.async.impl.protocols.commit.call(null,c.handler),cljs.core.async.impl.protocols.commit.call(null,l),cljs.core.async.impl.dispatch.run.call(null,function(r,l,e){return function(){return r.call(null,!0)}}(t)),cljs.core.async.impl.channels.box.call(null,c.val);if(cljs.core.truth_(e.closed))return cljs.core.truth_(e.buf)&&e.add_BANG_.call(null,e.buf),cljs.core.truth_(function(){var r=cljs.core.async.impl.protocols.active_QMARK_.call(null,l);return cljs.core.truth_(r)?cljs.core.async.impl.protocols.commit.call(null,l):r}())?(c=function(){var r=e.buf;return cljs.core.truth_(r)?0<cljs.core.count.call(null,e.buf):r}(),c=cljs.core.truth_(c)?cljs.core.async.impl.protocols.remove_BANG_.call(null,e.buf):null,cljs.core.async.impl.channels.box.call(null,c)):null;e.dirty_takes>cljs.core.async.impl.channels.MAX_DIRTY?(e.dirty_takes=0,e.takes.cleanup(cljs.core.async.impl.protocols.active_QMARK_)):e.dirty_takes+=1,e.takes.unbounded_unshift(l)}return null},cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$=!0,cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(r){return this.closed},cljs.core.async.impl.channels.ManyToManyChannel.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(r){var l=this;if(!l.closed)for(l.closed=!0,cljs.core.truth_(function(){var r=l.buf;return cljs.core.truth_(r)?0===l.puts.length:r}())&&l.add_BANG_.call(null,l.buf);null!=(r=l.takes.pop());)if(cljs.core.async.impl.protocols.active_QMARK_.call(null,r)){var e=cljs.core.async.impl.protocols.commit.call(null,r),c=cljs.core.truth_(function(){var r=l.buf;return cljs.core.truth_(r)?0<cljs.core.count.call(null,l.buf):r}())?cljs.core.async.impl.protocols.remove_BANG_.call(null,l.buf):null;cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c){return function(){return r.call(null,l)}}(e,c))}return null},cljs.core.async.impl.channels.ManyToManyChannel.getBasis=function(){return new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"takes","takes",298247964,null),new cljs.core.Symbol(null,"dirty-takes","dirty-takes",575642138,null),new cljs.core.Symbol(null,"puts","puts",-1883877054,null),new cljs.core.Symbol(null,"dirty-puts","dirty-puts",57041148,null),new cljs.core.Symbol(null,"buf","buf",1426618187,null),new cljs.core.Symbol(null,"closed","closed",720856168,null),new cljs.core.Symbol(null,"add!","add!",2046056845,null)],null)},cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$type=!0,cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorStr="cljs.core.async.impl.channels/ManyToManyChannel",cljs.core.async.impl.channels.ManyToManyChannel.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.channels/ManyToManyChannel")},cljs.core.async.impl.channels.__GT_ManyToManyChannel=function(r,l,e,c,t,n,s){return new cljs.core.async.impl.channels.ManyToManyChannel(r,l,e,c,t,n,s)},cljs.core.async.impl.channels.ex_handler=function(r){return console.log(r),null},cljs.core.async.impl.channels.handle=function(r,l,e){return l=cljs.core.truth_(l)?l:cljs.core.async.impl.channels.ex_handler,e=l.call(null,e),null==e?r:cljs.core.async.impl.protocols.add_BANG_.call(null,r,e)},cljs.core.async.impl.channels.chan=function(){switch(arguments.length){case 1:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}};cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.impl.channels.chan.call(null,r,null)},cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.impl.channels.chan.call(null,r,l,null)},cljs.core.async.impl.channels.chan.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new cljs.core.async.impl.channels.ManyToManyChannel(cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,cljs.core.async.impl.buffers.ring_buffer.call(null,32),0,r,!1,function(){return function(r){return function(){var l=null,c=function(l){try{return r.call(null,l)}catch(r){return cljs.core.async.impl.channels.handle.call(null,l,e,r)}},t=function(l,c){try{return r.call(null,l,c)}catch(r){return cljs.core.async.impl.channels.handle.call(null,l,e,r)}},l=function(r,l){switch(arguments.length){case 1:return c.call(this,r);case 2:return t.call(this,r,l)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$1=c,l.cljs$core$IFn$_invoke$arity$2=t,l}()}(cljs.core.truth_(l)?l.call(null,cljs.core.async.impl.protocols.add_BANG_):cljs.core.async.impl.protocols.add_BANG_)}())},cljs.core.async.impl.channels.chan.cljs$lang$maxFixedArity=3,cljs.core.async.impl.ioc_helpers={},cljs.core.async.impl.ioc_helpers.FN_IDX=0,cljs.core.async.impl.ioc_helpers.STATE_IDX=1,cljs.core.async.impl.ioc_helpers.VALUE_IDX=2,cljs.core.async.impl.ioc_helpers.BINDINGS_IDX=3,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES=4,cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION=5,cljs.core.async.impl.ioc_helpers.USER_START_IDX=6,cljs.core.async.impl.ioc_helpers.aset_object=function(r,l,e){return r[l][e]},cljs.core.async.impl.ioc_helpers.aget_object=function(r,l){return r[l]},cljs.core.async.impl.ioc_helpers.finished_QMARK_=function(r){return cljs.core.keyword_identical_QMARK_.call(null,r[cljs.core.async.impl.ioc_helpers.STATE_IDX],new cljs.core.Keyword(null,"finished","finished",-1018867731))
},cljs.core.async.impl.ioc_helpers.fn_handler=function r(l){return void 0===cljs.core.async.impl.ioc_helpers.t30521&&(cljs.core.async.impl.ioc_helpers.t30521=function(r,l,e){this.fn_handler=r,this.f=l,this.meta30522=e,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.ioc_helpers.t30521.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.impl.ioc_helpers.t30521(this.fn_handler,this.f,l)},cljs.core.async.impl.ioc_helpers.t30521.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta30522},cljs.core.async.impl.ioc_helpers.t30521.prototype.cljs$core$async$impl$protocols$Handler$=!0,cljs.core.async.impl.ioc_helpers.t30521.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(r){return!0},cljs.core.async.impl.ioc_helpers.t30521.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(r){return this.f},cljs.core.async.impl.ioc_helpers.t30521.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"fn-handler","fn-handler",648785851,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"meta30522","meta30522",-1076525888,null)],null)},cljs.core.async.impl.ioc_helpers.t30521.cljs$lang$type=!0,cljs.core.async.impl.ioc_helpers.t30521.cljs$lang$ctorStr="cljs.core.async.impl.ioc-helpers/t30521",cljs.core.async.impl.ioc_helpers.t30521.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.ioc-helpers/t30521")},cljs.core.async.impl.ioc_helpers.__GT_t30521=function(r,l,e){return new cljs.core.async.impl.ioc_helpers.t30521(r,l,e)}),new cljs.core.async.impl.ioc_helpers.t30521(r,l,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.impl.ioc_helpers.run_state_machine=function(r){return cljs.core.async.impl.ioc_helpers.aget_object.call(null,r,cljs.core.async.impl.ioc_helpers.FN_IDX).call(null,r)},cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped=function(r){try{return cljs.core.async.impl.ioc_helpers.run_state_machine.call(null,r)}catch(l){throw l instanceof Object&&cljs.core.async.impl.protocols.close_BANG_.call(null,cljs.core.async.impl.ioc_helpers.aget_object.call(null,r,cljs.core.async.impl.ioc_helpers.USER_START_IDX)),l}},cljs.core.async.impl.ioc_helpers.take_BANG_=function(r,l,e){return e=cljs.core.async.impl.protocols.take_BANG_.call(null,e,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(e){return r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=e,r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=l,cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,r)})),cljs.core.truth_(e)?(r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,e),r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=l,new cljs.core.Keyword(null,"recur","recur",-437573268)):null},cljs.core.async.impl.ioc_helpers.put_BANG_=function(r,l,e,c){return e=cljs.core.async.impl.protocols.put_BANG_.call(null,e,c,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(e){return r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=e,r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=l,cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,r)})),cljs.core.truth_(e)?(r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,e),r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=l,new cljs.core.Keyword(null,"recur","recur",-437573268)):null},cljs.core.async.impl.ioc_helpers.return_chan=function(r,l){var e=r[cljs.core.async.impl.ioc_helpers.USER_START_IDX];return null!=l&&cljs.core.async.impl.protocols.put_BANG_.call(null,e,l,cljs.core.async.impl.ioc_helpers.fn_handler.call(null,function(r){return function(){return null}}())),cljs.core.async.impl.protocols.close_BANG_.call(null,e),e},cljs.core.async.impl.ioc_helpers.ExceptionFrame=function(r,l,e,c,t,n,s,o){this.catch_block=r,this.catch_exception=l,this.finally_block=e,this.continue_block=c,this.prev=t,this.__meta=n,this.__extmap=s,this.__hash=o,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"catch-block":return this.catch_block;case"catch-exception":return this.catch_exception;case"finally-block":return this.finally_block;case"continue-block":return this.continue_block;case"prev":return this.prev;default:return cljs.core.get.call(null,this.__extmap,l,e)}},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),this.catch_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),this.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),this.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),this.continue_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"prev","prev",-1597069226),this.prev],null)],null),this.__extmap))},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,this.continue_block,this.prev,this.__meta,this.__extmap,this.__hash)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 5+cljs.core.count.call(null,this.__extmap)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),null,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),null,new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),null,new cljs.core.Keyword(null,"prev","prev",-1597069226),null,new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,this.continue_block,this.prev,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),l))?new cljs.core.async.impl.ioc_helpers.ExceptionFrame(e,this.catch_exception,this.finally_block,this.continue_block,this.prev,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),l))?new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,e,this.finally_block,this.continue_block,this.prev,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"finally-block","finally-block",832982472),l))?new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,e,this.continue_block,this.prev,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),l))?new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,e,this.prev,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"prev","prev",-1597069226),l))?new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,this.continue_block,e,this.__meta,this.__extmap,null):new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,this.continue_block,this.prev,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),this.catch_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),this.catch_exception],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"finally-block","finally-block",832982472),this.finally_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),this.continue_block],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"prev","prev",-1597069226),this.prev],null)],null),this.__extmap))},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(this.catch_block,this.catch_exception,this.finally_block,this.continue_block,this.prev,l,this.__extmap,this.__hash)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"catch-block","catch-block",-1479223021,null),new cljs.core.Symbol(null,"catch-exception","catch-exception",-356775268,null),new cljs.core.Symbol(null,"finally-block","finally-block",-1821453297,null),new cljs.core.Symbol(null,"continue-block","continue-block",-211516323,null),new cljs.core.Symbol(null,"prev","prev",43462301,null)],null)},cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$type=!0,cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")},cljs.core.async.impl.ioc_helpers.ExceptionFrame.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"cljs.core.async.impl.ioc-helpers/ExceptionFrame")},cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame=function(r,l,e,c,t){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(r,l,e,c,t,null,null,null)},cljs.core.async.impl.ioc_helpers.map__GT_ExceptionFrame=function(r){return new cljs.core.async.impl.ioc_helpers.ExceptionFrame(new cljs.core.Keyword(null,"catch-block","catch-block",1175212748).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"prev","prev",-1597069226).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),new cljs.core.Keyword(null,"finally-block","finally-block",832982472),new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850),new cljs.core.Keyword(null,"prev","prev",-1597069226)),null)},cljs.core.async.impl.ioc_helpers.add_exception_frame=function(r,l,e,c,t){return r[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.async.impl.ioc_helpers.__GT_ExceptionFrame.call(null,l,e,c,t,cljs.core.async.impl.ioc_helpers.aget_object.call(null,r,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES)),r},cljs.core.async.impl.ioc_helpers.process_exception=function(r){for(;;){var l=cljs.core.async.impl.ioc_helpers.aget_object.call(null,r,cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES),e=new cljs.core.Keyword(null,"catch-block","catch-block",1175212748).cljs$core$IFn$_invoke$arity$1(l),c=new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795).cljs$core$IFn$_invoke$arity$1(l),t=cljs.core.async.impl.ioc_helpers.aget_object.call(null,r,cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION);if(cljs.core.truth_(function(){var r=t;return cljs.core.truth_(r)?cljs.core.not.call(null,l):r}()))throw t;if(cljs.core.truth_(function(){var r=t;return cljs.core.truth_(r)?(r=e,cljs.core.truth_(r)?t instanceof c:r):r}()))return r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=e,r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=t,r[cljs.core.async.impl.ioc_helpers.CURRENT_EXCEPTION]=null,r[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,l,new cljs.core.Keyword(null,"catch-block","catch-block",1175212748),null,new cljs.core.Keyword(null,"catch-exception","catch-exception",-1997306795),null),r;if(!cljs.core.truth_(function(){var r=t;return cljs.core.truth_(r)?cljs.core.not.call(null,e)&&cljs.core.not.call(null,new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(l)):r}())){if(cljs.core.truth_(function(){var r=t;return cljs.core.truth_(r)&&(r=cljs.core.not.call(null,e))?new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(l):r}())||cljs.core.truth_(function(){var r=cljs.core.not.call(null,t);return r?new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(l):r}()))return r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(l),r[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=cljs.core.assoc.call(null,l,new cljs.core.Keyword(null,"finally-block","finally-block",832982472),null),r;if(cljs.core.not.call(null,t)&&cljs.core.not.call(null,new cljs.core.Keyword(null,"finally-block","finally-block",832982472).cljs$core$IFn$_invoke$arity$1(l)))return r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=new cljs.core.Keyword(null,"continue-block","continue-block",-1852047850).cljs$core$IFn$_invoke$arity$1(l),r[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=new cljs.core.Keyword(null,"prev","prev",-1597069226).cljs$core$IFn$_invoke$arity$1(l),r;throw Error("No matching clause")}r[cljs.core.async.impl.ioc_helpers.EXCEPTION_FRAMES]=new cljs.core.Keyword(null,"prev","prev",-1597069226).cljs$core$IFn$_invoke$arity$1(l)}},cljs.core.async.impl.timers={},cljs.core.async.impl.timers.MAX_LEVEL=15,cljs.core.async.impl.timers.P=.5,cljs.core.async.impl.timers.random_level=function(){switch(arguments.length){case 0:return cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.async.impl.timers.random_level.call(null,0)},cljs.core.async.impl.timers.random_level.cljs$core$IFn$_invoke$arity$1=function(r){for(;;){if(!(Math.random()<cljs.core.async.impl.timers.P&&r<cljs.core.async.impl.timers.MAX_LEVEL))return r;r+=1}},cljs.core.async.impl.timers.random_level.cljs$lang$maxFixedArity=1,cljs.core.async.impl.timers.SkipListNode=function(r,l,e){this.key=r,this.val=l,this.forward=e,this.cljs$lang$protocol_mask$partition0$=2155872256,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,this.val),this.key)},cljs.core.async.impl.timers.SkipListNode.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,"["," ","]",e,this)},cljs.core.async.impl.timers.SkipListNode.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key","key",124488940,null),new cljs.core.Symbol(null,"val","val",1769233139,null),new cljs.core.Symbol(null,"forward","forward",1083186224,null)],null)},cljs.core.async.impl.timers.SkipListNode.cljs$lang$type=!0,cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipListNode",cljs.core.async.impl.timers.SkipListNode.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.timers/SkipListNode")},cljs.core.async.impl.timers.__GT_SkipListNode=function(r,l,e){return new cljs.core.async.impl.timers.SkipListNode(r,l,e)},cljs.core.async.impl.timers.skip_list_node=function(){switch(arguments.length){case 1:return cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 3:return cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.impl.timers.skip_list_node.call(null,null,null,r)},cljs.core.async.impl.timers.skip_list_node.cljs$core$IFn$_invoke$arity$3=function(r,l,e){e=Array(e+1);for(var c=0;c<e.length;)e[c]=null,c+=1;return new cljs.core.async.impl.timers.SkipListNode(r,l,e)},cljs.core.async.impl.timers.skip_list_node.cljs$lang$maxFixedArity=3,cljs.core.async.impl.timers.least_greater_node=function(){switch(arguments.length){case 3:return cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.async.impl.timers.least_greater_node.call(null,r,l,e,null)},cljs.core.async.impl.timers.least_greater_node.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){for(;;){if(0>e)return r;r:for(;;){var t=r.forward[e];if(!cljs.core.truth_(t))break r;if(!(t.key<l))break r;r=t}null!=c&&(c[e]=r),--e}},cljs.core.async.impl.timers.least_greater_node.cljs$lang$maxFixedArity=4,cljs.core.async.impl.timers.SkipList=function(r,l){this.header=r,this.level=l,this.cljs$lang$protocol_mask$partition0$=2155872256,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.impl.timers.SkipList.prototype.put=function(r,l){var e=Array(cljs.core.async.impl.timers.MAX_LEVEL),c=cljs.core.async.impl.timers.least_greater_node.call(null,this.header,r,this.level,e).forward[0];if(null!=c&&c.key===r)return c.val=l;if((c=cljs.core.async.impl.timers.random_level.call(null))>this.level){for(var t=this.level+1;t<=c+1;)e[t]=this.header,t+=1;this.level=c}for(c=cljs.core.async.impl.timers.skip_list_node.call(null,r,l,Array(c));;)return 0<=this.level?(e=e[0].forward,c.forward[0]=e[0],e[0]=c):null},cljs.core.async.impl.timers.SkipList.prototype.remove=function(r){var l=Array(cljs.core.async.impl.timers.MAX_LEVEL),e=cljs.core.async.impl.timers.least_greater_node.call(null,this.header,r,this.level,l).forward[0];if(null==e||e.key!==r)return null;for(r=0;r<=this.level;){var c=l[r].forward;c[r]===e&&(c[r]=e.forward[r]),r+=1}for(;;){if(!(0<this.level&&null==this.header.forward[this.level]))return null;--this.level}},cljs.core.async.impl.timers.SkipList.prototype.ceilingEntry=function(r){for(var l=this.header,e=this.level;;){if(0>e)return l===this.header?null:l;var c;r:for(c=l;;){if(null==(c=c.forward[e])){c=null;break r}if(c.key>=r)break r}null!=c?(--e,l=c):--e}},cljs.core.async.impl.timers.SkipList.prototype.floorEntry=function(r){for(var l=this.header,e=this.level;;){if(0>e)return l===this.header?null:l;var c;r:for(c=l;;){var t=c.forward[e];if(null==t){c=0===e?c:null;break r}if(t.key>r)break r;c=t}cljs.core.truth_(c)?(--e,l=c):--e}},cljs.core.async.impl.timers.SkipList.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return function(r){return function r(l){return new cljs.core.LazySeq(null,function(e){return function(){return null==l?null:cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l.key,l.val],null),r.call(null,l.forward[0]))}}(),null,null)}}().call(null,this.header.forward[0])},cljs.core.async.impl.timers.SkipList.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"{",", ","}",e,this)},cljs.core.async.impl.timers.SkipList.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"header","header",1759972661,null),new cljs.core.Symbol(null,"level","level",-1363938217,null)],null)},cljs.core.async.impl.timers.SkipList.cljs$lang$type=!0,cljs.core.async.impl.timers.SkipList.cljs$lang$ctorStr="cljs.core.async.impl.timers/SkipList",cljs.core.async.impl.timers.SkipList.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async.impl.timers/SkipList")},cljs.core.async.impl.timers.__GT_SkipList=function(r,l){return new cljs.core.async.impl.timers.SkipList(r,l)},cljs.core.async.impl.timers.skip_list=function(){return new cljs.core.async.impl.timers.SkipList(cljs.core.async.impl.timers.skip_list_node.call(null,0),0)},cljs.core.async.impl.timers.timeouts_map=cljs.core.async.impl.timers.skip_list.call(null),cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS=10,cljs.core.async.impl.timers.timeout=function(r){var l=(new Date).valueOf()+r,e=cljs.core.async.impl.timers.timeouts_map.ceilingEntry(l),c=cljs.core.truth_(cljs.core.truth_(e)?e.key<l+cljs.core.async.impl.timers.TIMEOUT_RESOLUTION_MS:e)?e.val:null;if(cljs.core.truth_(c))return c;var t=cljs.core.async.impl.channels.chan.call(null,null);return cljs.core.async.impl.timers.timeouts_map.put(l,t),cljs.core.async.impl.dispatch.queue_delay.call(null,function(r,l,e,c){return function(){return cljs.core.async.impl.timers.timeouts_map.remove(e),cljs.core.async.impl.protocols.close_BANG_.call(null,r)}}(t,0,l),r),t},cljs.core.async.fn_handler=function r(l){return void 0===cljs.core.async.t27990&&(cljs.core.async.t27990=function(r,l,e){this.fn_handler=r,this.f=l,this.meta27991=e,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t27990.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.t27990(this.fn_handler,this.f,l)},cljs.core.async.t27990.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta27991},cljs.core.async.t27990.prototype.cljs$core$async$impl$protocols$Handler$=!0,cljs.core.async.t27990.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(r){return!0},cljs.core.async.t27990.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(r){return this.f},cljs.core.async.t27990.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"fn-handler","fn-handler",648785851,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"meta27991","meta27991",1964812545,null)],null)},cljs.core.async.t27990.cljs$lang$type=!0,cljs.core.async.t27990.cljs$lang$ctorStr="cljs.core.async/t27990",cljs.core.async.t27990.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t27990")},cljs.core.async.__GT_t27990=function(r,l,e){return new cljs.core.async.t27990(r,l,e)}),new cljs.core.async.t27990(r,l,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.buffer=function(r){return cljs.core.async.impl.buffers.fixed_buffer.call(null,r)},cljs.core.async.dropping_buffer=function(r){return cljs.core.async.impl.buffers.dropping_buffer.call(null,r)},cljs.core.async.sliding_buffer=function(r){return cljs.core.async.impl.buffers.sliding_buffer.call(null,r)},cljs.core.async.unblocking_buffer_QMARK_=function(r){return r?!!cljs.core.truth_(cljs.core.truth_(null)?null:r.cljs$core$async$impl$protocols$UnblockingBuffer$)||!r.cljs$lang$protocol_mask$partition$&&cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,r):cljs.core.native_satisfies_QMARK_.call(null,cljs.core.async.impl.protocols.UnblockingBuffer,r)},cljs.core.async.chan=function(){switch(arguments.length){case 0:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0();case 1:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.async.chan.call(null,null)},cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.chan.call(null,r,null,null)},cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.chan.call(null,r,l,null)},cljs.core.async.chan.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r=cljs.core._EQ_.call(null,r,0)?null:r,cljs.core.truth_(l),cljs.core.async.impl.channels.chan.call(null,"number"==typeof r?cljs.core.async.buffer.call(null,r):r,l,e)},cljs.core.async.chan.cljs$lang$maxFixedArity=3,cljs.core.async.timeout=function(r){return cljs.core.async.impl.timers.timeout.call(null,r)},cljs.core.async._LT__BANG_=function(r){throw Error("<! used not in (go ...) block")},cljs.core.async.take_BANG_=function(){switch(arguments.length){case 2:return cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.take_BANG_.call(null,r,l,!0)},cljs.core.async.take_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(r=cljs.core.async.impl.protocols.take_BANG_.call(null,r,cljs.core.async.fn_handler.call(null,l)),cljs.core.truth_(r)){var c=cljs.core.deref.call(null,r);cljs.core.truth_(e)?l.call(null,c):cljs.core.async.impl.dispatch.run.call(null,function(r,e){return function(){return l.call(null,r)}}(c))}return null},cljs.core.async.take_BANG_.cljs$lang$maxFixedArity=3,cljs.core.async.nop=function(r){return null},cljs.core.async.fhnop=cljs.core.async.fn_handler.call(null,cljs.core.async.nop),cljs.core.async._GT__BANG_=function(r,l){throw Error(">! used not in (go ...) block")},cljs.core.async.put_BANG_=function(){switch(arguments.length){case 2:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core.async.impl.protocols.put_BANG_.call(null,r,l,cljs.core.async.fhnop);return!cljs.core.truth_(e)||cljs.core.deref.call(null,e)},cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.async.put_BANG_.call(null,r,l,e,!0)},cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return r=cljs.core.async.impl.protocols.put_BANG_.call(null,r,l,cljs.core.async.fn_handler.call(null,e)),!cljs.core.truth_(r)||(l=cljs.core.deref.call(null,r),cljs.core.truth_(c)?e.call(null,l):cljs.core.async.impl.dispatch.run.call(null,function(r,l,c){return function(){return e.call(null,r)}}(l)),l)},cljs.core.async.put_BANG_.cljs$lang$maxFixedArity=4,cljs.core.async.close_BANG_=function(r){return cljs.core.async.impl.protocols.close_BANG_.call(null,r)},cljs.core.async.random_array=function(r){for(var l=Array(r),e=0;e<r;)l[e]=0,e+=1;for(e=1;;){if(cljs.core._EQ_.call(null,e,r))return l;var c=cljs.core.rand_int.call(null,e);l[e]=l[c],l[c]=e,e+=1}},cljs.core.async.alt_flag=function r(){var l=cljs.core.atom.call(null,!0);return void 0===cljs.core.async.t28012&&(cljs.core.async.t28012=function(r,l,e){this.alt_flag=r,this.flag=l,this.meta28013=e,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t28012.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r){return function(r,l){return new cljs.core.async.t28012(this.alt_flag,this.flag,l)}}(),cljs.core.async.t28012.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return function(r){return this.meta28013}}(),cljs.core.async.t28012.prototype.cljs$core$async$impl$protocols$Handler$=!0,cljs.core.async.t28012.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(r){return function(r){return cljs.core.deref.call(null,this.flag)}}(),cljs.core.async.t28012.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(r){return function(r){return cljs.core.reset_BANG_.call(null,this.flag,null),!0}}(),cljs.core.async.t28012.getBasis=function(r){return function(){
return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"alt-flag","alt-flag",-1794972754,null),new cljs.core.Symbol(null,"flag","flag",-1565787888,null),new cljs.core.Symbol(null,"meta28013","meta28013",-1349822453,null)],null)}}(),cljs.core.async.t28012.cljs$lang$type=!0,cljs.core.async.t28012.cljs$lang$ctorStr="cljs.core.async/t28012",cljs.core.async.t28012.cljs$lang$ctorPrWriter=function(r){return function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t28012")}}(),cljs.core.async.__GT_t28012=function(r){return function(r,l,e){return new cljs.core.async.t28012(r,l,e)}}()),new cljs.core.async.t28012(r,l,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.alt_handler=function r(l,e){return void 0===cljs.core.async.t28018&&(cljs.core.async.t28018=function(r,l,e,c){this.alt_handler=r,this.flag=l,this.cb=e,this.meta28019=c,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t28018.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.t28018(this.alt_handler,this.flag,this.cb,l)},cljs.core.async.t28018.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta28019},cljs.core.async.t28018.prototype.cljs$core$async$impl$protocols$Handler$=!0,cljs.core.async.t28018.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(r){return cljs.core.async.impl.protocols.active_QMARK_.call(null,this.flag)},cljs.core.async.t28018.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(r){return cljs.core.async.impl.protocols.commit.call(null,this.flag),this.cb},cljs.core.async.t28018.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"alt-handler","alt-handler",963786170,null),new cljs.core.Symbol(null,"flag","flag",-1565787888,null),new cljs.core.Symbol(null,"cb","cb",-2064487928,null),new cljs.core.Symbol(null,"meta28019","meta28019",2108227040,null)],null)},cljs.core.async.t28018.cljs$lang$type=!0,cljs.core.async.t28018.cljs$lang$ctorStr="cljs.core.async/t28018",cljs.core.async.t28018.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t28018")},cljs.core.async.__GT_t28018=function(r,l,e,c){return new cljs.core.async.t28018(r,l,e,c)}),new cljs.core.async.t28018(r,l,e,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.do_alts=function(r,l,e){var c=cljs.core.async.alt_flag.call(null),t=cljs.core.count.call(null,l),n=cljs.core.async.random_array.call(null,t),s=new cljs.core.Keyword(null,"priority","priority",1431093715).cljs$core$IFn$_invoke$arity$1(e),o=function(){for(var e=0;;){if(!(e<t))return null;var o=cljs.core.truth_(s)?e:n[e],a=cljs.core.nth.call(null,l,o),i=cljs.core.vector_QMARK_.call(null,a)?a.call(null,0):null,u=cljs.core.truth_(i)?function(){var l=a.call(null,1);return cljs.core.async.impl.protocols.put_BANG_.call(null,i,l,cljs.core.async.alt_handler.call(null,c,function(l,e,c,t,n,s,o,a,i){return function(l){return r.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,n],null))}}(0,0,0,0,i)))}():cljs.core.async.impl.protocols.take_BANG_.call(null,a,cljs.core.async.alt_handler.call(null,c,function(l,e,c,t,n,s,o,a){return function(l){return r.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,c],null))}}(0,0,a)));if(cljs.core.truth_(u))return cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.deref.call(null,u),function(){var r=i;return cljs.core.truth_(r)?r:a}()],null));e+=1}}();return cljs.core.truth_(o)?o:cljs.core.contains_QMARK_.call(null,e,new cljs.core.Keyword(null,"default","default",-1987822328))?(o=function(){var r=cljs.core.async.impl.protocols.active_QMARK_.call(null,c);return cljs.core.truth_(r)?cljs.core.async.impl.protocols.commit.call(null,c):r}(),cljs.core.truth_(o)?cljs.core.async.impl.channels.box.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"default","default",-1987822328).cljs$core$IFn$_invoke$arity$1(e),new cljs.core.Keyword(null,"default","default",-1987822328)],null)):null):null},cljs.core.async.alts_BANG_=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l){throw cljs.core.seq_QMARK_.call(null,l)&&cljs.core.apply.call(null,cljs.core.hash_map,l),Error("alts! used not in (go ...) block")},cljs.core.async.alts_BANG_.cljs$lang$maxFixedArity=1,cljs.core.async.alts_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),cljs.core.async.alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.core.async.pipe=function(){switch(arguments.length){case 2:return cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.pipe.call(null,r,l,!0)},cljs.core.async.pipe.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];return 7===t?(t=c,t[2]=c[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):1===t?(c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):4===t?(t=c[7],t=c[2],c[7]=t,cljs.core.truth_(null==t)?c[1]=5:c[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):13===t?(c[2]=null,c[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===t?(t=c[7],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,c,11,l,t)):3===t?(t=c[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t)):12===t?(c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===t?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,c,4,r):11===t?(t=c[2],cljs.core.truth_(t)?c[1]=12:c[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===t?(c[2]=null,c[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(cljs.core.truth_(e)?c[1]=8:c[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===t||10===t?(t=c[2],c[2]=t,c[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(t=cljs.core.async.close_BANG_.call(null,l),c[2]=t,c[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),l},cljs.core.async.pipe.cljs$lang$maxFixedArity=3,cljs.core.async.pipeline_STAR_=function(r,l,e,c,t,n,s){for(var o=cljs.core.async.chan.call(null,r),a=cljs.core.async.chan.call(null,r),i=function(r,l){return function(r){var c=cljs.core.nth.call(null,r,0,null),t=cljs.core.nth.call(null,r,1,null);if(null==r)return cljs.core.async.close_BANG_.call(null,l),null;var s=cljs.core.async.chan.call(null,1,e,n),o=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t,n,s,o){return function(){var e=function(){return function(r,l,e,c,t,n,s,o,a){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,l,e,c,t,n,s,o){return function(r){var e=r[1];if(1===e)return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,r,2,l,c);if(2===e){var e=r[2],t=cljs.core.async.close_BANG_.call(null,l);return r[7]=e,cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,t)}return null}}(0,l,0,c))}(),t=function(){var l=e.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(o,s,0,c)),cljs.core.async.put_BANG_.call(null,t,s),!0}}(0,a),u=function(r,l,c){return function(r){var c=cljs.core.nth.call(null,r,0,null),t=cljs.core.nth.call(null,r,1,null);return null==r?(cljs.core.async.close_BANG_.call(null,l),null):(r=cljs.core.async.chan.call(null,1),e.call(null,c,r),cljs.core.async.put_BANG_.call(null,t,r),!0)}}(0,a),$=0;$<r;){var j=s instanceof cljs.core.Keyword?s.fqn:null;switch(j){case"compute":var _=cljs.core.async.chan.call(null,1);cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t,n,s,o){return function(){var r=function(){var r=function(r,l,e,c,t,n,s,o){return function(r){var l=r[1];return 1===l?(r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===l?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,4,t):3===l?(l=r[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,l)):4===l?(l=s.call(null,r[2]),cljs.core.truth_(l)?r[1]=5:r[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===l?(r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===l?(r[2]=null,r[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):7===l?(l=r[2],r[2]=l,r[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,0,0,0,t,0,s);return function(r,l,e,c,t,n,s,o,a){return function(){var r=null,e=function(){var l=[null,null,null,null,null,null,null];return l[0]=r,l[1]=1,l},c=function(r){for(;;){var e;r:try{for(;;){var c=l.call(null,r);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(l){if(!(l instanceof Object))throw l;r[5]=l,cljs.core.async.impl.ioc_helpers.process_exception.call(null,r),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},r=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$0=e,r.cljs$core$IFn$_invoke$arity$1=c,r}()}(0,r)}(),e=function(){var e=r.call(null);return e[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=l,e}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,e)}}(0,_,0,0,o,0,i));break;case"async":_=cljs.core.async.chan.call(null,1),cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,c,t,n,s,o){return function(){var r=function(){var r=function(r,l,e,c,t,n,s,o){return function(r){var l=r[1];return 1===l?(r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===l?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,4,t):3===l?(l=r[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,l)):4===l?(l=o.call(null,r[2]),cljs.core.truth_(l)?r[1]=5:r[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===l?(r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===l?(r[2]=null,r[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):7===l?(l=r[2],r[2]=l,r[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,0,0,0,t,0,0,o);return function(r,l,e,c,t,n,s,o,a){return function(){var r=null,e=function(){var l=[null,null,null,null,null,null,null];return l[0]=r,l[1]=1,l},c=function(r){for(;;){var e;r:try{for(;;){var c=l.call(null,r);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(l){if(!(l instanceof Object))throw l;r[5]=l,cljs.core.async.impl.ioc_helpers.process_exception.call(null,r),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},r=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$0=e,r.cljs$core$IFn$_invoke$arity$1=c,r}()}(0,r)}(),e=function(){var e=r.call(null);return e[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=l,e}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,e)}}(0,_,0,0,o,0,0,u));break;default:throw Error([cljs.core.str("No matching clause: "),cljs.core.str(s)].join(""))}$+=1}return r=cljs.core.async.chan.call(null,1),cljs.core.async.impl.dispatch.run.call(null,function(r,l,e,t,n){return function(){var t=function(){return function(r,l,e,c,t,n){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,l,e,t,n){return function(r){var t=r[1];if(1===t)return r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===t)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,4,c);if(3===t)return t=r[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,t);if(4===t)return t=r[7],t=r[2],r[7]=t,cljs.core.truth_(null==t)?r[1]=5:r[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(5===t)return t=cljs.core.async.close_BANG_.call(null,l),r[2]=t,r[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===t){var t=r[7],n=r[8],n=cljs.core.async.chan.call(null,1),t=new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[t,n],null);return r[8]=n,cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,r,8,l,t)}return 7===t?(t=r[2],r[2]=t,r[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(n=r[8],r[9]=r[2],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,r,9,e,n)):9===t?(r[10]=r[2],r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,l,e))}(),n=function(){var l=t.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(r,o,a)),r=cljs.core.async.chan.call(null,1),cljs.core.async.impl.dispatch.run.call(null,function(r,e,c,n,s){return function(){var e=function(){return function(r,l,e,c,t,n){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,e,c,n,s){return function(r){var e=r[1];if(7===e)return e=r,e[2]=r[2],e[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===e)return r[2]=null,r[1]=21,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===e)return r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===e)return e=r[7],e=r[2],r[7]=e,cljs.core.truth_(null==e)?r[1]=5:r[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(15===e)return e=r[8],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,r,18,l,e);if(21===e)return e=r[2],r[2]=e,r[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===e)return r[9]=r[2],r[2]=null,r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===e)return e=r[7],cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,11,e);if(17===e)return e=r[2],cljs.core.truth_(e)?r[1]=19:r[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===e)return e=r[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,e);if(12===e)return e=r[10],cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,14,e);if(2===e)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,r,4,c);if(19===e)return r[2]=null,r[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268);if(11===e)return e=r[2],r[10]=e,r[2]=null,r[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268);if(9===e)return r[2]=null,r[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268);if(5===e)return cljs.core.truth_(t)?r[1]=8:r[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(14===e){var e=r[11],e=r[2],n=cljs.core.not.call(null,null==e);return r[11]=n,r[8]=e,r[1]=n?15:16,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 16===e?(e=r[11],r[2]=e,r[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===e?(e=r[2],r[2]=e,r[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):18===e?(e=r[2],r[2]=e,r[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===e?(e=cljs.core.async.close_BANG_.call(null,l),r[2]=e,r[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,0,c))}(),n=function(){var l=e.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(r,0,a)),r},cljs.core.async.pipeline_async=function(){switch(arguments.length){case 4:return cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.async.pipeline_async.call(null,r,l,e,c,!0)},cljs.core.async.pipeline_async.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return cljs.core.async.pipeline_STAR_.call(null,r,l,e,c,t,null,new cljs.core.Keyword(null,"async","async",1050769601))},cljs.core.async.pipeline_async.cljs$lang$maxFixedArity=5,cljs.core.async.pipeline=function(){switch(arguments.length){case 4:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.async.pipeline.call(null,r,l,e,c,!0)},cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return cljs.core.async.pipeline.call(null,r,l,e,c,t,null)},cljs.core.async.pipeline.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return cljs.core.async.pipeline_STAR_.call(null,r,l,e,c,t,n,new cljs.core.Keyword(null,"compute","compute",1555393130))},cljs.core.async.pipeline.cljs$lang$maxFixedArity=6,cljs.core.async.split=function(){switch(arguments.length){case 2:return cljs.core.async.split.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 4:return cljs.core.async.split.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.split.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.split.call(null,r,l,null,null)},cljs.core.async.split.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){e=cljs.core.async.chan.call(null,e),c=cljs.core.async.chan.call(null,c);var t=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c,t){return function(){var n=function(){return function(r,l,e,c){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c,t){return function(e){var n=e[1];if(7===n)return n=e,n[2]=e[2],n[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===n)return e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===n)return n=e[7],n=e[2],e[7]=n,cljs.core.truth_(null==n)?e[1]=5:e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===n)return e[2]=null,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===n)return n=e[7],n=r.call(null,n),cljs.core.truth_(n)?e[1]=9:e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===n)return n=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,n);if(12===n)return e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===n)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,4,l);if(11===n){var n=e[7],s=e[2];return cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,8,s,n)}return 9===n?(e[2]=c,e[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===n?(s=cljs.core.async.close_BANG_.call(null,c),n=cljs.core.async.close_BANG_.call(null,t),e[8]=s,e[2]=n,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===n?(n=e[2],e[2]=n,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===n?(e[2]=t,e[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===n?(n=e[2],cljs.core.truth_(n)?e[1]=12:e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,c,t))}(),s=function(){var r=n.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,s)}}(t,e,c)),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c],null)},cljs.core.async.split.cljs$lang$maxFixedArity=4,cljs.core.async.reduce=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];if(1===t)return t=l,c[7]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===t)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,c,4,e);if(3===t)return t=c[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t);if(4===t){var n=c[8],t=c[2];return c[8]=t,cljs.core.truth_(null==t)?c[1]=5:c[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 5===t?(t=c[7],c[2]=t,c[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===t?(t=c[7],n=c[8],t=r.call(null,t,n),c[7]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):7===t?(t=c[2],c[2]=t,c[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),c},cljs.core.async.onto_chan=function(){switch(arguments.length){case 2:return cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.onto_chan.call(null,r,l,!0)},cljs.core.async.onto_chan.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];return 7===t?(t=c,t[2]=c[2],t[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):1===t?(t=cljs.core.seq.call(null,l),c[7]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):4===t?(t=c[7],t=cljs.core.first.call(null,t),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,c,7,r,t)):13===t?(t=c[2],c[2]=t,c[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===t?(t=c[2],cljs.core.truth_(t)?c[1]=8:c[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===t?(t=c[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t)):12===t?(c[2]=null,c[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===t?(t=c[7],cljs.core.truth_(t)?c[1]=4:c[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===t?(t=cljs.core.async.close_BANG_.call(null,r),c[2]=t,c[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===t?(cljs.core.truth_(e)?c[1]=11:c[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(t=c[7],c[2]=t,c[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(t=c[2],c[2]=t,c[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(t=c[7],t=cljs.core.next.call(null,t),c[7]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),c},cljs.core.async.onto_chan.cljs$lang$maxFixedArity=3,cljs.core.async.to_chan=function(r){var l=cljs.core.async.chan.call(null,cljs.core.bounded_count.call(null,100,r));return cljs.core.async.onto_chan.call(null,l,r),l},cljs.core.async.Mux=function(){return{}}(),cljs.core.async.muxch_STAR_=function(r){if(r?r.cljs$core$async$Mux$muxch_STAR_$arity$1:r)return r.cljs$core$async$Mux$muxch_STAR_$arity$1(r);var l;if(!(l=cljs.core.async.muxch_STAR_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.muxch_STAR_._))throw cljs.core.missing_protocol.call(null,"Mux.muxch*",r);return l.call(null,r)},cljs.core.async.Mult=function(){return{}}(),cljs.core.async.tap_STAR_=function(r,l,e){if(r?r.cljs$core$async$Mult$tap_STAR_$arity$3:r)return r.cljs$core$async$Mult$tap_STAR_$arity$3(r,l,e);var c;if(!(c=cljs.core.async.tap_STAR_[goog.typeOf(null==r?null:r)])&&!(c=cljs.core.async.tap_STAR_._))throw cljs.core.missing_protocol.call(null,"Mult.tap*",r);return c.call(null,r,l,e)},cljs.core.async.untap_STAR_=function(r,l){if(r?r.cljs$core$async$Mult$untap_STAR_$arity$2:r)return r.cljs$core$async$Mult$untap_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.untap_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.untap_STAR_._))throw cljs.core.missing_protocol.call(null,"Mult.untap*",r);return e.call(null,r,l)},cljs.core.async.untap_all_STAR_=function(r){if(r?r.cljs$core$async$Mult$untap_all_STAR_$arity$1:r)return r.cljs$core$async$Mult$untap_all_STAR_$arity$1(r);var l;if(!(l=cljs.core.async.untap_all_STAR_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.untap_all_STAR_._))throw cljs.core.missing_protocol.call(null,"Mult.untap-all*",r);return l.call(null,r)},cljs.core.async.mult=function r(l){var e=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY),c=function(){return void 0===cljs.core.async.t28959&&(cljs.core.async.t28959=function(r,l,e,c){this.mult=r,this.ch=l,this.cs=e,this.meta28960=c,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},
cljs.core.async.t28959.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r){return function(r,l){return new cljs.core.async.t28959(this.mult,this.ch,this.cs,l)}}(),cljs.core.async.t28959.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return function(r){return this.meta28960}}(),cljs.core.async.t28959.prototype.cljs$core$async$Mux$=!0,cljs.core.async.t28959.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(r){return function(r){return this.ch}}(),cljs.core.async.t28959.prototype.cljs$core$async$Mult$=!0,cljs.core.async.t28959.prototype.cljs$core$async$Mult$tap_STAR_$arity$3=function(r){return function(r,l,e){return cljs.core.swap_BANG_.call(null,this.cs,cljs.core.assoc,l,e),null}}(),cljs.core.async.t28959.prototype.cljs$core$async$Mult$untap_STAR_$arity$2=function(r){return function(r,l){return cljs.core.swap_BANG_.call(null,this.cs,cljs.core.dissoc,l),null}}(),cljs.core.async.t28959.prototype.cljs$core$async$Mult$untap_all_STAR_$arity$1=function(r){return function(r){return cljs.core.reset_BANG_.call(null,this.cs,cljs.core.PersistentArrayMap.EMPTY),null}}(),cljs.core.async.t28959.getBasis=function(r){return function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"mult","mult",-1187640995,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"cs","cs",-117024463,null),new cljs.core.Symbol(null,"meta28960","meta28960",-1340373376,null)],null)}}(),cljs.core.async.t28959.cljs$lang$type=!0,cljs.core.async.t28959.cljs$lang$ctorStr="cljs.core.async/t28959",cljs.core.async.t28959.cljs$lang$ctorPrWriter=function(r){return function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t28959")}}(),cljs.core.async.__GT_t28959=function(r){return function(r,l,e,c){return new cljs.core.async.t28959(r,l,e,c)}}()),new cljs.core.async.t28959(r,l,e,cljs.core.PersistentArrayMap.EMPTY)}(),t=cljs.core.async.chan.call(null,1),n=cljs.core.atom.call(null,null),s=function(r,l,e,c){return function(r){return 0===cljs.core.swap_BANG_.call(null,c,cljs.core.dec)?cljs.core.async.put_BANG_.call(null,e,!0):null}}(0,0,t,n),o=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(r,e,c,t,n,s){return function(){var o=function(){return function(r,l,e,c,t,n,s){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,e,c,t,n,s){return function(r){var o=r[1];if(7===o){var a=r,i=a;return i[2]=r[2],i[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(20===o){var u=r[7],$=cljs.core.first.call(null,u),j=cljs.core.nth.call(null,$,0,null),_=cljs.core.nth.call(null,$,1,null);return r[8]=j,a=r,cljs.core.truth_(_)?a[1]=22:a[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(27===o){var p=r[9],d=r[10],y=r[11],f=r[12],h=cljs.core._nth.call(null,f,p),v=cljs.core.async.put_BANG_.call(null,h,d,s);return r[11]=h,a=r,cljs.core.truth_(v)?a[1]=30:a[1]=31,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===o){var w=a=r;return w[2]=null,w[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(24===o){var u=r[7],m=r[2],g=cljs.core.next.call(null,u),I=null,k=0,A=0;r[13]=g,r[14]=A,r[15]=k,r[16]=I,r[17]=m;var b=a=r;return b[2]=null,b[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(39===o){var F=a=r;return F[2]=null,F[1]=41,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(4===o){var d=r[10],P=r[2],S=null==P;return r[10]=P,a=r,cljs.core.truth_(S)?a[1]=5:a[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(15===o){var g=r[13],A=r[14],k=r[15],I=r[16],T=r[2],R=I,E=k,M=A+1;r[13]=g,r[14]=M,r[15]=E,r[16]=R,r[18]=T;var x=a=r;return x[2]=null,x[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(21===o){var K=r[2],q=a=r;return q[2]=K,q[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(31===o){var y=r[11],N=s.call(null,null),V=cljs.core.async.untap_STAR_.call(null,c,y);r[19]=N;var B=a=r;return B[2]=V,B[1]=32,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(32===o){var O=r[20],p=r[9],Q=r[21],f=r[12],D=r[2],Y=Q,C=f,L=p+1;r[20]=O,r[9]=L,r[22]=D,r[21]=Y,r[12]=C;var G=a=r;return G[2]=null,G[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(40===o){var W=r[23],H=s.call(null,null),U=cljs.core.async.untap_STAR_.call(null,c,W);r[24]=H;var z=a=r;return z[2]=U,z[1]=41,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(33===o){var X=r[25],J=cljs.core.chunked_seq_QMARK_.call(null,X),a=r;return a[1]=J?36:37,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(13===o){var Z=r[26],rr=cljs.core.async.close_BANG_.call(null,Z),lr=a=r;return lr[2]=rr,lr[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(22===o){var j=r[8],er=cljs.core.async.close_BANG_.call(null,j),cr=a=r;return cr[2]=er,cr[1]=24,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(36===o){var X=r[25],tr=cljs.core.chunk_first.call(null,X),nr=cljs.core.chunk_rest.call(null,X),sr=cljs.core.count.call(null,tr),Q=nr,f=tr,O=sr,p=0;r[20]=O,r[9]=p,r[21]=Q,r[12]=f;var or=a=r;return or[2]=null,or[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(41===o){var X=r[25],ar=r[2],Q=cljs.core.next.call(null,X),f=null,p=O=0;r[20]=O,r[27]=ar,r[9]=p,r[21]=Q,r[12]=f;var ir=a=r;return ir[2]=null,ir[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(43===o){var ur=a=r;return ur[2]=null,ur[1]=44,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(29===o){var $r=r[2],jr=a=r;return jr[2]=$r,jr[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(44===o){r[28]=r[2];var _r=a=r;return _r[2]=null,_r[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(6===o){var pr=r[29],dr=cljs.core.deref.call(null,e),yr=cljs.core.keys.call(null,dr),fr=cljs.core.count.call(null,yr),hr=cljs.core.reset_BANG_.call(null,n,fr),Q=cljs.core.seq.call(null,yr),f=null,p=O=0;r[29]=yr,r[20]=O,r[9]=p,r[30]=hr,r[21]=Q,r[12]=f;var vr=a=r;return vr[2]=null,vr[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(28===o){var X=r[25],Q=r[21],wr=cljs.core.seq.call(null,Q);return r[25]=wr,a=r,a[1]=wr?33:34,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(25===o){var O=r[20],p=r[9],mr=p<O,a=r;return cljs.core.truth_(mr)?a[1]=27:a[1]=28,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(34===o){var gr=a=r;return gr[2]=null,gr[1]=35,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(17===o){var Ir=a=r;return Ir[2]=null,Ir[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(3===o){var kr=r[2],a=r;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,a,kr)}if(12===o){var Ar=r[2],br=a=r;return br[2]=Ar,br[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(2===o)return a=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,a,4,l);if(23===o){var Fr=a=r;return Fr[2]=null,Fr[1]=24,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(35===o){var Pr=r[2],Sr=a=r;return Sr[2]=Pr,Sr[1]=29,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(19===o){var u=r[7],Tr=cljs.core.chunk_first.call(null,u),Rr=cljs.core.chunk_rest.call(null,u),Er=cljs.core.count.call(null,Tr),g=Rr,I=Tr,k=Er,A=0;r[13]=g,r[14]=A,r[15]=k,r[16]=I;var Mr=a=r;return Mr[2]=null,Mr[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(11===o){var g=r[13],u=r[7],xr=cljs.core.seq.call(null,g);return r[7]=xr,a=r,a[1]=xr?16:17,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(9===o){var Kr=r[2],qr=a=r;return qr[2]=Kr,qr[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(5===o){var Nr=cljs.core.deref.call(null,e),g=cljs.core.seq.call(null,Nr),I=null,A=k=0;r[13]=g,r[14]=A,r[15]=k,r[16]=I;var Vr=a=r;return Vr[2]=null,Vr[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(14===o){var Br=a=r;return Br[2]=null,Br[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(45===o){var Or=r[2],Qr=a=r;return Qr[2]=Or,Qr[1]=44,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(26===o){var pr=r[29],Dr=r[2],Yr=cljs.core.seq.call(null,pr);return r[31]=Dr,a=r,a[1]=Yr?42:43,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(16===o){var u=r[7],Cr=cljs.core.chunked_seq_QMARK_.call(null,u),a=r;return a[1]=Cr?19:20,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(38===o){var Lr=r[2],Gr=a=r;return Gr[2]=Lr,Gr[1]=35,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(30===o){var Wr=a=r;return Wr[2]=null,Wr[1]=32,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(10===o){var A=r[14],I=r[16],Hr=cljs.core._nth.call(null,I,A),Z=cljs.core.nth.call(null,Hr,0,null),Ur=cljs.core.nth.call(null,Hr,1,null);return r[26]=Z,a=r,cljs.core.truth_(Ur)?a[1]=13:a[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(18===o){var zr=r[2],Xr=a=r;return Xr[2]=zr,Xr[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(42===o)return a=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,a,45,t);if(37===o){var d=r[10],W=r[23],X=r[25],Jr=cljs.core.first.call(null,X),Zr=cljs.core.async.put_BANG_.call(null,Jr,d,s);return r[23]=Jr,a=r,cljs.core.truth_(Zr)?a[1]=39:a[1]=40,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(8===o){var A=r[14],k=r[15],rl=A<k,a=r;return cljs.core.truth_(rl)?a[1]=10:a[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)}return null}}(0,e,c,t,n,s))}(),a=function(){var l=o.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,a)}}(o,e,c,t,n,s)),c},cljs.core.async.tap=function(){switch(arguments.length){case 2:return cljs.core.async.tap.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.tap.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.tap.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.tap.call(null,r,l,!0)},cljs.core.async.tap.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.async.tap_STAR_.call(null,r,l,e),l},cljs.core.async.tap.cljs$lang$maxFixedArity=3,cljs.core.async.untap=function(r,l){return cljs.core.async.untap_STAR_.call(null,r,l)},cljs.core.async.untap_all=function(r){return cljs.core.async.untap_all_STAR_.call(null,r)},cljs.core.async.Mix=function(){return{}}(),cljs.core.async.admix_STAR_=function(r,l){if(r?r.cljs$core$async$Mix$admix_STAR_$arity$2:r)return r.cljs$core$async$Mix$admix_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.admix_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.admix_STAR_._))throw cljs.core.missing_protocol.call(null,"Mix.admix*",r);return e.call(null,r,l)},cljs.core.async.unmix_STAR_=function(r,l){if(r?r.cljs$core$async$Mix$unmix_STAR_$arity$2:r)return r.cljs$core$async$Mix$unmix_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.unmix_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.unmix_STAR_._))throw cljs.core.missing_protocol.call(null,"Mix.unmix*",r);return e.call(null,r,l)},cljs.core.async.unmix_all_STAR_=function(r){if(r?r.cljs$core$async$Mix$unmix_all_STAR_$arity$1:r)return r.cljs$core$async$Mix$unmix_all_STAR_$arity$1(r);var l;if(!(l=cljs.core.async.unmix_all_STAR_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.unmix_all_STAR_._))throw cljs.core.missing_protocol.call(null,"Mix.unmix-all*",r);return l.call(null,r)},cljs.core.async.toggle_STAR_=function(r,l){if(r?r.cljs$core$async$Mix$toggle_STAR_$arity$2:r)return r.cljs$core$async$Mix$toggle_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.toggle_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.toggle_STAR_._))throw cljs.core.missing_protocol.call(null,"Mix.toggle*",r);return e.call(null,r,l)},cljs.core.async.solo_mode_STAR_=function(r,l){if(r?r.cljs$core$async$Mix$solo_mode_STAR_$arity$2:r)return r.cljs$core$async$Mix$solo_mode_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.solo_mode_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.solo_mode_STAR_._))throw cljs.core.missing_protocol.call(null,"Mix.solo-mode*",r);return e.call(null,r,l)},cljs.core.async.ioc_alts_BANG_=function(){var r=3<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,3),0):null;return cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],r)},cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e,c){var t=cljs.core.seq_QMARK_.call(null,c)?cljs.core.apply.call(null,cljs.core.hash_map,c):c;return r[cljs.core.async.impl.ioc_helpers.STATE_IDX]=l,l=cljs.core.async.do_alts.call(null,function(l,e,c){return function(l){return r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=l,cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,r)}}(),e,t),cljs.core.truth_(l)?(r[cljs.core.async.impl.ioc_helpers.VALUE_IDX]=cljs.core.deref.call(null,l),new cljs.core.Keyword(null,"recur","recur",-437573268)):null},cljs.core.async.ioc_alts_BANG_.cljs$lang$maxFixedArity=3,cljs.core.async.ioc_alts_BANG_.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);r=cljs.core.first.call(null,e);var c=cljs.core.next.call(null,e),e=cljs.core.first.call(null,c),c=cljs.core.next.call(null,c);return cljs.core.async.ioc_alts_BANG_.cljs$core$IFn$_invoke$arity$variadic(l,r,e,c)},cljs.core.async.mix=function r(l){var e=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY),c=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pause","pause",-2095325672),null,new cljs.core.Keyword(null,"mute","mute",1151223646),null],null),null),t=cljs.core.conj.call(null,c,new cljs.core.Keyword(null,"solo","solo",-316350075)),n=cljs.core.atom.call(null,new cljs.core.Keyword(null,"mute","mute",1151223646)),s=cljs.core.async.chan.call(null),o=function(r,l,e,c,t){return function(){return cljs.core.async.put_BANG_.call(null,t,!0)}}(0,0,0,0,s),a=function(r,l,e,c,t,n){return function(r,l){return cljs.core.reduce_kv.call(null,function(l,e,c,t,n,s){return function(l,e,c){return cljs.core.truth_(r.call(null,c))?cljs.core.conj.call(null,l,e):l}}(),cljs.core.PersistentHashSet.EMPTY,l)}}(),i=function(r,l,e,c,t,n,s){return function(){var l=cljs.core.deref.call(null,r),e=cljs.core.deref.call(null,c),n=s.call(null,new cljs.core.Keyword(null,"solo","solo",-316350075),l),o=s.call(null,new cljs.core.Keyword(null,"pause","pause",-2095325672),l);return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"solos","solos",1441458643),n,new cljs.core.Keyword(null,"mutes","mutes",1068806309),s.call(null,new cljs.core.Keyword(null,"mute","mute",1151223646),l),new cljs.core.Keyword(null,"reads","reads",-1215067361),cljs.core.conj.call(null,cljs.core._EQ_.call(null,e,new cljs.core.Keyword(null,"pause","pause",-2095325672))&&!cljs.core.empty_QMARK_.call(null,n)?cljs.core.vec.call(null,n):cljs.core.vec.call(null,cljs.core.remove.call(null,o,cljs.core.keys.call(null,l))),t)],null)}}(e,0,0,n,s,0,a),u=function(){return void 0===cljs.core.async.t29373&&(cljs.core.async.t29373=function(r,l,e,c,t,n,s,o,a,i,u){this.change=r,this.mix=l,this.solo_mode=e,this.pick=c,this.cs=t,this.calc_state=n,this.out=s,this.changed=o,this.solo_modes=a,this.attrs=i,this.meta29374=u,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29373.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l,e,c,t,n,s,o){return function(r,l){return new cljs.core.async.t29373(this.change,this.mix,this.solo_mode,this.pick,this.cs,this.calc_state,this.out,this.changed,this.solo_modes,this.attrs,l)}}(),cljs.core.async.t29373.prototype.cljs$core$IMeta$_meta$arity$1=function(r,l,e,c,t,n,s,o){return function(r){return this.meta29374}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mux$=!0,cljs.core.async.t29373.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(r,l,e,c,t,n,s,o){return function(r){return this.out}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mix$=!0,cljs.core.async.t29373.prototype.cljs$core$async$Mix$admix_STAR_$arity$2=function(r,l,e,c,t,n,s,o){return function(r,l){return cljs.core.swap_BANG_.call(null,this.cs,cljs.core.assoc,l,cljs.core.PersistentArrayMap.EMPTY),this.changed.call(null)}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mix$unmix_STAR_$arity$2=function(r,l,e,c,t,n,s,o){return function(r,l){return cljs.core.swap_BANG_.call(null,this.cs,cljs.core.dissoc,l),this.changed.call(null)}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mix$unmix_all_STAR_$arity$1=function(r,l,e,c,t,n,s,o){return function(r){return cljs.core.reset_BANG_.call(null,this.cs,cljs.core.PersistentArrayMap.EMPTY),this.changed.call(null)}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mix$toggle_STAR_$arity$2=function(r,l,e,c,t,n,s,o){return function(r,l){return cljs.core.swap_BANG_.call(null,this.cs,cljs.core.partial.call(null,cljs.core.merge_with,cljs.core.merge),l),this.changed.call(null)}}(),cljs.core.async.t29373.prototype.cljs$core$async$Mix$solo_mode_STAR_$arity$2=function(r,l,e,c,t,n,s,o){return function(r,l){return cljs.core.reset_BANG_.call(null,this.solo_mode,l),this.changed.call(null)}}(),cljs.core.async.t29373.getBasis=function(r,l,e,c,t,n,s,o){return function(){return new cljs.core.PersistentVector(null,11,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"change","change",477485025,null),new cljs.core.Symbol(null,"mix","mix",2121373763,null),new cljs.core.Symbol(null,"solo-mode","solo-mode",2031788074,null),new cljs.core.Symbol(null,"pick","pick",1300068175,null),new cljs.core.Symbol(null,"cs","cs",-117024463,null),new cljs.core.Symbol(null,"calc-state","calc-state",-349968968,null),new cljs.core.Symbol(null,"out","out",729986010,null),new cljs.core.Symbol(null,"changed","changed",-2083710852,null),new cljs.core.Symbol(null,"solo-modes","solo-modes",882180540,null),new cljs.core.Symbol(null,"attrs","attrs",-450137186,null),new cljs.core.Symbol(null,"meta29374","meta29374",82112118,null)],null)}}(),cljs.core.async.t29373.cljs$lang$type=!0,cljs.core.async.t29373.cljs$lang$ctorStr="cljs.core.async/t29373",cljs.core.async.t29373.cljs$lang$ctorPrWriter=function(r,l,e,c,t,n,s,o){return function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29373")}}(),cljs.core.async.__GT_t29373=function(r,l,e,c,t,n,s,o){return function(r,l,e,c,t,n,s,o,a,i,u){return new cljs.core.async.t29373(r,l,e,c,t,n,s,o,a,i,u)}}()),new cljs.core.async.t29373(s,r,n,a,e,i,l,o,c,t,cljs.core.PersistentArrayMap.EMPTY)}(),$=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(r,e,c,t,n,s,o,a,i,u){return function(){var c=function(){return function(r,l,e,c,t,n,s,o,a,i,u){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,e,c,t,n,s,o,a,i,u){return function(r){var c=r[1];if(7===c)return c=r[7],c=cljs.core.apply.call(null,cljs.core.hash_map,c),r[2]=c,r[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===c)return c=r[8],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,r,23,l,c);if(1===c){var c=r[9],c=i.call(null),t=cljs.core.seq_QMARK_.call(null,c);return r[9]=c,r[1]=t?2:3,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(24===c)return c=r[10],r[7]=c,r[2]=null,r[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===c){var c=r[9],n=r[2],t=cljs.core.get.call(null,n,new cljs.core.Keyword(null,"solos","solos",1441458643)),o=cljs.core.get.call(null,n,new cljs.core.Keyword(null,"mutes","mutes",1068806309)),n=cljs.core.get.call(null,n,new cljs.core.Keyword(null,"reads","reads",-1215067361));return r[11]=o,r[12]=t,r[13]=n,r[7]=c,r[2]=null,r[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 15===c?(r[2]=null,r[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268)):21===c?(c=r[10],r[7]=c,r[2]=null,r[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):13===c?(c=r[2],r[2]=c,r[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):22===c?(c=r[2],r[2]=c,r[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===c?(c=r[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,r,c)):25===c?(r[2]=null,r[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268)):17===c?(c=r[14],r[2]=c,r[1]=19,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===c?(c=r[9],r[2]=c,r[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):12===c?(t=r[15],o=r[16],c=t.call(null,o),r[14]=c,cljs.core.truth_(c)?r[1]=17:r[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===c?(c=r[9],c=cljs.core.apply.call(null,cljs.core.hash_map,c),r[2]=c,r[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):23===c?(c=r[2],cljs.core.truth_(c)?r[1]=24:r[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)):19===c?(c=r[2],cljs.core.truth_(c)?r[1]=20:r[1]=21,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===c?(c=r[8],cljs.core.truth_(null==c)?r[1]=14:r[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(o=r[2],t=cljs.core.get.call(null,o,new cljs.core.Keyword(null,"solos","solos",1441458643)),c=cljs.core.get.call(null,o,new cljs.core.Keyword(null,"mutes","mutes",1068806309)),n=cljs.core.get.call(null,o,new cljs.core.Keyword(null,"reads","reads",-1215067361)),r[10]=o,r[15]=t,r[17]=c,cljs.core.async.ioc_alts_BANG_.call(null,r,10,n)):5===c?(c=r[7],c=cljs.core.seq_QMARK_.call(null,c),r[1]=c?7:8,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===c?(o=r[16],c=cljs.core.swap_BANG_.call(null,e,cljs.core.dissoc,o),r[2]=c,r[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268)):26===c?(c=r[2],r[2]=c,r[1]=22,new cljs.core.Keyword(null,"recur","recur",-437573268)):16===c?(t=r[2],c=i.call(null),r[7]=c,r[18]=t,r[2]=null,r[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===c?(t=r[2],c=cljs.core.nth.call(null,t,0,null),n=cljs.core.nth.call(null,t,1,null),t=null==c,o=cljs.core._EQ_.call(null,n,s),r[8]=c,r[16]=n,cljs.core.truth_(t||o)?r[1]=11:r[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)):18===c?(t=r[15],c=r[17],o=r[16],t=cljs.core.empty_QMARK_.call(null,t),c=c.call(null,o),c=cljs.core.not.call(null,c),r[2]=t&&c,r[1]=19,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(c=r[7],r[2]=c,r[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,e,0,0,0,s,0,0,i))}(),t=function(){var l=c.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}($,e,0,0,0,s,0,0,i)),u},cljs.core.async.admix=function(r,l){return cljs.core.async.admix_STAR_.call(null,r,l)},cljs.core.async.unmix=function(r,l){return cljs.core.async.unmix_STAR_.call(null,r,l)},cljs.core.async.unmix_all=function(r){return cljs.core.async.unmix_all_STAR_.call(null,r)},cljs.core.async.toggle=function(r,l){return cljs.core.async.toggle_STAR_.call(null,r,l)},cljs.core.async.solo_mode=function(r,l){return cljs.core.async.solo_mode_STAR_.call(null,r,l)},cljs.core.async.Pub=function(){return{}}(),cljs.core.async.sub_STAR_=function(r,l,e,c){if(r?r.cljs$core$async$Pub$sub_STAR_$arity$4:r)return r.cljs$core$async$Pub$sub_STAR_$arity$4(r,l,e,c);var t;if(!(t=cljs.core.async.sub_STAR_[goog.typeOf(null==r?null:r)])&&!(t=cljs.core.async.sub_STAR_._))throw cljs.core.missing_protocol.call(null,"Pub.sub*",r);return t.call(null,r,l,e,c)},cljs.core.async.unsub_STAR_=function(r,l,e){if(r?r.cljs$core$async$Pub$unsub_STAR_$arity$3:r)return r.cljs$core$async$Pub$unsub_STAR_$arity$3(r,l,e);var c;if(!(c=cljs.core.async.unsub_STAR_[goog.typeOf(null==r?null:r)])&&!(c=cljs.core.async.unsub_STAR_._))throw cljs.core.missing_protocol.call(null,"Pub.unsub*",r);return c.call(null,r,l,e)},cljs.core.async.unsub_all_STAR_=function(){switch(arguments.length){case 1:return cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$1=function(r){if(r?r.cljs$core$async$Pub$unsub_all_STAR_$arity$1:r)return r.cljs$core$async$Pub$unsub_all_STAR_$arity$1(r);var l;if(!(l=cljs.core.async.unsub_all_STAR_[goog.typeOf(null==r?null:r)])&&!(l=cljs.core.async.unsub_all_STAR_._))throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",r);return l.call(null,r)},cljs.core.async.unsub_all_STAR_.cljs$core$IFn$_invoke$arity$2=function(r,l){if(r?r.cljs$core$async$Pub$unsub_all_STAR_$arity$2:r)return r.cljs$core$async$Pub$unsub_all_STAR_$arity$2(r,l);var e;if(!(e=cljs.core.async.unsub_all_STAR_[goog.typeOf(null==r?null:r)])&&!(e=cljs.core.async.unsub_all_STAR_._))throw cljs.core.missing_protocol.call(null,"Pub.unsub-all*",r);return e.call(null,r,l)},cljs.core.async.unsub_all_STAR_.cljs$lang$maxFixedArity=2,cljs.core.async.pub=function(){switch(arguments.length){case 2:return cljs.core.async.pub.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.pub.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.pub.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.pub.call(null,r,l,cljs.core.constantly.call(null,null))},cljs.core.async.pub.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY),t=function(r){return function(l){var c=cljs.core.get.call(null,cljs.core.deref.call(null,r),l);return cljs.core.truth_(c)?c:cljs.core.get.call(null,cljs.core.swap_BANG_.call(null,r,function(r,c){return function(r){return cljs.core.truth_(r.call(null,l))?r:cljs.core.assoc.call(null,r,l,cljs.core.async.mult.call(null,cljs.core.async.chan.call(null,e.call(null,l))))}}()),l)}}(c),n=function(){return void 0===cljs.core.async.t29533&&(cljs.core.async.t29533=function(r,l,e,c,t,n){this.ch=r,this.topic_fn=l,this.buf_fn=e,this.mults=c,this.ensure_mult=t,this.meta29534=n,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29533.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return function(r,l){return new cljs.core.async.t29533(this.ch,this.topic_fn,this.buf_fn,this.mults,this.ensure_mult,l)}}(),cljs.core.async.t29533.prototype.cljs$core$IMeta$_meta$arity$1=function(r,l){return function(r){return this.meta29534}}(),cljs.core.async.t29533.prototype.cljs$core$async$Mux$=!0,cljs.core.async.t29533.prototype.cljs$core$async$Mux$muxch_STAR_$arity$1=function(r,l){return function(r){return this.ch}}(),cljs.core.async.t29533.prototype.cljs$core$async$Pub$=!0,cljs.core.async.t29533.prototype.cljs$core$async$Pub$sub_STAR_$arity$4=function(r,l){return function(r,l,e,c){return r=this.ensure_mult.call(null,l),cljs.core.async.tap.call(null,r,e,c)}}(),cljs.core.async.t29533.prototype.cljs$core$async$Pub$unsub_STAR_$arity$3=function(r,l){return function(r,l,e){return r=cljs.core.get.call(null,cljs.core.deref.call(null,this.mults),l),cljs.core.truth_(r)?cljs.core.async.untap.call(null,r,e):null}}(),cljs.core.async.t29533.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$1=function(r,l){return function(r){return cljs.core.reset_BANG_.call(null,this.mults,cljs.core.PersistentArrayMap.EMPTY)}}(),cljs.core.async.t29533.prototype.cljs$core$async$Pub$unsub_all_STAR_$arity$2=function(r,l){return function(r,l){return cljs.core.swap_BANG_.call(null,this.mults,cljs.core.dissoc,l)}}(),cljs.core.async.t29533.getBasis=function(r,l){return function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"topic-fn","topic-fn",-862449736,null),new cljs.core.Symbol(null,"buf-fn","buf-fn",-1200281591,null),new cljs.core.Symbol(null,"mults","mults",-461114485,null),new cljs.core.Symbol(null,"ensure-mult","ensure-mult",1796584816,null),new cljs.core.Symbol(null,"meta29534","meta29534",972366754,null)],null)}}(),cljs.core.async.t29533.cljs$lang$type=!0,cljs.core.async.t29533.cljs$lang$ctorStr="cljs.core.async/t29533",cljs.core.async.t29533.cljs$lang$ctorPrWriter=function(r,l){return function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29533")}}(),cljs.core.async.__GT_t29533=function(r,l){return function(r,l,e,c,t,n){return new cljs.core.async.t29533(r,l,e,c,t,n)}}()),new cljs.core.async.t29533(r,l,e,c,t,cljs.core.PersistentArrayMap.EMPTY)}(),s=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c,t,n){return function(){var t=function(){return function(r,l,e,c,t){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c,t,n){return function(e){var t=e[1];if(7===t)return t=e,t[2]=e[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===t)return e[2]=null,e[1]=21,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===t)return e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(24===t)return t=cljs.core.swap_BANG_.call(null,c,cljs.core.dissoc,e[7]),e[2]=t,e[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===t)return t=e[8],t=e[2],e[8]=t,cljs.core.truth_(null==t)?e[1]=5:e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(15===t)return t=e[2],e[2]=t,e[1]=12,
new cljs.core.Keyword(null,"recur","recur",-437573268);if(21===t)return e[9]=e[2],e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===t)return t=e[10],t=cljs.core.chunked_seq_QMARK_.call(null,t),e[1]=t?16:17,new cljs.core.Keyword(null,"recur","recur",-437573268);if(22===t)return t=e[2],cljs.core.truth_(t)?e[1]=23:e[1]=24,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===t){var t=e[8],n=e[11],t=l.call(null,t),n=cljs.core.deref.call(null,c),n=cljs.core.get.call(null,n,t);return e[7]=t,e[11]=n,cljs.core.truth_(n)?e[1]=19:e[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(25===t)return t=e[2],e[2]=t,e[1]=21,new cljs.core.Keyword(null,"recur","recur",-437573268);if(17===t){var s,t=e[10],n=cljs.core.first.call(null,t),n=cljs.core.async.muxch_STAR_.call(null,n),n=cljs.core.async.close_BANG_.call(null,n),o=cljs.core.next.call(null,t);return e[12]=0,e[13]=null,e[14]=o,e[15]=0,e[16]=n,e[2]=null,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(3===t)return t=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,t);if(12===t)return t=e[2],e[2]=t,e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===t)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,4,r);if(23===t)return e[2]=null,e[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268);if(19===t)return t=e[8],n=e[11],n=cljs.core.async.muxch_STAR_.call(null,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,22,n,t);if(11===t)return o=e[14],t=cljs.core.seq.call(null,o),e[10]=t,e[1]=t?13:14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(9===t)return t=e[2],e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268);if(5===t)return t=cljs.core.deref.call(null,c),t=cljs.core.vals.call(null,t),o=cljs.core.seq.call(null,t),e[12]=0,e[13]=null,e[14]=o,e[15]=0,e[2]=null,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268);if(14===t)return e[2]=null,e[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268);if(16===t)return t=e[10],n=cljs.core.chunk_first.call(null,t),t=cljs.core.chunk_rest.call(null,t),o=cljs.core.count.call(null,n),e[12]=o,e[13]=n,e[14]=t,e[15]=0,e[2]=null,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268);if(10===t){t=e[12],s=e[13];var o=e[14],n=e[15],a=cljs.core._nth.call(null,s,n),a=cljs.core.async.muxch_STAR_.call(null,a),a=cljs.core.async.close_BANG_.call(null,a);return e[12]=t,e[13]=s,e[17]=a,e[14]=o,e[15]=n+1,e[2]=null,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 18===t?(t=e[2],e[2]=t,e[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(t=e[12],n=e[15],t=n<t,cljs.core.truth_(t)?e[1]=10:e[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,c))}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(s,c)),n},cljs.core.async.pub.cljs$lang$maxFixedArity=3,cljs.core.async.sub=function(){switch(arguments.length){case 3:return cljs.core.async.sub.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return cljs.core.async.sub.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.sub.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.async.sub.call(null,r,l,e,!0)},cljs.core.async.sub.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return cljs.core.async.sub_STAR_.call(null,r,l,e,c)},cljs.core.async.sub.cljs$lang$maxFixedArity=4,cljs.core.async.unsub=function(r,l,e){return cljs.core.async.unsub_STAR_.call(null,r,l,e)},cljs.core.async.unsub_all=function(){switch(arguments.length){case 1:return cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.unsub_all_STAR_.call(null,r)},cljs.core.async.unsub_all.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.unsub_all_STAR_.call(null,r,l)},cljs.core.async.unsub_all.cljs$lang$maxFixedArity=2,cljs.core.async.map=function(){switch(arguments.length){case 2:return cljs.core.async.map.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.map.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.map.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.map.call(null,r,l,null)},cljs.core.async.map.cljs$core$IFn$_invoke$arity$3=function(r,l,e){l=cljs.core.vec.call(null,l),e=cljs.core.async.chan.call(null,e);var c=cljs.core.count.call(null,l),t=cljs.core.object_array.call(null,c),n=cljs.core.async.chan.call(null,1),s=cljs.core.atom.call(null,null),o=cljs.core.mapv.call(null,function(r,l,e,c,t,n){return function(r){return function(l,e,c,t,n,s){return function(l){return t[r]=l,0===cljs.core.swap_BANG_.call(null,s,cljs.core.dec)?cljs.core.async.put_BANG_.call(null,n,t.slice(0)):null}}(0,0,0,c,t,n)}}(0,0,0,t,n,s),cljs.core.range.call(null,c)),a=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(l,e,c,t,n,s,o,a){return function(){var n=function(){return function(r,l,e,c,t,n,s,o,a){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(l,e,c,t,n,s,o,a){return function(l){var n=l[1];if(7===n)return l[2]=null,l[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===n)return l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===n){var i=l[7],n=i<t;return cljs.core.truth_(n)?l[1]=6:l[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 15===n?(n=l[2],l[2]=n,l[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):13===n?(n=cljs.core.async.close_BANG_.call(null,c),l[2]=n,l[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===n?(l[2]=null,l[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===n?(n=l[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,l,n)):12===n?(n=l[8],i=l[2],n=cljs.core.some.call(null,cljs.core.nil_QMARK_,i),l[8]=i,cljs.core.truth_(n)?l[1]=13:l[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===n?(n=cljs.core.reset_BANG_.call(null,o,t),l[9]=n,l[7]=0,l[2]=null,l[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===n?(i=l[7],cljs.core.async.impl.ioc_helpers.add_exception_frame.call(null,l,10,Object,null,9),n=e.call(null,i),i=a.call(null,i),n=cljs.core.async.take_BANG_.call(null,n,i),l[2]=n,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),new cljs.core.Keyword(null,"recur","recur",-437573268)):9===n?(i=l[7],l[10]=l[2],l[7]=i+1,l[2]=null,l[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===n?(l[11]=l[2],cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,l,12,s)):14===n?(n=l[8],n=cljs.core.apply.call(null,r,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,l,16,c,n)):16===n?(l[12]=l[2],l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===n?(i=l[2],n=cljs.core.swap_BANG_.call(null,o,cljs.core.dec),l[13]=i,l[2]=n,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),new cljs.core.Keyword(null,"recur","recur",-437573268)):8===n?(n=l[2],l[2]=n,l[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,e,c,t,0,s,o,a))}(),i=function(){var r=n.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=l,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,i)}}(a,l,e,c,0,n,s,o)),e},cljs.core.async.map.cljs$lang$maxFixedArity=3,cljs.core.async.merge=function(){switch(arguments.length){case 1:return cljs.core.async.merge.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.merge.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.merge.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.merge.call(null,r,null)},cljs.core.async.merge.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core.async.chan.call(null,l),c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(l,e){return function(){var c=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(l,e){return function(l){var c=l[1];if(7===c){var t=l[7],n=(l[8],l[2]),s=cljs.core.nth.call(null,n,0,null),o=cljs.core.nth.call(null,n,1,null);return l[9]=o,l[7]=s,l[8]=n,cljs.core.truth_(null==s)?l[1]=8:l[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===c){var a=cljs.core.vec.call(null,r);return l[10]=a,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 4===c?(a=l[10],cljs.core.async.ioc_alts_BANG_.call(null,l,7,a)):6===c?(s=l[2],l[2]=s,l[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===c?(s=l[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,l,s)):2===c?(a=l[10],s=0<cljs.core.count.call(null,a),cljs.core.truth_(s)?l[1]=4:l[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===c?(a=l[10],l[11]=l[2],l[10]=a,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(t=l[7],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,l,11,e,t)):5===c?(s=cljs.core.async.close_BANG_.call(null,e),l[2]=s,l[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===c?(s=l[2],l[2]=s,l[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(o=l[9],t=l[7],a=l[10],l[8],s=function(){return function(r,l,e,c,t,n,s,o,a,i,u){return function(r){return cljs.core.not_EQ_.call(null,c,r)}}(0,0,0,o)}(),s=cljs.core.filterv.call(null,s,a),l[10]=s,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,e))}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=l,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(c,e)),e},cljs.core.async.merge.cljs$lang$maxFixedArity=2,cljs.core.async.into=function(r,l){return cljs.core.async.reduce.call(null,cljs.core.conj,r,l)},cljs.core.async.take=function(){switch(arguments.length){case 2:return cljs.core.async.take.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.take.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.take.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.take.call(null,r,l,null)};cljs.core.async.take.cljs$core$IFn$_invoke$arity$3=function(r,l,e){e=cljs.core.async.chan.call(null,e);var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c){return function(){var t=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c){return function(e){var t=e[1];if(7===t){var t=e[7],t=e[2],n=cljs.core.not.call(null,null==t);return e[7]=t,e[1]=n?8:9,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 1===t?(e[8]=0,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):4===t?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,7,l):6===t?(t=e[2],e[2]=t,e[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===t?(t=e[2],n=cljs.core.async.close_BANG_.call(null,c),e[9]=t,cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,n)):2===t?(t=e[8],t=t<r,cljs.core.truth_(t)?e[1]=4:e[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===t?(t=e[8],n=e[2],e[8]=t+1,e[10]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===t?(e[2]=null,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(e[2]=null,e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(t=e[2],e[2]=t,e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(t=e[7],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,11,c,t)):null}}(0,c))}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c,e)),e},cljs.core.async.take.cljs$lang$maxFixedArity=3,cljs.core.async.map_LT_=function r(l,e){return void 0===cljs.core.async.t29921&&(cljs.core.async.t29921=function(r,l,e,c){this.map_LT_=r,this.f=l,this.ch=e,this.meta29922=c,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29921.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.t29921(this.map_LT_,this.f,this.ch,l)},cljs.core.async.t29921.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta29922},cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$Channel$=!0,cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(r){return cljs.core.async.impl.protocols.close_BANG_.call(null,this.ch)},cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(r){return cljs.core.async.impl.protocols.closed_QMARK_.call(null,this.ch)},cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$ReadPort$=!0,cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(r,l){var e=this,c=this,t=cljs.core.async.impl.protocols.take_BANG_.call(null,e.ch,function(){return void 0===cljs.core.async.t29924&&(cljs.core.async.t29924=function(r,l,e,c,t,n,s){this.map_LT_=r,this.f=l,this.ch=e,this.meta29922=c,this._=t,this.fn1=n,this.meta29925=s,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29924.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r){return function(r,l){return new cljs.core.async.t29924(this.map_LT_,this.f,this.ch,this.meta29922,this._,this.fn1,l)}}(),cljs.core.async.t29924.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return function(r){return this.meta29925}}(),cljs.core.async.t29924.prototype.cljs$core$async$impl$protocols$Handler$=!0,cljs.core.async.t29924.prototype.cljs$core$async$impl$protocols$Handler$active_QMARK_$arity$1=function(r){return function(r){return cljs.core.async.impl.protocols.active_QMARK_.call(null,this.fn1)}}(),cljs.core.async.t29924.prototype.cljs$core$async$impl$protocols$Handler$commit$arity$1=function(r){return function(r){var l=this;return function(r,e,c){return function(e){return r.call(null,null==e?null:l.f.call(null,e))}}(cljs.core.async.impl.protocols.commit.call(null,l.fn1))}}(),cljs.core.async.t29924.getBasis=function(r){return function(){return new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"map<","map<",-1235808357,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta29922","meta29922",1538810842,null),new cljs.core.Symbol(null,"_","_",-1201019570,null),new cljs.core.Symbol(null,"fn1","fn1",895834444,null),new cljs.core.Symbol(null,"meta29925","meta29925",931805341,null)],null)}}(),cljs.core.async.t29924.cljs$lang$type=!0,cljs.core.async.t29924.cljs$lang$ctorStr="cljs.core.async/t29924",cljs.core.async.t29924.cljs$lang$ctorPrWriter=function(r){return function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29924")}}(),cljs.core.async.__GT_t29924=function(r){return function(r,l,e,c,t,n,s){return new cljs.core.async.t29924(r,l,e,c,t,n,s)}}()),new cljs.core.async.t29924(e.map_LT_,e.f,e.ch,e.meta29922,c,l,cljs.core.PersistentArrayMap.EMPTY)}());return cljs.core.truth_(cljs.core.truth_(t)?null!=cljs.core.deref.call(null,t):t)?cljs.core.async.impl.channels.box.call(null,e.f.call(null,cljs.core.deref.call(null,t))):t},cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$WritePort$=!0,cljs.core.async.t29921.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(r,l,e){return cljs.core.async.impl.protocols.put_BANG_.call(null,this.ch,l,e)},cljs.core.async.t29921.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"map<","map<",-1235808357,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta29922","meta29922",1538810842,null)],null)},cljs.core.async.t29921.cljs$lang$type=!0,cljs.core.async.t29921.cljs$lang$ctorStr="cljs.core.async/t29921",cljs.core.async.t29921.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29921")},cljs.core.async.__GT_t29921=function(r,l,e,c){return new cljs.core.async.t29921(r,l,e,c)}),new cljs.core.async.t29921(r,l,e,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.map_GT_=function r(l,e){return void 0===cljs.core.async.t29930&&(cljs.core.async.t29930=function(r,l,e,c){this.map_GT_=r,this.f=l,this.ch=e,this.meta29931=c,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29930.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.t29930(this.map_GT_,this.f,this.ch,l)},cljs.core.async.t29930.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta29931},cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$Channel$=!0,cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(r){return cljs.core.async.impl.protocols.close_BANG_.call(null,this.ch)},cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$ReadPort$=!0,cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(r,l){return cljs.core.async.impl.protocols.take_BANG_.call(null,this.ch,l)},cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$WritePort$=!0,cljs.core.async.t29930.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(r,l,e){return cljs.core.async.impl.protocols.put_BANG_.call(null,this.ch,this.f.call(null,l),e)},cljs.core.async.t29930.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"map>","map>",1676369295,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta29931","meta29931",-407197029,null)],null)},cljs.core.async.t29930.cljs$lang$type=!0,cljs.core.async.t29930.cljs$lang$ctorStr="cljs.core.async/t29930",cljs.core.async.t29930.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29930")},cljs.core.async.__GT_t29930=function(r,l,e,c){return new cljs.core.async.t29930(r,l,e,c)}),new cljs.core.async.t29930(r,l,e,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.filter_GT_=function r(l,e){return void 0===cljs.core.async.t29936&&(cljs.core.async.t29936=function(r,l,e,c){this.filter_GT_=r,this.p=l,this.ch=e,this.meta29937=c,this.cljs$lang$protocol_mask$partition0$=393216,this.cljs$lang$protocol_mask$partition1$=0},cljs.core.async.t29936.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new cljs.core.async.t29936(this.filter_GT_,this.p,this.ch,l)},cljs.core.async.t29936.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta29937},cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$Channel$=!0,cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$Channel$close_BANG_$arity$1=function(r){return cljs.core.async.impl.protocols.close_BANG_.call(null,this.ch)},cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$Channel$closed_QMARK_$arity$1=function(r){return cljs.core.async.impl.protocols.closed_QMARK_.call(null,this.ch)},cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$ReadPort$=!0,cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$ReadPort$take_BANG_$arity$2=function(r,l){return cljs.core.async.impl.protocols.take_BANG_.call(null,this.ch,l)},cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$WritePort$=!0,cljs.core.async.t29936.prototype.cljs$core$async$impl$protocols$WritePort$put_BANG_$arity$3=function(r,l,e){return cljs.core.truth_(this.p.call(null,l))?cljs.core.async.impl.protocols.put_BANG_.call(null,this.ch,l,e):cljs.core.async.impl.channels.box.call(null,cljs.core.not.call(null,cljs.core.async.impl.protocols.closed_QMARK_.call(null,this.ch)))},cljs.core.async.t29936.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"filter>","filter>",-37644455,null),new cljs.core.Symbol(null,"p","p",1791580836,null),new cljs.core.Symbol(null,"ch","ch",1085813622,null),new cljs.core.Symbol(null,"meta29937","meta29937",112250215,null)],null)},cljs.core.async.t29936.cljs$lang$type=!0,cljs.core.async.t29936.cljs$lang$ctorStr="cljs.core.async/t29936",cljs.core.async.t29936.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.core.async/t29936")},cljs.core.async.__GT_t29936=function(r,l,e,c){return new cljs.core.async.t29936(r,l,e,c)}),new cljs.core.async.t29936(r,l,e,cljs.core.PersistentArrayMap.EMPTY)},cljs.core.async.remove_GT_=function(r,l){return cljs.core.async.filter_GT_.call(null,cljs.core.complement.call(null,r),l)},cljs.core.async.filter_LT_=function(){switch(arguments.length){case 2:return cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.filter_LT_.call(null,r,l,null)},cljs.core.async.filter_LT_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){e=cljs.core.async.chan.call(null,e);var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c){return function(){var t=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c){return function(e){var t=e[1];return 7===t?(t=e,t[2]=e[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):1===t?(e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):4===t?(t=e[7],t=e[2],e[7]=t,cljs.core.truth_(null==t)?e[1]=5:e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===t?(t=e[7],t=r.call(null,t),cljs.core.truth_(t)?e[1]=8:e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===t?(t=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,t)):2===t?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,4,l):11===t?(t=e[2],e[2]=t,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===t?(e[2]=null,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(t=cljs.core.async.close_BANG_.call(null,c),e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(e[8]=e[2],e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(t=e[7],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,11,c,t)):null}}(0,c))}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c,e)),e},cljs.core.async.filter_LT_.cljs$lang$maxFixedArity=3,cljs.core.async.remove_LT_=function(){switch(arguments.length){case 2:return cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.remove_LT_.call(null,r,l,null)},cljs.core.async.remove_LT_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.async.filter_LT_.call(null,cljs.core.complement.call(null,r),l,e)},cljs.core.async.remove_LT_.cljs$lang$maxFixedArity=3,cljs.core.async.mapcat_STAR_=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];if(7===t)return t=c,t[2]=c[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===t){var n,s=c[7],o=c[2],t=cljs.core.next.call(null,s);return c[8]=null,c[9]=0,c[10]=o,c[11]=0,c[12]=t,c[2]=null,c[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===t)return c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===t)return t=c[13],t=c[2],c[13]=t,cljs.core.truth_(null==t)?c[1]=5:c[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(15===t)return c[2]=null,c[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268);if(21===t)return c[2]=null,c[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===t){s=c[8],n=c[9];var o=c[11],t=c[12],a=c[2];return c[8]=s,c[14]=a,c[9]=n+1,c[11]=o,c[12]=t,c[2]=null,c[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 22===t?(c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===t?(t=c[13],t=r.call(null,t),t=cljs.core.seq.call(null,t),c[8]=null,c[9]=0,c[11]=0,c[12]=t,c[2]=null,c[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)):17===t?(s=c[7],t=cljs.core.chunk_first.call(null,s),s=cljs.core.chunk_rest.call(null,s),o=cljs.core.count.call(null,t),c[8]=t,c[9]=0,c[11]=o,c[12]=s,c[2]=null,c[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===t?(t=c[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t)):12===t?(t=c[2],c[2]=t,c[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===t?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,c,4,l):23===t?(t=c[2],c[2]=t,c[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):19===t?(t=c[2],c[2]=t,c[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===t?(t=c[12],t=cljs.core.seq.call(null,t),c[7]=t,c[1]=t?14:15,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===t?(s=c[2],t=cljs.core.async.impl.protocols.closed_QMARK_.call(null,e),c[15]=s,cljs.core.truth_(t)?c[1]=21:c[1]=22,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(t=cljs.core.async.close_BANG_.call(null,e),c[2]=t,c[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===t?(s=c[7],t=cljs.core.chunked_seq_QMARK_.call(null,s),c[1]=t?17:18,new cljs.core.Keyword(null,"recur","recur",-437573268)):16===t?(t=c[2],c[2]=t,c[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(s=c[8],n=c[9],t=cljs.core._nth.call(null,s,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,c,13,e,t)):18===t?(s=c[7],t=cljs.core.first.call(null,s),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,c,20,e,t)):8===t?(n=c[9],o=c[11],t=n<o,cljs.core.truth_(t)?c[1]=10:c[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),c},cljs.core.async.mapcat_LT_=function(){switch(arguments.length){case 2:return cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:
return cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.mapcat_LT_.call(null,r,l,null)},cljs.core.async.mapcat_LT_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return e=cljs.core.async.chan.call(null,e),cljs.core.async.mapcat_STAR_.call(null,r,l,e),e},cljs.core.async.mapcat_LT_.cljs$lang$maxFixedArity=3,cljs.core.async.mapcat_GT_=function(){switch(arguments.length){case 2:return cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.mapcat_GT_.call(null,r,l,null)},cljs.core.async.mapcat_GT_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return e=cljs.core.async.chan.call(null,e),cljs.core.async.mapcat_STAR_.call(null,r,e,l),e},cljs.core.async.mapcat_GT_.cljs$lang$maxFixedArity=3,cljs.core.async.unique=function(){switch(arguments.length){case 1:return cljs.core.async.unique.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return cljs.core.async.unique.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.unique.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.async.unique.call(null,r,null)},cljs.core.async.unique.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=cljs.core.async.chan.call(null,l),c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(l,e){return function(){var c=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(l,e){return function(l){var c=l[1];if(7===c)return c=l,c[2]=l[2],c[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===c){var t;return l[7]=null,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 4===c?(c=l[8],c=l[2],t=cljs.core.not.call(null,null==c),l[8]=c,l[1]=t?5:6,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===c?(l[2]=null,l[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===c?(c=l[2],t=cljs.core.async.close_BANG_.call(null,e),l[9]=c,cljs.core.async.impl.ioc_helpers.return_chan.call(null,l,t)):2===c?cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,l,4,r):11===c?(c=l[8],t=l[2],l[10]=t,l[7]=c,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(c=l[8],cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,l,11,e,c)):5===c?(c=l[8],t=l[7],c=cljs.core._EQ_.call(null,c,t),l[1]=c?8:9,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===c?(c=l[2],l[2]=c,l[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(t=l[7],l[7]=t,l[2]=null,l[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,e))}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=l,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(c,e)),e},cljs.core.async.unique.cljs$lang$maxFixedArity=2,cljs.core.async.partition=function(){switch(arguments.length){case 2:return cljs.core.async.partition.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.partition.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.partition.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.partition.call(null,r,l,null)},cljs.core.async.partition.cljs$core$IFn$_invoke$arity$3=function(r,l,e){e=cljs.core.async.chan.call(null,e);var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c){return function(){var t=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c){return function(e){var t=e[1];if(7===t)return t=e,t[2]=e[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===t){var n=Array(r);return e[7]=0,e[8]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(4===t){var s=e[9],t=e[2],n=cljs.core.not.call(null,null==t);return e[9]=t,e[1]=n?5:6,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(15===t)return t=e[2],e[2]=t,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===t)return e[2]=null,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===t)return t=e[7],cljs.core.truth_(0<t)?e[1]=12:e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===t)return t=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,t);if(12===t)return n=e[8],t=cljs.core.vec.call(null,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,15,c,t);if(2===t)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,4,l);if(11===t)return t=e[2],n=Array(r),e[7]=0,e[10]=t,e[8]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(9===t)return n=e[8],t=cljs.core.vec.call(null,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,11,c,t);if(5===t){var t=e[7],s=e[9],n=e[8],o=e[11],n=n[t]=s,s=t+1,t=s<r;return e[12]=n,e[11]=s,cljs.core.truth_(t)?e[1]=8:e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 14===t?(n=e[2],t=cljs.core.async.close_BANG_.call(null,c),e[13]=n,e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(t=e[2],e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(n=e[8],o=e[11],e[7]=o,e[8]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,c))}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c,e)),e},cljs.core.async.partition.cljs$lang$maxFixedArity=3,cljs.core.async.partition_by=function(){switch(arguments.length){case 2:return cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.async.partition_by.call(null,r,l,null)},cljs.core.async.partition_by.cljs$core$IFn$_invoke$arity$3=function(r,l,e){e=cljs.core.async.chan.call(null,e);var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c){return function(){var t=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c){return function(e){var t=e[1];if(7===t)return t=e,t[2]=e[2],t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===t){var n=[],t=new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",-69252123);return e[7]=t,e[8]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(4===t){var s=e[9],t=e[2],s=cljs.core.not.call(null,null==t);return e[9]=t,e[1]=s?5:6,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(15===t)return t=e[2],e[2]=t,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===t)return e[2]=null,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===t)return n=e[8],t=0<n.length,cljs.core.truth_(t)?e[1]=12:e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===t)return t=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,t);if(12===t)return n=e[8],t=cljs.core.vec.call(null,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,15,c,t);if(2===t)return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,4,l);if(11===t){var s=e[9],t=e[10],n=e[2],o=[],s=o.push(s);return e[7]=t,e[11]=s,e[8]=o,e[12]=n,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 9===t?(n=e[8],t=cljs.core.vec.call(null,n),cljs.core.async.impl.ioc_helpers.put_BANG_.call(null,e,11,c,t)):5===t?(s=e[9],t=e[7],n=r.call(null,s),s=cljs.core._EQ_.call(null,n,t),t=cljs.core.keyword_identical_QMARK_.call(null,t,new cljs.core.Keyword("cljs.core.async","nothing","cljs.core.async/nothing",-69252123)),e[10]=n,cljs.core.truth_(s||t)?e[1]=8:e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===t?(s=e[2],t=cljs.core.async.close_BANG_.call(null,c),e[13]=s,e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===t?(t=e[2],e[2]=t,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===t?(s=e[9],n=e[8],t=e[10],s=n.push(s),e[7]=t,e[8]=n,e[14]=s,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}(0,c))}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c,e)),e},cljs.core.async.partition_by.cljs$lang$maxFixedArity=3,datascript.btset={},datascript.btset.min_len=16,datascript.btset.max_len=32,datascript.btset.avg_len=datascript.btset.max_len+datascript.btset.min_len>>>1,datascript.btset.level_shift=cljs.core.first.call(null,cljs.core.filter.call(null,function(r){return 0!=(datascript.btset.max_len&1<<r)},cljs.core.range.call(null,31,-1,-1)))+1,datascript.btset.path_mask=(1<<datascript.btset.level_shift)-1,datascript.btset.empty_path=0,datascript.btset.path_get=function(r,l){return datascript.btset.path_mask&r>>>l},datascript.btset.path_set=function(r,l,e){return r|e<<l},datascript.btset.binary_search_l=function(r,l,e,c){for(var t=0,n=cljs.core.long$.call(null,e);;){if(!(t<=n))return t;e=t+n>>>1,0>r.call(null,l[e],c)?t=e+1:n=e-1}},datascript.btset.binary_search_r=function(r,l,e,c){for(var t=0,n=cljs.core.long$.call(null,e);;){if(!(t<=n))return t;e=t+n>>>1,0<r.call(null,l[e],c)?n=e-1:t=e+1}},datascript.btset.lookup_exact=function(r,l,e){var c=l.length,t=datascript.btset.binary_search_l.call(null,r,l,c-1,e);return t<c&&0===r.call(null,l[t],e)?t:-1},datascript.btset.lookup_range=function(r,l,e){var c=l.length;return r=datascript.btset.binary_search_l.call(null,r,l,c-1,e),r===c?-1:r},datascript.btset.alast=function(r){return r[r.length-1]},datascript.btset.cut_n_splice=function(r,l,e,c,t,n){var s=n.length,o=c-l,a=o+s,i=datascript.shim.make_array.call(null,o+s+(e-t));c-=l;for(var u=0;u<c;)i[u+0]=r[u+l],u+=1;for(l=s-0,s=0;s<l;)i[s+o]=n[s+0],s+=1;for(e-=t,n=0;n<e;)i[n+a]=r[n+t],n+=1;return i},datascript.btset.cut=function(){switch(arguments.length){case 2:return datascript.btset.cut.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.btset.cut.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.btset.cut.cljs$core$IFn$_invoke$arity$2=function(r,l){return r.slice(l)},datascript.btset.cut.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return r.slice(l,e)},datascript.btset.cut.cljs$lang$maxFixedArity=3,datascript.btset.splice=function(r,l,e,c){return datascript.btset.cut_n_splice.call(null,r,0,r.length,l,e,c)},datascript.btset.insert=function(r,l,e){return datascript.btset.cut_n_splice.call(null,r,0,r.length,l,l,e)},datascript.btset.merge_n_split=function(r,l){var e=r.length,c=l.length,t=e+c,n=t>>>1,s=t-n,t=datascript.shim.make_array.call(null,n),s=datascript.shim.make_array.call(null,s);if(e<=n){for(var o=e-0,a=0;a<o;)t[a+0]=r[a+0],a+=1;for(o=n-e-0,a=0;a<o;)t[a+e]=l[a+0],a+=1;for(c-=n-e,o=0;o<c;)s[o+0]=l[o+(n-e)],o+=1}else{for(o=n-0,a=0;a<o;)t[a+0]=r[a+0],a+=1;for(o=e-n,a=0;a<o;)s[a+0]=r[a+n],a+=1;for(c-=0,o=0;o<c;)s[o+(e-n)]=l[o+0],o+=1}return[t,s]},datascript.btset.eq_arr=function(r,l,e,c,t,n,s){if(c-=e,!(s=c===s-n))return s;for(s=0;;){if(s===c)return!0;if(0!==r.call(null,l[s+e],t[s+n]))return!1;s+=1}},datascript.btset.check_n_splice=function(r,l,e,c,t){return datascript.btset.eq_arr.call(null,r,l,e,c,t,0,t.length)?l:datascript.btset.splice.call(null,l,e,c,t)},datascript.btset.arr_map_inplace=function(r,l){for(var e=l.length,c=0;c<e;)l[c]=r.call(null,l[c]),c+=1;return l},datascript.btset.arr_partition_approx=function(r,l,e){var c=datascript.btset.avg_len,t=e.length,n=cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY);if(0<t)for(var s=0;;){var o=t-s;if(o<=l){cljs.core.conj_BANG_.call(null,n,datascript.btset.cut.call(null,e,s));break}o>=c+r?(cljs.core.conj_BANG_.call(null,n,datascript.btset.cut.call(null,e,s,s+c)),s+=c):(o>>>=1,cljs.core.conj_BANG_.call(null,n,datascript.btset.cut.call(null,e,s,s+o)),s+=o)}return cljs.core.to_array.call(null,cljs.core.persistent_BANG_.call(null,n))},datascript.btset.sorted_arr_distinct_QMARK_=function(r,l){var e=r.length;if(1>=e)return!0;for(var c=1,t=r[0];;){if(c>=e)return!0;var n=r[c];if(0===l.call(null,n,t))return!1;t=n,c+=1}},datascript.btset.sorted_arr_distinct=function(r,l){if(cljs.core.truth_(datascript.btset.sorted_arr_distinct_QMARK_.call(null,r,l)))return r;for(var e=r.length,c=cljs.core.transient$.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r[0]],null)),t=1,n=r[0];;){if(t>=e)return cljs.core.into_array.call(null,cljs.core.persistent_BANG_.call(null,c));var s=r[t];0!==l.call(null,s,n)&&(c=cljs.core.conj_BANG_.call(null,c,s)),t+=1,n=s}},datascript.btset.return_array=function(){switch(arguments.length){case 1:return datascript.btset.return_array.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return datascript.btset.return_array.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.btset.return_array.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.btset.return_array.cljs$core$IFn$_invoke$arity$1=function(r){return[r]},datascript.btset.return_array.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.truth_(r)?cljs.core.truth_(l)?[r,l]:[r]:[l]},datascript.btset.return_array.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.truth_(r)?cljs.core.truth_(l)?cljs.core.truth_(e)?[r,l,e]:[r,l]:cljs.core.truth_(e)?[r,e]:[r]:cljs.core.truth_(l)?cljs.core.truth_(e)?[l,e]:[l]:[e]},datascript.btset.return_array.cljs$lang$maxFixedArity=3,datascript.btset.INode=function(){return{}}(),datascript.btset.node_lim_key=function(r){if(r?r.datascript$btset$INode$node_lim_key$arity$1:r)return r.datascript$btset$INode$node_lim_key$arity$1(r);var l;if(!(l=datascript.btset.node_lim_key[goog.typeOf(null==r?null:r)])&&!(l=datascript.btset.node_lim_key._))throw cljs.core.missing_protocol.call(null,"INode.node-lim-key",r);return l.call(null,r)},datascript.btset.node_len=function(r){if(r?r.datascript$btset$INode$node_len$arity$1:r)return r.datascript$btset$INode$node_len$arity$1(r);var l;if(!(l=datascript.btset.node_len[goog.typeOf(null==r?null:r)])&&!(l=datascript.btset.node_len._))throw cljs.core.missing_protocol.call(null,"INode.node-len",r);return l.call(null,r)},datascript.btset.node_merge=function(r,l){if(r?r.datascript$btset$INode$node_merge$arity$2:r)return r.datascript$btset$INode$node_merge$arity$2(r,l);var e;if(!(e=datascript.btset.node_merge[goog.typeOf(null==r?null:r)])&&!(e=datascript.btset.node_merge._))throw cljs.core.missing_protocol.call(null,"INode.node-merge",r);return e.call(null,r,l)},datascript.btset.node_merge_n_split=function(r,l){if(r?r.datascript$btset$INode$node_merge_n_split$arity$2:r)return r.datascript$btset$INode$node_merge_n_split$arity$2(r,l);var e;if(!(e=datascript.btset.node_merge_n_split[goog.typeOf(null==r?null:r)])&&!(e=datascript.btset.node_merge_n_split._))throw cljs.core.missing_protocol.call(null,"INode.node-merge-n-split",r);return e.call(null,r,l)},datascript.btset.node_lookup=function(r,l,e){if(r?r.datascript$btset$INode$node_lookup$arity$3:r)return r.datascript$btset$INode$node_lookup$arity$3(r,l,e);var c;if(!(c=datascript.btset.node_lookup[goog.typeOf(null==r?null:r)])&&!(c=datascript.btset.node_lookup._))throw cljs.core.missing_protocol.call(null,"INode.node-lookup",r);return c.call(null,r,l,e)},datascript.btset.node_conj=function(r,l,e){if(r?r.datascript$btset$INode$node_conj$arity$3:r)return r.datascript$btset$INode$node_conj$arity$3(r,l,e);var c;if(!(c=datascript.btset.node_conj[goog.typeOf(null==r?null:r)])&&!(c=datascript.btset.node_conj._))throw cljs.core.missing_protocol.call(null,"INode.node-conj",r);return c.call(null,r,l,e)},datascript.btset.node_disj=function(r,l,e,c,t,n){if(r?r.datascript$btset$INode$node_disj$arity$6:r)return r.datascript$btset$INode$node_disj$arity$6(r,l,e,c,t,n);var s;if(!(s=datascript.btset.node_disj[goog.typeOf(null==r?null:r)])&&!(s=datascript.btset.node_disj._))throw cljs.core.missing_protocol.call(null,"INode.node-disj",r);return s.call(null,r,l,e,c,t,n)},datascript.btset.rotate=function(r,l,e,c){return cljs.core.truth_(l)?datascript.btset.return_array.call(null,r):datascript.btset.node_len.call(null,r)>datascript.btset.min_len?datascript.btset.return_array.call(null,e,r,c):cljs.core.truth_(cljs.core.truth_(e)?datascript.btset.node_len.call(null,e)<=datascript.btset.min_len:e)?datascript.btset.return_array.call(null,datascript.btset.node_merge.call(null,e,r),c):cljs.core.truth_(cljs.core.truth_(c)?datascript.btset.node_len.call(null,c)<=datascript.btset.min_len:c)?datascript.btset.return_array.call(null,e,datascript.btset.node_merge.call(null,r,c)):cljs.core.truth_(cljs.core.truth_(e)?null==c||datascript.btset.node_len.call(null,e)<datascript.btset.node_len.call(null,c):e)?(r=datascript.btset.node_merge_n_split.call(null,e,r),datascript.btset.return_array.call(null,r[0],r[1],c)):(r=datascript.btset.node_merge_n_split.call(null,r,c),datascript.btset.return_array.call(null,e,r[0],r[1]))},datascript.btset.Node=function(r,l){this.keys=r,this.pointers=l},datascript.btset.Node.prototype.datascript$btset$INode$=!0,datascript.btset.Node.prototype.datascript$btset$INode$node_lim_key$arity$1=function(r){return datascript.btset.alast.call(null,this.keys)},datascript.btset.Node.prototype.datascript$btset$INode$node_len$arity$1=function(r){return this.keys.length},datascript.btset.Node.prototype.datascript$btset$INode$node_merge$arity$2=function(r,l){return new datascript.btset.Node(datascript.shim.aconcat.call(null,this.keys,l.keys),datascript.shim.aconcat.call(null,this.pointers,l.pointers))},datascript.btset.Node.prototype.datascript$btset$INode$node_merge_n_split$arity$2=function(r,l){var e=datascript.btset.merge_n_split.call(null,this.keys,l.keys),c=datascript.btset.merge_n_split.call(null,this.pointers,l.pointers);return datascript.btset.return_array.call(null,new datascript.btset.Node(e[0],c[0]),new datascript.btset.Node(e[1],c[1]))},datascript.btset.Node.prototype.datascript$btset$INode$node_lookup$arity$3=function(r,l,e){return r=datascript.btset.lookup_range.call(null,l,this.keys,e),-1===r?null:datascript.btset.node_lookup.call(null,this.pointers[r],l,e)},datascript.btset.Node.prototype.datascript$btset$INode$node_conj$arity$3=function(r,l,e){return r=datascript.btset.binary_search_l.call(null,l,this.keys,this.keys.length-2,e),e=datascript.btset.node_conj.call(null,this.pointers[r],l,e),cljs.core.truth_(e)?(l=datascript.btset.check_n_splice.call(null,l,this.keys,r,r+1,datascript.shim.amap.call(null,datascript.btset.node_lim_key,e)),r=datascript.btset.splice.call(null,this.pointers,r,r+1,e),r.length<=datascript.btset.max_len?[new datascript.btset.Node(l,r)]:(e=r.length>>>1,[new datascript.btset.Node(datascript.btset.cut.call(null,l,0,e),datascript.btset.cut.call(null,r,0,e)),new datascript.btset.Node(datascript.btset.cut.call(null,l,e),datascript.btset.cut.call(null,r,e))])):null},datascript.btset.Node.prototype.datascript$btset$INode$node_disj$arity$6=function(r,l,e,c,t,n){if(-1===(r=datascript.btset.lookup_range.call(null,l,this.keys,e)))return null;var s=0<=r-1?this.pointers[r-1]:null,o=r+1<this.pointers.length?this.pointers[r+1]:null;return e=datascript.btset.node_disj.call(null,this.pointers[r],l,e,!1,s,o),cljs.core.truth_(e)?(s=cljs.core.truth_(s)?r-1:r,r=cljs.core.truth_(o)?2+r:1+r,l=datascript.btset.check_n_splice.call(null,l,this.keys,s,r,datascript.shim.amap.call(null,datascript.btset.node_lim_key,e)),e=datascript.btset.splice.call(null,this.pointers,s,r,e),datascript.btset.rotate.call(null,new datascript.btset.Node(l,e),c,t,n)):null},datascript.btset.Node.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"keys","keys",-1586012071,null),new cljs.core.Symbol(null,"pointers","pointers",-1669058356,null)],null)},datascript.btset.Node.cljs$lang$type=!0,datascript.btset.Node.cljs$lang$ctorStr="datascript.btset/Node",datascript.btset.Node.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.btset/Node")},datascript.btset.__GT_Node=function(r,l){return new datascript.btset.Node(r,l)},datascript.btset.Leaf=function(r){this.keys=r},datascript.btset.Leaf.prototype.datascript$btset$INode$=!0,datascript.btset.Leaf.prototype.datascript$btset$INode$node_lim_key$arity$1=function(r){return datascript.btset.alast.call(null,this.keys)},datascript.btset.Leaf.prototype.datascript$btset$INode$node_len$arity$1=function(r){return this.keys.length},datascript.btset.Leaf.prototype.datascript$btset$INode$node_merge$arity$2=function(r,l){return new datascript.btset.Leaf(datascript.shim.aconcat.call(null,this.keys,l.keys))},datascript.btset.Leaf.prototype.datascript$btset$INode$node_merge_n_split$arity$2=function(r,l){var e=datascript.btset.merge_n_split.call(null,this.keys,l.keys);return datascript.btset.return_array.call(null,new datascript.btset.Leaf(e[0]),new datascript.btset.Leaf(e[1]))},datascript.btset.Leaf.prototype.datascript$btset$INode$node_lookup$arity$3=function(r,l,e){return r=datascript.btset.lookup_exact.call(null,l,this.keys,e),-1===r?null:this.keys[r]},datascript.btset.Leaf.prototype.datascript$btset$INode$node_conj$arity$3=function(r,l,e){r=datascript.btset.binary_search_l.call(null,l,this.keys,this.keys.length-1,e);var c=this.keys.length;return r<c&&0===l.call(null,e,this.keys[r])?null:c===datascript.btset.max_len?(l=c+1>>>1,r>l?[new datascript.btset.Leaf(datascript.btset.cut.call(null,this.keys,0,l)),new datascript.btset.Leaf(datascript.btset.cut_n_splice.call(null,this.keys,l,c,r,r,[e]))]:[new datascript.btset.Leaf(datascript.btset.cut_n_splice.call(null,this.keys,0,l,r,r,[e])),new datascript.btset.Leaf(datascript.btset.cut.call(null,this.keys,l,c))]):[new datascript.btset.Leaf(datascript.btset.splice.call(null,this.keys,r,r,[e]))]},datascript.btset.Leaf.prototype.datascript$btset$INode$node_disj$arity$6=function(r,l,e,c,t,n){return-1===(r=datascript.btset.lookup_exact.call(null,l,this.keys,e))?null:(r=datascript.btset.splice.call(null,this.keys,r,r+1,[]),datascript.btset.rotate.call(null,new datascript.btset.Leaf(r),c,t,n))},datascript.btset.Leaf.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"keys","keys",-1586012071,null)],null)},datascript.btset.Leaf.cljs$lang$type=!0,datascript.btset.Leaf.cljs$lang$ctorStr="datascript.btset/Leaf",datascript.btset.Leaf.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.btset/Leaf")},datascript.btset.__GT_Leaf=function(r){return new datascript.btset.Leaf(r)},datascript.btset.BTSet=function(r,l,e,c,t,n){this.root=r,this.shift=l,this.cnt=e,this.comparator=c,this.meta=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2297303311,this.cljs$lang$protocol_mask$partition1$=8192},datascript.btset.BTSet.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.btset.BTSet.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return datascript.btset.node_lookup.call(null,this.root,this.comparator,l)},datascript.btset.BTSet.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return r=datascript.btset.node_lookup.call(null,this.root,this.comparator,l),cljs.core.truth_(r)?r:e},datascript.btset.BTSet.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,"#{"," ","}",e,cljs.core.seq.call(null,this))},datascript.btset.BTSet.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.meta},datascript.btset.BTSet.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.btset.BTSet(this.root,this.shift,this.cnt,this.comparator,this.meta,this.__hash)},datascript.btset.BTSet.prototype.cljs$core$ICounted$_count$arity$1=function(r){return this.cnt},datascript.btset.BTSet.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return cljs.core.rseq.call(null,datascript.btset.btset_iter.call(null,this))},datascript.btset.BTSet.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_iset.call(null,this)},datascript.btset.BTSet.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return cljs.core.set_QMARK_.call(null,l)&&this.cnt===cljs.core.count.call(null,l)&&cljs.core.every_QMARK_.call(null,function(r){return function(l){return cljs.core.contains_QMARK_.call(null,r,l)}}(this),l)},datascript.btset.BTSet.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return new datascript.btset.BTSet(new datascript.btset.Leaf([]),0,0,this.comparator,this.meta,datascript.btset.uninitialized_hash)},datascript.btset.BTSet.prototype.cljs$core$ISet$_disjoin$arity$2=function(r,l){return datascript.btset.btset_disj.call(null,this,l,this.comparator)},datascript.btset.BTSet.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){var e=datascript.btset.btset_iter.call(null,this);return cljs.core.truth_(e)?cljs.core._reduce.call(null,e,l):l.call(null)},datascript.btset.BTSet.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return r=datascript.btset.btset_iter.call(null,this),cljs.core.truth_(r)?cljs.core._reduce.call(null,r,l,e):e},datascript.btset.BTSet.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return datascript.btset.btset_iter.call(null,this)},datascript.btset.BTSet.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.btset.BTSet(this.root,this.shift,this.cnt,this.comparator,l,this.__hash)},datascript.btset.BTSet.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return datascript.btset.btset_conj.call(null,this,l,this.comparator)},datascript.btset.BTSet.prototype.call=function(){var r=null,l=function(r,l){return cljs.core._lookup.call(null,this,l)},e=function(r,l,e){return cljs.core._lookup.call(null,this,l,e)},r=function(r,c,t){switch(arguments.length){case 2:return l.call(this,r,c);case 3:return e.call(this,r,c,t)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=l,r.cljs$core$IFn$_invoke$arity$3=e,r}(),datascript.btset.BTSet.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone.call(null,l)))},datascript.btset.BTSet.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core._lookup.call(null,this,r)},datascript.btset.BTSet.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._lookup.call(null,this,r,l)},datascript.btset.BTSet.getBasis=function(){return new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"root","root",1191874074,null),new cljs.core.Symbol(null,"shift","shift",-1657295705,null),new cljs.core.Symbol(null,"cnt","cnt",1924510325,null),new cljs.core.Symbol(null,"comparator","comparator",-509539107,null),new cljs.core.Symbol(null,"meta","meta",-1154898805,null),new cljs.core.Symbol(null,"__hash","__hash",-1328796629,null)],null)},datascript.btset.BTSet.cljs$lang$type=!0,datascript.btset.BTSet.cljs$lang$ctorStr="datascript.btset/BTSet",datascript.btset.BTSet.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.btset/BTSet")},datascript.btset.__GT_BTSet=function(r,l,e,c,t,n){return new datascript.btset.BTSet(r,l,e,c,t,n)},datascript.btset.alter_btset=function(r,l,e,c){return new datascript.btset.BTSet(l,e,c,r.comparator,r.meta,datascript.btset.uninitialized_hash)},datascript.btset.keys_for=function(r,l){for(var e=r.shift,c=r.root;;){if(!(0<e))return c.keys;var t=e-datascript.btset.level_shift,c=c.pointers[datascript.btset.path_get.call(null,l,e)],e=t}},datascript.btset.btset_conj=function(r,l,e){return l=datascript.btset.node_conj.call(null,r.root,e,l),null==l?r:1===l.length?datascript.btset.alter_btset.call(null,r,l[0],r.shift,r.cnt+1):datascript.btset.alter_btset.call(null,r,new datascript.btset.Node(datascript.shim.amap.call(null,datascript.btset.node_lim_key,l),l),r.shift+datascript.btset.level_shift,r.cnt+1)},datascript.btset.btset_disj=function(r,l,e){return null==(l=datascript.btset.node_disj.call(null,r.root,e,l,!0,null,null))?r:(l=l[0],l instanceof datascript.btset.Node&&1===l.pointers.length?datascript.btset.alter_btset.call(null,r,l.pointers[0],r.shift-datascript.btset.level_shift,r.cnt-1):datascript.btset.alter_btset.call(null,r,l,r.shift,r.cnt-1))},datascript.btset._next_path=function r(l,e,c){
var t=datascript.btset.path_get.call(null,e,c);return 0<c?(e=r.call(null,l.pointers[t],e,c-datascript.btset.level_shift),-1===e?t+1<l.pointers.length?datascript.btset.path_set.call(null,datascript.btset.empty_path,c,t+1):-1:datascript.btset.path_set.call(null,e,c,t)):t+1<l.keys.length?datascript.btset.path_set.call(null,datascript.btset.empty_path,0,t+1):-1},datascript.btset.next_path=function(r,l){return datascript.btset._next_path.call(null,r.root,l,r.shift)},datascript.btset._rpath=function(r,l){for(var e=r,c=datascript.btset.empty_path,t=l;;){if(!(0<t))return datascript.btset.path_set.call(null,c,0,e.keys.length-1);var n=datascript.btset.alast.call(null,e.pointers),c=datascript.btset.path_set.call(null,c,t,e.pointers.length-1),t=t-datascript.btset.level_shift,e=n}},datascript.btset._prev_path=function r(l,e,c){var t=datascript.btset.path_get.call(null,e,c);if(0<c){var n=c-datascript.btset.level_shift;return e=r.call(null,l.pointers[t],e,n),-1===e?0<=t-1?(--t,l=datascript.btset._rpath.call(null,l.pointers[t],n),datascript.btset.path_set.call(null,l,c,t)):-1:datascript.btset.path_set.call(null,e,c,t)}return 0<=t-1?datascript.btset.path_set.call(null,datascript.btset.empty_path,0,t-1):-1},datascript.btset.prev_path=function(r,l){return datascript.btset._prev_path.call(null,r.root,l,r.shift)},datascript.btset.btset_iter=function(r){if(0<datascript.btset.node_len.call(null,r.root)){var l=datascript.btset.empty_path,e=datascript.btset._rpath.call(null,r.root,r.shift)+1;return datascript.btset.iter.call(null,r,l,e)}return null},datascript.btset.Iter=function(r,l,e,c,t){this.set=r,this.left=l,this.right=e,this.keys=c,this.idx=t,this.cljs$lang$protocol_mask$partition0$=143130816,this.cljs$lang$protocol_mask$partition1$=1536},datascript.btset.Iter.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.truth_(this.keys)?this:null},datascript.btset.Iter.prototype.cljs$core$ISeq$_first$arity$1=function(r){return datascript.btset.iter_first.call(null,this)},datascript.btset.Iter.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return r=datascript.btset.iter_next.call(null,this),cljs.core.truth_(r)?r:cljs.core.List.EMPTY},datascript.btset.Iter.prototype.cljs$core$INext$_next$arity$1=function(r){return datascript.btset.iter_next.call(null,this)},datascript.btset.Iter.prototype.cljs$core$IChunkedSeq$_chunked_first$arity$1=function(r){return datascript.btset.iter_chunk.call(null,this)},datascript.btset.Iter.prototype.cljs$core$IChunkedSeq$_chunked_rest$arity$1=function(r){return r=cljs.core._chunked_next.call(null,this),cljs.core.truth_(r)?r:cljs.core.List.EMPTY},datascript.btset.Iter.prototype.cljs$core$IChunkedNext$_chunked_next$arity$1=function(r){return datascript.btset.iter_chunked_next.call(null,this)},datascript.btset.Iter.prototype.cljs$core$IReduce$_reduce$arity$2=function(r,l){return datascript.btset.iter_reduce.call(null,this,l)},datascript.btset.Iter.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return datascript.btset.iter_reduce.call(null,this,l,e)},datascript.btset.Iter.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return datascript.btset.iter_rseq.call(null,this)},datascript.btset.Iter.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"set","set",1945134081,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),new cljs.core.Symbol(null,"keys","keys",-1586012071,null),new cljs.core.Symbol(null,"idx","idx",-1600747296,null)],null)},datascript.btset.Iter.cljs$lang$type=!0,datascript.btset.Iter.cljs$lang$ctorStr="datascript.btset/Iter",datascript.btset.Iter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.btset/Iter")},datascript.btset.__GT_Iter=function(r,l,e,c,t){return new datascript.btset.Iter(r,l,e,c,t)},datascript.btset.iter=function(r,l,e){return new datascript.btset.Iter(r,l,e,datascript.btset.keys_for.call(null,r,l),datascript.btset.path_get.call(null,l,0))},datascript.btset.iter_first=function(r){return cljs.core.truth_(r.keys)?r.keys[r.idx]:null},datascript.btset.iter_next=function(r){var l=r.set,e=r.left,c=r.right,t=r.keys;return r=r.idx,cljs.core.truth_(t)?r+1<t.length?e+1<c?new datascript.btset.Iter(l,e+1,c,t,r+1):null:(e=datascript.btset.next_path.call(null,l,e),cljs.core.not_EQ_.call(null,-1,e)&&e<c?datascript.btset.iter.call(null,l,e,c):null):null},datascript.btset.iter_chunk=function(r){var l=r.right,e=r.keys,c=r.idx;return r=cljs.core._EQ_.call(null,r.left|datascript.btset.path_mask,l|datascript.btset.path_mask)?l&datascript.btset.path_mask:e.length,cljs.core.array_chunk.call(null,e,c,r)},datascript.btset.iter_chunked_next=function(r){var l=r.set,e=r.right;return r=datascript.btset.next_path.call(null,l,r.left+(r.keys.length-r.idx-1)),cljs.core.not_EQ_.call(null,-1,r)&&r<e?datascript.btset.iter.call(null,l,r,e):null},datascript.btset.iter_rseq=function(r){var l=r.set,e=r.left,c=r.right;return cljs.core.truth_(r.keys)?datascript.btset.riter.call(null,l,datascript.btset.prev_path.call(null,l,e),datascript.btset.prev_path.call(null,l,c)):null},datascript.btset.iter_reduce=function(){switch(arguments.length){case 2:return datascript.btset.iter_reduce.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.btset.iter_reduce.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.btset.iter_reduce.cljs$core$IFn$_invoke$arity$2=function(r,l){if(null==r.keys)return l.call(null);var e=datascript.btset.iter_first.call(null,r),c=datascript.btset.iter_next.call(null,r);return cljs.core.truth_(c)?datascript.btset.iter_reduce.call(null,c,l,e):e},datascript.btset.iter_reduce.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=r.set,t=r.right,n=r.left,s=r.keys;for(r=r.idx;;){if(cljs.core.reduced_QMARK_.call(null,e))return cljs.core.deref.call(null,e);if(null==s)return e;if(e=l.call(null,e,s[r]),r+1<s.length){if(!(n+1<t))return e;r+=1,n+=1}else{if(!(-1!==(r=datascript.btset.next_path.call(null,c,n))&&r<t))return e;n=r,s=datascript.btset.keys_for.call(null,c,r),r=datascript.btset.path_get.call(null,r,0)}}},datascript.btset.iter_reduce.cljs$lang$maxFixedArity=3,datascript.btset.ReverseIter=function(r,l,e,c,t){this.set=r,this.left=l,this.right=e,this.keys=c,this.idx=t,this.cljs$lang$protocol_mask$partition0$=142606528,this.cljs$lang$protocol_mask$partition1$=0},datascript.btset.ReverseIter.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.truth_(this.keys)?this:null},datascript.btset.ReverseIter.prototype.cljs$core$ISeq$_first$arity$1=function(r){return datascript.btset.riter_first.call(null,this)},datascript.btset.ReverseIter.prototype.cljs$core$ISeq$_rest$arity$1=function(r){return r=datascript.btset.riter_next.call(null,this),cljs.core.truth_(r)?r:cljs.core.List.EMPTY},datascript.btset.ReverseIter.prototype.cljs$core$INext$_next$arity$1=function(r){return datascript.btset.riter_next.call(null,this)},datascript.btset.ReverseIter.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return datascript.btset.riter_rseq.call(null,this)},datascript.btset.ReverseIter.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"set","set",1945134081,null),new cljs.core.Symbol(null,"left","left",1241415590,null),new cljs.core.Symbol(null,"right","right",1187949694,null),new cljs.core.Symbol(null,"keys","keys",-1586012071,null),new cljs.core.Symbol(null,"idx","idx",-1600747296,null)],null)},datascript.btset.ReverseIter.cljs$lang$type=!0,datascript.btset.ReverseIter.cljs$lang$ctorStr="datascript.btset/ReverseIter",datascript.btset.ReverseIter.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.btset/ReverseIter")},datascript.btset.__GT_ReverseIter=function(r,l,e,c,t){return new datascript.btset.ReverseIter(r,l,e,c,t)},datascript.btset.riter=function(r,l,e){return new datascript.btset.ReverseIter(r,l,e,datascript.btset.keys_for.call(null,r,e),datascript.btset.path_get.call(null,e,0))},datascript.btset.riter_first=function(r){return cljs.core.truth_(r.keys)?r.keys[r.idx]:null},datascript.btset.riter_next=function(r){var l=r.set,e=r.left,c=r.right,t=r.keys;return r=r.idx,cljs.core.truth_(t)?0<=r-1?c-1>e?new datascript.btset.ReverseIter(l,e,c-1,t,r-1):null:(c=datascript.btset.prev_path.call(null,l,c),cljs.core.not_EQ_.call(null,-1,c)&&c>e?datascript.btset.riter.call(null,l,e,c):null):null},datascript.btset.riter_rseq=function(r){var l=r.set,e=r.left;if(r=r.right,cljs.core.truth_(cljs.core.keys)){var e=-1===e?0:datascript.btset.next_path.call(null,l,e),c=datascript.btset.next_path.call(null,l,r);return datascript.btset.iter.call(null,l,e,-1===c?r+1:c)}return null},datascript.btset._distance=function r(l,e,c,t){var n=datascript.btset.path_get.call(null,e,t),s=datascript.btset.path_get.call(null,c,t);if(!(0<t))return s-n;if(n===s)return r.call(null,l.pointers[n],e,c,t-datascript.btset.level_shift);for(l=s-n;;)return 0===t?l:l*datascript.btset.avg_len},datascript.btset.distance=function(r,l,e){return l===e?0:l+1===e?1:datascript.btset.next_path.call(null,r,l)===e?1:datascript.btset._distance.call(null,r.root,l,e,r.shift)},datascript.btset.est_count=function(r){return datascript.btset.distance.call(null,r.set,r.left,r.right)},datascript.btset._seek=function(r,l){for(var e=r.root,c=datascript.btset.empty_path,t=r.shift;;){var n=datascript.btset.node_len.call(null,e);if(0===t){var s=e.keys,s=datascript.btset.binary_search_l.call(null,r.comparator,s,n-1,l);return n===s?-1:datascript.btset.path_set.call(null,c,0,s)}s=e.keys,s=datascript.btset.binary_search_l.call(null,r.comparator,s,n-2,l),e=e.pointers[s],c=datascript.btset.path_set.call(null,c,t,s),t-=datascript.btset.level_shift}},datascript.btset._rseek=function(r,l){for(var e=r.root,c=datascript.btset.empty_path,t=r.shift;;){var n=datascript.btset.node_len.call(null,e);if(0===t){var s=e.keys,n=datascript.btset.binary_search_r.call(null,r.comparator,s,n-1,l);return datascript.btset.path_set.call(null,c,0,n)}s=e.keys,n=datascript.btset.binary_search_r.call(null,r.comparator,s,n-2,l),e=e.pointers[n],c=datascript.btset.path_set.call(null,c,t,n),t-=datascript.btset.level_shift}},datascript.btset._slice=function(r,l,e){return 0>(l=datascript.btset._seek.call(null,r,l))?null:(e=datascript.btset._rseek.call(null,r,e),e>l?new datascript.btset.Iter(r,l,e,datascript.btset.keys_for.call(null,r,l),datascript.btset.path_get.call(null,l,0)):null)},datascript.btset.slice=function(){switch(arguments.length){case 2:return datascript.btset.slice.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.btset.slice.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.btset.slice.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.btset.slice.call(null,r,l,l)},datascript.btset.slice.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return datascript.btset._slice.call(null,r,l,e)},datascript.btset.slice.cljs$lang$maxFixedArity=3,datascript.btset._btset_from_sorted_arr=function(r,l){for(var e=datascript.btset.arr_map_inplace.call(null,function(r){return new datascript.btset.Leaf(r)},datascript.btset.arr_partition_approx.call(null,datascript.btset.min_len,datascript.btset.max_len,r)),c=e,t=0;;){var n=cljs.core.count.call(null,c);switch(n){case 0:return new datascript.btset.BTSet(new datascript.btset.Leaf([]),0,0,l,null,datascript.btset.uninitialized_hash);case 1:return new datascript.btset.BTSet(cljs.core.first.call(null,c),t,r.length,l,null,datascript.btset.uninitialized_hash);default:c=datascript.btset.arr_map_inplace.call(null,function(r,l,e,c){return function(r){return new datascript.btset.Node(datascript.shim.amap.call(null,datascript.btset.node_lim_key,r),r)}}(),datascript.btset.arr_partition_approx.call(null,datascript.btset.min_len,datascript.btset.max_len,c)),t+=datascript.btset.level_shift}}},datascript.btset._btset_from_seq=function(r,l){var e=datascript.btset.sorted_arr_distinct.call(null,datascript.shim.asort.call(null,cljs.core.into_array.call(null,r),l),l);return datascript.btset._btset_from_sorted_arr.call(null,e,l)},datascript.btset.btset_by=function(){switch(arguments.length){case 1:return datascript.btset.btset_by.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0);return datascript.btset.btset_by.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)}},datascript.btset.btset_by.cljs$core$IFn$_invoke$arity$1=function(r){return new datascript.btset.BTSet(new datascript.btset.Leaf([]),0,0,r,null,datascript.btset.uninitialized_hash)},datascript.btset.btset_by.cljs$core$IFn$_invoke$arity$variadic=function(r,l){return datascript.btset._btset_from_seq.call(null,l,r)},datascript.btset.btset_by.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),datascript.btset.btset_by.cljs$core$IFn$_invoke$arity$variadic(l,r)},datascript.btset.btset_by.cljs$lang$maxFixedArity=1;datascript.btset.btset=function(){switch(arguments.length){case 0:return datascript.btset.btset.cljs$core$IFn$_invoke$arity$0();default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0);return datascript.btset.btset.cljs$core$IFn$_invoke$arity$variadic(r)}},datascript.btset.btset.cljs$core$IFn$_invoke$arity$0=function(){return datascript.btset.btset_by.call(null,cljs.core.compare)},datascript.btset.btset.cljs$core$IFn$_invoke$arity$variadic=function(r){return datascript.btset._btset_from_seq.call(null,r,cljs.core.compare)},datascript.btset.btset.cljs$lang$applyTo=function(r){return datascript.btset.btset.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.btset.btset.cljs$lang$maxFixedArity=0,clojure.walk={},clojure.walk.walk=function(r,l,e){return cljs.core.seq_QMARK_.call(null,e)?l.call(null,cljs.core.doall.call(null,cljs.core.map.call(null,r,e))):cljs.core.coll_QMARK_.call(null,e)?l.call(null,cljs.core.into.call(null,cljs.core.empty.call(null,e),cljs.core.map.call(null,r,e))):l.call(null,e)},clojure.walk.postwalk=function r(l,e){return clojure.walk.walk.call(null,cljs.core.partial.call(null,r,l),l,e)},clojure.walk.prewalk=function r(l,e){return clojure.walk.walk.call(null,cljs.core.partial.call(null,r,l),cljs.core.identity,l.call(null,e))},clojure.walk.keywordize_keys=function(r){return clojure.walk.postwalk.call(null,function(r){return function(l){return cljs.core.map_QMARK_.call(null,l)?cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,r,l)):l}}(function(r){var l=cljs.core.nth.call(null,r,0,null);return r=cljs.core.nth.call(null,r,1,null),"string"==typeof l?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.keyword.call(null,l),r],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r],null)}),r)},clojure.walk.stringify_keys=function(r){return clojure.walk.postwalk.call(null,function(r){return function(l){return cljs.core.map_QMARK_.call(null,l)?cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,r,l)):l}}(function(r){var l=cljs.core.nth.call(null,r,0,null);return r=cljs.core.nth.call(null,r,1,null),l instanceof cljs.core.Keyword?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.name.call(null,l),r],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r],null)}),r)},clojure.walk.prewalk_replace=function(r,l){return clojure.walk.prewalk.call(null,function(l){return cljs.core.contains_QMARK_.call(null,r,l)?r.call(null,l):l},l)},clojure.walk.postwalk_replace=function(r,l){return clojure.walk.postwalk.call(null,function(l){return cljs.core.contains_QMARK_.call(null,r,l)?r.call(null,l):l},l)},datascript.core={},datascript.core.Exception=Error,datascript.core.IllegalArgumentException=Error,datascript.core.UnsupportedOperationException=Error,datascript.core.tx0=536870912,datascript.core.default_schema=null,datascript.core.cljs_env_QMARK_=function(r){return cljs.core.boolean$.call(null,new cljs.core.Keyword(null,"ns","ns",441598760).cljs$core$IFn$_invoke$arity$1(r))},datascript.core.Datom=function(r,l,e,c,t){this.e=r,this.a=l,this.v=e,this.tx=c,this.added=t,this.cljs$lang$protocol_mask$partition0$=2162164480,this.cljs$lang$protocol_mask$partition1$=0},datascript.core.Datom.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,cljs.core.truth_(r)?r:this.__hash=datascript.core.hash_datom.call(null,this)},datascript.core.Datom.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=l instanceof datascript.core.Datom;return e?datascript.core.equiv_datom.call(null,this,l):e},datascript.core.Datom.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return datascript.core.seq_datom.call(null,this)},datascript.core.Datom.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return datascript.core.val_at_datom.call(null,this,l,null)},datascript.core.Datom.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return datascript.core.val_at_datom.call(null,this,l,e)},datascript.core.Datom.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return datascript.core.assoc_datom.call(null,l)},datascript.core.Datom.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,"#datascript/Datom ["," ","]",e,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[this.e,this.a,this.v,this.tx,this.added],null))},datascript.core.Datom.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"e","e",-1273166571,null),new cljs.core.Symbol(null,"a","a",-482876059,null),new cljs.core.Symbol(null,"v","v",1661996586,null),new cljs.core.Symbol(null,"tx","tx",2107161945,null),new cljs.core.Symbol(null,"added","added",-596784081,null)],null)},datascript.core.Datom.cljs$lang$type=!0,datascript.core.Datom.cljs$lang$ctorStr="datascript.core/Datom",datascript.core.Datom.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.core/Datom")},datascript.core.__GT_Datom=function(r,l,e,c,t){return new datascript.core.Datom(r,l,e,c,t)},datascript.core.datom=function(){switch(arguments.length){case 3:return datascript.core.datom.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return datascript.core.datom.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return datascript.core.datom.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.core.datom.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return new datascript.core.Datom(r,l,e,datascript.core.tx0,!0)},datascript.core.datom.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return new datascript.core.Datom(r,l,e,c,!0)},datascript.core.datom.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return new datascript.core.Datom(r,l,e,c,t)},datascript.core.datom.cljs$lang$maxFixedArity=5,datascript.core.datom_QMARK_=function(r){return r instanceof datascript.core.Datom},datascript.core.hash_datom=function(r){return cljs.core.hash_combine.call(null,cljs.core.hash_combine.call(null,cljs.core.hash.call(null,r.e),cljs.core.hash.call(null,r.a)),cljs.core.hash.call(null,r.v))},datascript.core.equiv_datom=function(r,l){return cljs.core._EQ_.call(null,r.e,l.e)&&cljs.core._EQ_.call(null,r.a,l.a)&&cljs.core._EQ_.call(null,r.v,l.v)},datascript.core.seq_datom=function(r){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,r.added),r.tx),r.v),r.a),r.e)},datascript.core.val_at_datom=function(r,l,e){return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"v","v",21465059),l)?r.v:cljs.core._EQ_.call(null,"e",l)?r.e:cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"added","added",2057651688),l)?r.added:cljs.core._EQ_.call(null,"v",l)?r.v:cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"e","e",1381269198),l)?r.e:cljs.core._EQ_.call(null,"a",l)?r.a:cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"tx","tx",466630418),l)?r.tx:cljs.core._EQ_.call(null,"added",l)?r.added:cljs.core._EQ_.call(null,"tx",l)?r.tx:cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"a","a",-2123407586),l)?r.a:e},datascript.core.assoc_datom=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"e":return new datascript.core.Datom(e,r.a,r.v,r.tx,r.added);case"a":return new datascript.core.Datom(r.e,e,r.v,r.tx,r.added);case"v":return new datascript.core.Datom(r.e,r.a,e,r.tx,r.added);case"tx":return new datascript.core.Datom(r.e,r.a,r.v,e,r.added);case"added":return new datascript.core.Datom(r.e,r.a,r.v,r.tx,e);default:throw new datascript.core.IllegalArgumentException([cljs.core.str("invalid key for #datascript/Datom: "),cljs.core.str(l)].join(""))}},datascript.core.datom_from_reader=function(r){return cljs.core.apply.call(null,datascript.core.datom,r)},datascript.core.cmp=function(r,l){return cljs.core.truth_(cljs.core.truth_(r)?l:r)?cljs.core.compare.call(null,r,l):0},datascript.core.cmp_num=function(r,l){return cljs.core.truth_(cljs.core.truth_(r)?l:r)?r-l:0},datascript.core.cmp_val=function(r,l){if(cljs.core.some_QMARK_.call(null,r)&&cljs.core.some_QMARK_.call(null,l)){var e=cljs.core.type.call(null,r),c=cljs.core.type.call(null,l);return e===c?cljs.core.compare.call(null,r,l):goog.array.defaultCompare(e,c)}return 0},datascript.core.cmp_datoms_eavt=function(r,l){var e=datascript.core.cmp_num.call(null,r.e,l.e);return 0===e&&0===(e=datascript.core.cmp.call(null,r.a,l.a))&&0===(e=datascript.core.cmp_val.call(null,r.v,l.v))?(e=datascript.core.cmp_num.call(null,r.tx,l.tx),0===e?0:e):e},datascript.core.cmp_datoms_aevt=function(r,l){var e=datascript.core.cmp.call(null,r.a,l.a);return 0===e&&0===(e=datascript.core.cmp_num.call(null,r.e,l.e))&&0===(e=datascript.core.cmp_val.call(null,r.v,l.v))?(e=datascript.core.cmp_num.call(null,r.tx,l.tx),0===e?0:e):e},datascript.core.cmp_datoms_avet=function(r,l){var e=datascript.core.cmp.call(null,r.a,l.a);return 0===e&&0===(e=datascript.core.cmp_val.call(null,r.v,l.v))&&0===(e=datascript.core.cmp_num.call(null,r.e,l.e))?(e=datascript.core.cmp_num.call(null,r.tx,l.tx),0===e?0:e):e},datascript.core.cmp_attr_quick=function(r,l){return r instanceof cljs.core.Keyword?cljs.core._compare.call(null,r,l):goog.array.defaultCompare(r,l)},datascript.core.cmp_val_quick=function(r,l){var e=cljs.core.type.call(null,r),c=cljs.core.type.call(null,l);return e===c?cljs.core.compare.call(null,r,l):goog.array.defaultCompare(e,c)},datascript.core.cmp_datoms_eavt_quick=function(r,l){var e=r.e-l.e;return 0===e&&0===(e=datascript.core.cmp_attr_quick.call(null,r.a,l.a))&&0===(e=datascript.core.cmp_val_quick.call(null,r.v,l.v))?(e=r.tx-l.tx,0===e?0:e):e},datascript.core.cmp_datoms_aevt_quick=function(r,l){var e=datascript.core.cmp_attr_quick.call(null,r.a,l.a);return 0===e&&0===(e=r.e-l.e)&&0===(e=datascript.core.cmp_val_quick.call(null,r.v,l.v))?(e=r.tx-l.tx,0===e?0:e):e},datascript.core.cmp_datoms_avet_quick=function(r,l){var e=datascript.core.cmp_attr_quick.call(null,r.a,l.a);return 0===e&&0===(e=datascript.core.cmp_val_quick.call(null,r.v,l.v))&&0===(e=r.e-l.e)?(e=r.tx-l.tx,0===e?0:e):e},datascript.core.ISearch=function(){return{}}(),datascript.core._search=function(r,l){if(r?r.datascript$core$ISearch$_search$arity$2:r)return r.datascript$core$ISearch$_search$arity$2(r,l);var e;if(!(e=datascript.core._search[goog.typeOf(null==r?null:r)])&&!(e=datascript.core._search._))throw cljs.core.missing_protocol.call(null,"ISearch.-search",r);return e.call(null,r,l)},datascript.core.IIndexAccess=function(){return{}}(),datascript.core._datoms=function(r,l,e){if(r?r.datascript$core$IIndexAccess$_datoms$arity$3:r)return r.datascript$core$IIndexAccess$_datoms$arity$3(r,l,e);var c;if(!(c=datascript.core._datoms[goog.typeOf(null==r?null:r)])&&!(c=datascript.core._datoms._))throw cljs.core.missing_protocol.call(null,"IIndexAccess.-datoms",r);return c.call(null,r,l,e)},datascript.core._seek_datoms=function(r,l,e){if(r?r.datascript$core$IIndexAccess$_seek_datoms$arity$3:r)return r.datascript$core$IIndexAccess$_seek_datoms$arity$3(r,l,e);var c;if(!(c=datascript.core._seek_datoms[goog.typeOf(null==r?null:r)])&&!(c=datascript.core._seek_datoms._))throw cljs.core.missing_protocol.call(null,"IIndexAccess.-seek-datoms",r);return c.call(null,r,l,e)},datascript.core._index_range=function(r,l,e,c){if(r?r.datascript$core$IIndexAccess$_index_range$arity$4:r)return r.datascript$core$IIndexAccess$_index_range$arity$4(r,l,e,c);var t;if(!(t=datascript.core._index_range[goog.typeOf(null==r?null:r)])&&!(t=datascript.core._index_range._))throw cljs.core.missing_protocol.call(null,"IIndexAccess.-index-range",r);return t.call(null,r,l,e,c)},datascript.core.IDB=function(){return{}}(),datascript.core._schema=function(r){if(r?r.datascript$core$IDB$_schema$arity$1:r)return r.datascript$core$IDB$_schema$arity$1(r);var l;if(!(l=datascript.core._schema[goog.typeOf(null==r?null:r)])&&!(l=datascript.core._schema._))throw cljs.core.missing_protocol.call(null,"IDB.-schema",r);return l.call(null,r)},datascript.core._attrs_by=function(r,l){if(r?r.datascript$core$IDB$_attrs_by$arity$2:r)return r.datascript$core$IDB$_attrs_by$arity$2(r,l);var e;if(!(e=datascript.core._attrs_by[goog.typeOf(null==r?null:r)])&&!(e=datascript.core._attrs_by._))throw cljs.core.missing_protocol.call(null,"IDB.-attrs-by",r);return e.call(null,r,l)},datascript.core.DB=function(r,l,e,c,t,n,s,o,a,i){this.schema=r,this.eavt=l,this.aevt=e,this.avet=c,this.max_eid=t,this.max_tx=n,this.rschema=s,this.__meta=o,this.__extmap=a,this.__hash=i,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.core.DB.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.core.DB.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"schema":return this.schema;case"eavt":return this.eavt;case"aevt":return this.aevt;case"avet":return this.avet;case"max-eid":return this.max_eid;case"max-tx":return this.max_tx;case"rschema":return this.rschema;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.core.DB.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.core.DB{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"schema","schema",-1582001791),this.schema],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"eavt","eavt",-666437073),this.eavt],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"aevt","aevt",-585148059),this.aevt],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"avet","avet",1383857032),this.avet],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),this.max_eid],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),this.max_tx],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rschema","rschema",-1196134054),this.rschema],null)],null),this.__extmap))},datascript.core.DB.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.core.DB.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,this.__extmap,this.__hash)},datascript.core.DB.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 7+cljs.core.count.call(null,this.__extmap)},datascript.core.DB.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.core.DB.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.core.DB.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,7,[new cljs.core.Keyword(null,"schema","schema",-1582001791),null,new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),null,new cljs.core.Keyword(null,"aevt","aevt",-585148059),null,new cljs.core.Keyword(null,"avet","avet",1383857032),null,new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),null,new cljs.core.Keyword(null,"eavt","eavt",-666437073),null,new cljs.core.Keyword(null,"rschema","rschema",-1196134054),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.core.DB.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"schema","schema",-1582001791),l))?new datascript.core.DB(e,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"eavt","eavt",-666437073),l))?new datascript.core.DB(this.schema,e,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"aevt","aevt",-585148059),l))?new datascript.core.DB(this.schema,this.eavt,e,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"avet","avet",1383857032),l))?new datascript.core.DB(this.schema,this.eavt,this.aevt,e,this.max_eid,this.max_tx,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),l))?new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,e,this.max_tx,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),l))?new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,e,this.rschema,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"rschema","rschema",-1196134054),l))?new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,e,this.__meta,this.__extmap,null):new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},
datascript.core.DB.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"schema","schema",-1582001791),this.schema],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"eavt","eavt",-666437073),this.eavt],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"aevt","aevt",-585148059),this.aevt],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"avet","avet",1383857032),this.avet],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),this.max_eid],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),this.max_tx],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rschema","rschema",-1196134054),this.rschema],null)],null),this.__extmap))},datascript.core.DB.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.core.DB(this.schema,this.eavt,this.aevt,this.avet,this.max_eid,this.max_tx,this.rschema,l,this.__extmap,this.__hash)},datascript.core.DB.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.core.DB.getBasis=function(){return new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"schema","schema",58529736,null),new cljs.core.Symbol(null,"eavt","eavt",974094454,null),new cljs.core.Symbol(null,"aevt","aevt",1055383468,null),new cljs.core.Symbol(null,"avet","avet",-1270578737,null),new cljs.core.Symbol(null,"max-eid","max-eid",-519567694,null),new cljs.core.Symbol(null,"max-tx","max-tx",-1534877430,null),new cljs.core.Symbol(null,"rschema","rschema",444397473,null)],null)},datascript.core.DB.cljs$lang$type=!0,datascript.core.DB.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.core/DB")},datascript.core.DB.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.core/DB")},datascript.core.__GT_DB=function(r,l,e,c,t,n,s){return new datascript.core.DB(r,l,e,c,t,n,s,null,null,null)},datascript.core.map__GT_DB=function(r){return new datascript.core.DB(new cljs.core.Keyword(null,"schema","schema",-1582001791).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"eavt","eavt",-666437073).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"aevt","aevt",-585148059).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"avet","avet",1383857032).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"max-eid","max-eid",2134868075).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"max-tx","max-tx",1119558339).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"rschema","rschema",-1196134054).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"schema","schema",-1582001791),new cljs.core.Keyword(null,"eavt","eavt",-666437073),new cljs.core.Keyword(null,"aevt","aevt",-585148059),new cljs.core.Keyword(null,"avet","avet",1383857032),new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),new cljs.core.Keyword(null,"rschema","rschema",-1196134054)),null)},datascript.core.DB.prototype.cljs$core$IPrintWithWriter$=!0,datascript.core.DB.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return datascript.core.pr_db.call(null,this,l,e)},datascript.core.DB.prototype.cljs$core$ICounted$=!0,datascript.core.DB.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count.call(null,this.eavt)},datascript.core.DB.prototype.cljs$core$IReversible$=!0,datascript.core.DB.prototype.cljs$core$IReversible$_rseq$arity$1=function(r){return cljs.core._rseq.call(null,this.eavt)},datascript.core.DB.prototype.cljs$core$IHash$=!0,datascript.core.DB.prototype.cljs$core$IHash$_hash$arity$1=function(r){return datascript.core.hash_db.call(null,this)},datascript.core.DB.prototype.cljs$core$IEquiv$=!0,datascript.core.DB.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return datascript.core.equiv_db.call(null,this,l)},datascript.core.DB.prototype.cljs$core$IEmptyableCollection$=!0,datascript.core.DB.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){return datascript.core.empty_db.call(null,this.schema)},datascript.core.DB.prototype.cljs$core$ISeqable$=!0,datascript.core.DB.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core._seq.call(null,this.eavt)},datascript.core.DB.prototype.datascript$core$IIndexAccess$=!0,datascript.core.DB.prototype.datascript$core$IIndexAccess$_datoms$arity$3=function(r,l,e){return datascript.btset.slice.call(null,cljs.core.get.call(null,this,l),datascript.core.components__GT_pattern.call(null,this,l,e))},datascript.core.DB.prototype.datascript$core$IIndexAccess$_seek_datoms$arity$3=function(r,l,e){return datascript.btset.slice.call(null,cljs.core.get.call(null,this,l),datascript.core.components__GT_pattern.call(null,this,l,e),new datascript.core.Datom(null,null,null,null,null))},datascript.core.DB.prototype.datascript$core$IIndexAccess$_index_range$arity$4=function(r,l,e,c){return datascript.core.validate_attr.call(null,l,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,c),e),l),new cljs.core.Symbol(null,"db","db",-1661185010,null)),new cljs.core.Symbol(null,"-index-range","-index-range",898114142,null))),datascript.btset.slice.call(null,this.avet,datascript.core.resolve_datom.call(null,this,null,l,e,null),datascript.core.resolve_datom.call(null,this,null,l,c,null))},datascript.core.DB.prototype.datascript$core$IDB$=!0,datascript.core.DB.prototype.datascript$core$IDB$_schema$arity$1=function(r){return this.schema},datascript.core.DB.prototype.datascript$core$IDB$_attrs_by$arity$2=function(r,l){return this.rschema.call(null,l)},datascript.core.DB.prototype.datascript$core$ISearch$=!0,datascript.core.DB.prototype.datascript$core$ISearch$_search$arity$2=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(r,e){return function(){var c=function(){return function(r,l,e){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(r,e){return function(r){var c=r[1];if(7===c){var t=r,n=t;return n[2]=r[2],n[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(59===c){var s=r[2],o=t=r;return o[2]=s,o[1]=58,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(20===c){var a=r[2],i=t=r;return i[2]=a,i[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(58===c){var u=r[2],$=t=r;return $[2]=u,$[1]=52,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(27===c){var j=r[7],_=cljs.core.filter.call(null,j,r[2]),p=t=r;return p[2]=_,p[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===c){var d=r[8],y=cljs.core.nth.call(null,l,0,null),f=cljs.core.nth.call(null,l,1,null),h=cljs.core.nth.call(null,l,2,null),v=cljs.core.nth.call(null,l,3,null),w=e.eavt,m=e.aevt,g=e.avet;return r[9]=f,r[10]=h,r[11]=g,r[8]=y,r[12]=v,r[13]=m,r[14]=w,t=r,cljs.core.truth_(y)?t[1]=2:t[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(24===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],j=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,c,r.v)&&cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,h,v)}(),I=new datascript.core.Datom(d,null,null,null,null),k=w.call(null,I);return r[7]=j,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,27,k)}if(55===c){var A=r[2],b=t=r;return b[2]=A,b[1]=52,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(39===c){var F=r[2],P=t=r;return P[2]=F,P[1]=36,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(46===c){var f=r[9],g=r[11],S=new datascript.core.Datom(null,f,null,null,null),T=g.call(null,S),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,49,T)}if(4===c){var R=r[2],t=r;return cljs.core.async.impl.ioc_helpers.return_chan.call(null,t,R)}if(54===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],E=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,c,r.v)}}(0,0,0,h)}(),M=cljs.core.filter.call(null,E,w),x=t=r;return x[2]=M,x[1]=55,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(15===c){var K=r[2],q=t=r;return q[2]=K,q[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(48===c){var N=r[15],V=cljs.core.filter.call(null,N,r[2]),B=t=r;return B[2]=V,B[1]=47,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(50===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=53:t[1]=54,new cljs.core.Keyword(null,"recur","recur",-437573268);if(21===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=24:t[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268);if(31===c){var O=r[2],Q=t=r;return Q[2]=O,Q[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(32===c){var D=r[16],Y=cljs.core.filter.call(null,D,r[2]),C=t=r;return C[2]=Y,C[1]=31,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(40===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],L=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,0,v)}(),G=new datascript.core.Datom(null,f,h,null,null),W=g.call(null,G);return r[17]=L,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,43,W)}if(56===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],H=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,0,v)}(),U=cljs.core.filter.call(null,H,w),z=t=r;return z[2]=U,z[1]=58,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(33===c){var X=r[2],J=t=r;return J[2]=X,J[1]=31,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(13===c){var Z=r[2],rr=t=r;return rr[2]=Z,rr[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(22===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=29:t[1]=30,new cljs.core.Keyword(null,"recur","recur",-437573268);if(36===c){var lr=r[2],er=t=r;return er[2]=lr,er[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(41===c){var f=r[9],h=r[10],g=r[11],cr=new datascript.core.Datom(null,f,h,null,null),tr=g.call(null,cr),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,44,tr)}if(43===c){var L=r[17],nr=cljs.core.filter.call(null,L,r[2]),sr=t=r;return sr[2]=nr,sr[1]=42,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(29===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],D=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,0,v)}(),or=new datascript.core.Datom(d,null,null,null,null),ar=w.call(null,or);return r[16]=D,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,32,ar)}if(44===c){var ir=r[2],ur=t=r;return ur[2]=ir,ur[1]=42,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(6===c){var h=r[10],$r=cljs.core.some_QMARK_.call(null,h),t=r;return t[1]=$r?21:22,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(28===c){var jr=r[18],_r=cljs.core.filter.call(null,jr,r[2]),pr=t=r;return pr[2]=_r,pr[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(51===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=56:t[1]=57,new cljs.core.Keyword(null,"recur","recur",-437573268);if(25===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],jr=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,c,r.v)}}(0,0,0,h)}(),dr=new datascript.core.Datom(d,null,null,null,null),yr=w.call(null,dr);return r[18]=jr,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,28,yr)}if(34===c){var h=r[10],fr=cljs.core.some_QMARK_.call(null,h),t=r;return t[1]=fr?37:38,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(17===c){var f=r[9],d=r[8],w=r[14],hr=new datascript.core.Datom(d,f,null,null,null),vr=w.call(null,hr),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,20,vr)}if(3===c)return f=r[9],t=r,cljs.core.truth_(f)?t[1]=34:t[1]=35,new cljs.core.Keyword(null,"recur","recur",-437573268);if(12===c){var f=r[9],h=r[10],d=r[8],w=r[14],wr=new datascript.core.Datom(d,f,h,null,null),mr=w.call(null,wr),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,15,mr)}if(2===c)return f=r[9],t=r,cljs.core.truth_(f)?t[1]=5:t[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(23===c){var gr=r[2],Ir=t=r;return Ir[2]=gr,Ir[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(47===c){var kr=r[2],Ar=t=r;return Ar[2]=kr,Ar[1]=39,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(35===c){var h=r[10],br=cljs.core.some_QMARK_.call(null,h),t=r;return t[1]=br?50:51,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(19===c){var Fr=r[19],Pr=cljs.core.filter.call(null,Fr,r[2]),Sr=t=r;return Sr[2]=Pr,Sr[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(57===c){var w=r[14],Tr=new datascript.core.Datom(null,null,null,null,null),Rr=w.call(null,Tr),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,59,Rr)}if(11===c){var f=r[9],h=r[10],d=r[8],v=r[12],w=r[14],Er=new datascript.core.Datom(d,f,h,v,null),Mr=w.call(null,Er),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,14,Mr)}if(9===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=16:t[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268);if(5===c){var h=r[10],xr=cljs.core.some_QMARK_.call(null,h),t=r;return t[1]=xr?8:9,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(14===c){var Kr=r[2],qr=t=r;return qr[2]=Kr,qr[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(45===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],N=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,0,v)}(),Nr=new datascript.core.Datom(null,f,null,null,null),Vr=g.call(null,Nr);return r[15]=N,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,48,Vr)}if(53===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],Br=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,c,r.v)&&cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,h,v)}(),Or=cljs.core.filter.call(null,Br,w),Qr=t=r;return Qr[2]=Or,Qr[1]=55,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(26===c){var Dr=r[2],Yr=t=r;return Yr[2]=Dr,Yr[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(16===c){var f=r[9],h=r[10],g=r[11],d=r[8],v=r[12],m=r[13],w=r[14],Fr=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){return cljs.core._EQ_.call(null,t,r.tx)}}(0,0,0,0,v)}(),Cr=new datascript.core.Datom(d,f,null,null,null),Lr=w.call(null,Cr);return r[19]=Fr,t=r,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,19,Lr)}if(38===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=45:t[1]=46,new cljs.core.Keyword(null,"recur","recur",-437573268);if(30===c){var d=r[8],w=r[14],Gr=new datascript.core.Datom(d,null,null,null,null),Wr=w.call(null,Gr),t=r;return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,t,33,Wr)}if(10===c){var Hr=r[2],Ur=t=r;return Ur[2]=Hr,Ur[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(18===c){var zr=r[2],Xr=t=r;return Xr[2]=zr,Xr[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(52===c){var Jr=r[2],Zr=t=r;return Zr[2]=Jr,Zr[1]=36,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(42===c){var rl=r[2],ll=t=r;return ll[2]=rl,ll[1]=39,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(37===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=40:t[1]=41,new cljs.core.Keyword(null,"recur","recur",-437573268);if(8===c)return v=r[12],t=r,cljs.core.truth_(v)?t[1]=11:t[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268);if(49===c){var el=r[2],cl=t=r;return cl[2]=el,cl[1]=47,new cljs.core.Keyword(null,"recur","recur",-437573268)}return null}}(0,e))}(),t=function(){var l=c.call(null);return l[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=r,l}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e,this)),e},datascript.core.db_QMARK_=function(r){return r instanceof datascript.core.ISearch&&r instanceof datascript.core.IIndexAccess&&r instanceof datascript.core.IDB},datascript.core.FilteredDB=function(r,l,e,c,t){this.unfiltered_db=r,this.pred=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.core.FilteredDB.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.core.FilteredDB.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"unfiltered-db":return this.unfiltered_db;case"pred":return this.pred;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.core.FilteredDB.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.core.FilteredDB{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391),this.unfiltered_db],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pred","pred",1927423397),this.pred],null)],null),this.__extmap))},datascript.core.FilteredDB.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.core.FilteredDB.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.core.FilteredDB(this.unfiltered_db,this.pred,this.__meta,this.__extmap,this.__hash)},datascript.core.FilteredDB.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.core.FilteredDB.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.core.FilteredDB.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.core.FilteredDB.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"pred","pred",1927423397),null,new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.core.FilteredDB(this.unfiltered_db,this.pred,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.core.FilteredDB.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391),l))?new datascript.core.FilteredDB(e,this.pred,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"pred","pred",1927423397),l))?new datascript.core.FilteredDB(this.unfiltered_db,e,this.__meta,this.__extmap,null):new datascript.core.FilteredDB(this.unfiltered_db,this.pred,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.core.FilteredDB.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391),this.unfiltered_db],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pred","pred",1927423397),this.pred],null)],null),this.__extmap))},datascript.core.FilteredDB.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.core.FilteredDB(this.unfiltered_db,this.pred,l,this.__extmap,this.__hash)},datascript.core.FilteredDB.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.core.FilteredDB.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"unfiltered-db","unfiltered-db",276811136,null),new cljs.core.Symbol(null,"pred","pred",-727012372,null)],null)},datascript.core.FilteredDB.cljs$lang$type=!0,datascript.core.FilteredDB.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.core/FilteredDB")},datascript.core.FilteredDB.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.core/FilteredDB")},datascript.core.__GT_FilteredDB=function(r,l){return new datascript.core.FilteredDB(r,l,null,null,null)},datascript.core.map__GT_FilteredDB=function(r){return new datascript.core.FilteredDB(new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"pred","pred",1927423397).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"unfiltered-db","unfiltered-db",-1363720391),new cljs.core.Keyword(null,"pred","pred",1927423397)),null)},datascript.core.FilteredDB.prototype.cljs$core$ILookup$=!0,datascript.core.FilteredDB.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){throw Error("-lookup is not supported on FilteredDB")},datascript.core.FilteredDB.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){throw Error("-lookup is not supported on FilteredDB")},datascript.core.FilteredDB.prototype.cljs$core$IPrintWithWriter$=!0,datascript.core.FilteredDB.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return datascript.core.pr_db.call(null,this,l,e)},datascript.core.FilteredDB.prototype.cljs$core$ICounted$=!0,datascript.core.FilteredDB.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count.call(null,datascript.core._datoms.call(null,this,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY))},datascript.core.FilteredDB.prototype.cljs$core$IHash$=!0,datascript.core.FilteredDB.prototype.cljs$core$IHash$_hash$arity$1=function(r){return datascript.core.hash_fdb.call(null,this)},datascript.core.FilteredDB.prototype.cljs$core$IEquiv$=!0,datascript.core.FilteredDB.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return datascript.core.equiv_db.call(null,this,l)},datascript.core.FilteredDB.prototype.cljs$core$IEmptyableCollection$=!0,datascript.core.FilteredDB.prototype.cljs$core$IEmptyableCollection$_empty$arity$1=function(r){throw Error("-empty is not supported on FilteredDB")},datascript.core.FilteredDB.prototype.cljs$core$IAssociative$=!0,datascript.core.FilteredDB.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){throw Error("-contains-key? is not supported on FilteredDB")},datascript.core.FilteredDB.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){throw Error("-assoc is not supported on FilteredDB")},datascript.core.FilteredDB.prototype.cljs$core$ISeqable$=!0,datascript.core.FilteredDB.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return datascript.core._datoms.call(null,this,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY)},datascript.core.FilteredDB.prototype.datascript$core$IIndexAccess$=!0,datascript.core.FilteredDB.prototype.datascript$core$IIndexAccess$_datoms$arity$3=function(r,l,e){return cljs.core.filter.call(null,this.pred,datascript.core._datoms.call(null,this.unfiltered_db,l,e))},datascript.core.FilteredDB.prototype.datascript$core$IIndexAccess$_seek_datoms$arity$3=function(r,l,e){return cljs.core.filter.call(null,this.pred,datascript.core._seek_datoms.call(null,this.unfiltered_db,l,e))},datascript.core.FilteredDB.prototype.datascript$core$IIndexAccess$_index_range$arity$4=function(r,l,e,c){return cljs.core.filter.call(null,this.pred,datascript.core._index_range.call(null,this.unfiltered_db,l,e,c))},datascript.core.FilteredDB.prototype.datascript$core$IDB$=!0,datascript.core.FilteredDB.prototype.datascript$core$IDB$_schema$arity$1=function(r){return datascript.core._schema.call(null,this.unfiltered_db)},datascript.core.FilteredDB.prototype.datascript$core$IDB$_attrs_by$arity$2=function(r,l){return datascript.core._attrs_by.call(null,this.unfiltered_db,l)},datascript.core.FilteredDB.prototype.datascript$core$ISearch$=!0,datascript.core.FilteredDB.prototype.datascript$core$ISearch$_search$arity$2=function(r,l){return cljs.core.filter.call(null,this.pred,datascript.core._search.call(null,this.unfiltered_db,l))},datascript.core.attr__GT_properties=function(r,l){return cljs.core._EQ_.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r,l],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","isComponent","db/isComponent",423352398),!0],null))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","isComponent","db/isComponent",423352398)],null):cljs.core._EQ_.call(null,l,new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)],null):cljs.core._EQ_.call(null,l,new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)],null):cljs.core._EQ_.call(null,l,new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","unique","db/unique",329396388),new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722)],null):cljs.core._EQ_.call(null,l,new cljs.core.Keyword("db.unique","value","db.unique/value",276903088))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","unique","db/unique",329396388),new cljs.core.Keyword("db.unique","value","db.unique/value",276903088)],null):null},datascript.core.multimap=function(r,l){return cljs.core.reduce.call(null,function(l,e){var c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nth.call(null,e,1,null);return cljs.core.update_in.call(null,l,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[c],null),cljs.core.fnil.call(null,cljs.core.conj,r),t)},cljs.core.PersistentArrayMap.EMPTY,l)},datascript.core.rschema=function(r){return datascript.core.multimap.call(null,cljs.core.PersistentHashSet.EMPTY,function(){return function r(l){return new cljs.core.LazySeq(null,function(){for(var e=l;;){var c=cljs.core.seq.call(null,e);if(!c)return null;var t=c,n=cljs.core.first.call(null,t),s=cljs.core.nth.call(null,n,0,null),o=cljs.core.nth.call(null,n,1,null),c=function(r,l,e,c,t,n){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o){return function(){for(var e=l;;){var c=cljs.core.seq.call(null,e);if(!c)return null;var n=c,s=cljs.core.first.call(null,n),o=cljs.core.nth.call(null,s,0,null),a=cljs.core.nth.call(null,s,1,null),c=function(r,l,e,c,t,n,s,o,a,i,u,$){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);r:for(var s=0;;){if(!(s<t)){c=!0;break r}var o=cljs.core._nth.call(null,c,s);cljs.core.chunk_append.call(null,n,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[o,u],null)),s+=1}return c?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return n=cljs.core.first.call(null,e),cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[n,u],null),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,a),null,null)}}(0,0,0,0,0,0,0,0,t);if(o=cljs.core.seq.call(null,c.call(null,datascript.core.attr__GT_properties.call(null,o,a))))return cljs.core.concat.call(null,o,r.call(null,cljs.core.rest.call(null,e)));e=cljs.core.rest.call(null,e)}}}(0,0,e),null,null)}}(0,0,s);if(o=cljs.core.seq.call(null,c.call(null,o)))return cljs.core.concat.call(null,o,r.call(null,cljs.core.rest.call(null,e)));e=cljs.core.rest.call(null,e)}},null,null)}.call(null,r)}())},datascript.core.validate_schema_key=function(r,l,e,c){if(null==e||cljs.core.contains_QMARK_.call(null,c,e))return null;throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute specification for "),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap.fromArray([r,new cljs.core.PersistentArrayMap.fromArray([l,e],!0,!1)],!0,!1))),cljs.core.str(", expected one of "),cljs.core.str(c)].join(""),new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("schema","validation","schema/validation",1178447161),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),r,new cljs.core.Keyword(null,"key","key",-1516042587),l,new cljs.core.Keyword(null,"value","value",305978217),e],null))},datascript.core.validate_schema=function(r){
for(var l=cljs.core.seq.call(null,r),e=null,c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t),s=cljs.core.nth.call(null,n,0,null),o=cljs.core.nth.call(null,n,1,null),a=new cljs.core.Keyword("db","isComponent","db/isComponent",423352398).cljs$core$IFn$_invoke$arity$2(o,!1);if(datascript.core.validate_schema_key.call(null,s,new cljs.core.Keyword("db","isComponent","db/isComponent",423352398),new cljs.core.Keyword("db","isComponent","db/isComponent",423352398).cljs$core$IFn$_invoke$arity$1(o),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[!0,null,!1,null],null),null)),cljs.core.truth_(function(){var r=a;return cljs.core.truth_(r)?cljs.core.not_EQ_.call(null,new cljs.core.Keyword("db","valueType","db/valueType",1827971944).cljs$core$IFn$_invoke$arity$1(o),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)):r}()))throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute specification for "),cljs.core.str(s),cljs.core.str(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("schema","validation","schema/validation",1178447161),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),s,new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword("db","isComponent","db/isComponent",423352398)],null));datascript.core.validate_schema_key.call(null,s,new cljs.core.Keyword("db","unique","db/unique",329396388),new cljs.core.Keyword("db","unique","db/unique",329396388).cljs$core$IFn$_invoke$arity$1(o),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722),null,new cljs.core.Keyword("db.unique","value","db.unique/value",276903088),null],null),null)),datascript.core.validate_schema_key.call(null,s,new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db","valueType","db/valueType",1827971944).cljs$core$IFn$_invoke$arity$1(o),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079),null],null),null)),datascript.core.validate_schema_key.call(null,s,new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659).cljs$core$IFn$_invoke$arity$1(o),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234),null,new cljs.core.Keyword("db.cardinality","one","db.cardinality/one",1428352190),null],null),null)),t+=1}else{if(!(l=cljs.core.seq.call(null,l)))break;if(cljs.core.chunked_seq_QMARK_.call(null,l))c=cljs.core.chunk_first.call(null,l),l=cljs.core.chunk_rest.call(null,l),e=c,c=cljs.core.count.call(null,c);else{var e=cljs.core.first.call(null,l),c=cljs.core.nth.call(null,e,0,null),i=cljs.core.nth.call(null,e,1,null),u=new cljs.core.Keyword("db","isComponent","db/isComponent",423352398).cljs$core$IFn$_invoke$arity$2(i,!1);if(datascript.core.validate_schema_key.call(null,c,new cljs.core.Keyword("db","isComponent","db/isComponent",423352398),new cljs.core.Keyword("db","isComponent","db/isComponent",423352398).cljs$core$IFn$_invoke$arity$1(i),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[!0,null,!1,null],null),null)),cljs.core.truth_(function(){var r=u;return cljs.core.truth_(r)?cljs.core.not_EQ_.call(null,new cljs.core.Keyword("db","valueType","db/valueType",1827971944).cljs$core$IFn$_invoke$arity$1(i),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)):r}()))throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute specification for "),cljs.core.str(c),cljs.core.str(": {:db/isComponent true} should also have {:db/valueType :db.type/ref}")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("schema","validation","schema/validation",1178447161),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),c,new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword("db","isComponent","db/isComponent",423352398)],null));datascript.core.validate_schema_key.call(null,c,new cljs.core.Keyword("db","unique","db/unique",329396388),new cljs.core.Keyword("db","unique","db/unique",329396388).cljs$core$IFn$_invoke$arity$1(i),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722),null,new cljs.core.Keyword("db.unique","value","db.unique/value",276903088),null],null),null)),datascript.core.validate_schema_key.call(null,c,new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db","valueType","db/valueType",1827971944).cljs$core$IFn$_invoke$arity$1(i),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079),null],null),null)),datascript.core.validate_schema_key.call(null,c,new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659).cljs$core$IFn$_invoke$arity$1(i),new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234),null,new cljs.core.Keyword("db.cardinality","one","db.cardinality/one",1428352190),null],null),null)),l=cljs.core.next.call(null,l),e=null,c=0}t=0}return r},datascript.core.empty_db=function(){switch(arguments.length){case 0:return datascript.core.empty_db.cljs$core$IFn$_invoke$arity$0();case 1:return datascript.core.empty_db.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.core.empty_db.cljs$core$IFn$_invoke$arity$0=function(){return datascript.core.empty_db.call(null,datascript.core.default_schema)},datascript.core.empty_db.cljs$core$IFn$_invoke$arity$1=function(r){return datascript.core.map__GT_DB.call(null,new cljs.core.PersistentArrayMap(null,7,[new cljs.core.Keyword(null,"schema","schema",-1582001791),datascript.core.validate_schema.call(null,r),new cljs.core.Keyword(null,"eavt","eavt",-666437073),datascript.btset.btset_by.call(null,datascript.core.cmp_datoms_eavt),new cljs.core.Keyword(null,"aevt","aevt",-585148059),datascript.btset.btset_by.call(null,datascript.core.cmp_datoms_aevt),new cljs.core.Keyword(null,"avet","avet",1383857032),datascript.btset.btset_by.call(null,datascript.core.cmp_datoms_avet),new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),0,new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),datascript.core.tx0,new cljs.core.Keyword(null,"rschema","rschema",-1196134054),datascript.core.rschema.call(null,r)],null))},datascript.core.empty_db.cljs$lang$maxFixedArity=1,datascript.core.init_db=function(){switch(arguments.length){case 1:return datascript.core.init_db.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return datascript.core.init_db.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.core.init_db.cljs$core$IFn$_invoke$arity$1=function(r){return datascript.core.init_db.call(null,r,datascript.core.default_schema)},datascript.core.init_db.cljs$core$IFn$_invoke$arity$2=function(r,l){if(cljs.core.empty_QMARK_.call(null,r))return datascript.core.empty_db.call(null,l);var e=datascript.core.validate_schema.call(null,l),c=datascript.shim.into_array.call(null,r),t=datascript.btset._btset_from_sorted_arr.call(null,c.sort(datascript.core.cmp_datoms_eavt_quick),datascript.core.cmp_datoms_eavt),n=datascript.btset._btset_from_sorted_arr.call(null,c.sort(datascript.core.cmp_datoms_aevt_quick),datascript.core.cmp_datoms_aevt),s=datascript.btset._btset_from_sorted_arr.call(null,c.sort(datascript.core.cmp_datoms_avet_quick),datascript.core.cmp_datoms_avet),o=new cljs.core.Keyword(null,"e","e",1381269198).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,cljs.core._rseq.call(null,t))),e=cljs.core.transduce.call(null,cljs.core.map.call(null,function(r,l,e,c,t,n){return function(r){return r.tx}}()),cljs.core.max,datascript.core.tx0,t);return datascript.core.map__GT_DB.call(null,new cljs.core.PersistentArrayMap(null,7,[new cljs.core.Keyword(null,"schema","schema",-1582001791),l,new cljs.core.Keyword(null,"eavt","eavt",-666437073),t,new cljs.core.Keyword(null,"aevt","aevt",-585148059),n,new cljs.core.Keyword(null,"avet","avet",1383857032),s,new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),o,new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),e,new cljs.core.Keyword(null,"rschema","rschema",-1196134054),datascript.core.rschema.call(null,l)],null))},datascript.core.init_db.cljs$lang$maxFixedArity=2,datascript.core.equiv_db_index=function(r,l){var e=cljs.core._EQ_.call(null,cljs.core.count.call(null,r),cljs.core.count.call(null,l));if(!e)return e;for(var e=cljs.core.seq.call(null,r),c=cljs.core.seq.call(null,l);;){if(null==e)return!0;if(!cljs.core._EQ_.call(null,cljs.core.first.call(null,e),cljs.core.first.call(null,c)))return!1;e=cljs.core.next.call(null,e),c=cljs.core.next.call(null,c)}},datascript.core.hash_db=function(r){var l=r.__hash;return cljs.core.truth_(l)?l:r.__hash=cljs.core.hash_ordered_coll.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY))},datascript.core.hash_fdb=function(r){var l=r.__hash;return cljs.core.truth_(l)?l:r.__hash=cljs.core.hash_ordered_coll.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY))},datascript.core.equiv_db=function(r,l){var e=l instanceof datascript.core.DB||l instanceof datascript.core.FilteredDB;return e&&(e=cljs.core._EQ_.call(null,datascript.core._schema.call(null,r),datascript.core._schema.call(null,l)))?datascript.core.equiv_db_index.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY),datascript.core._datoms.call(null,l,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY)):e},datascript.core.pr_db=function(r,l,e){return cljs.core._write.call(null,l,"#datascript/DB {"),cljs.core._write.call(null,l,":schema "),cljs.core.pr_writer.call(null,datascript.core._schema.call(null,r),l,e),cljs.core._write.call(null,l,", :datoms "),cljs.core.pr_sequential_writer.call(null,l,function(r,l,e){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,"["," ","]",e,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[r.e,r.a,r.v,r.tx],null))},"["," ","]",e,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),cljs.core.PersistentVector.EMPTY)),cljs.core._write.call(null,l,"}")},datascript.core.db_from_reader=function(r){var l=cljs.core.seq_QMARK_.call(null,r)?cljs.core.apply.call(null,cljs.core.hash_map,r):r,e=cljs.core.get.call(null,l,new cljs.core.Keyword(null,"schema","schema",-1582001791)),c=cljs.core.get.call(null,l,new cljs.core.Keyword(null,"datoms","datoms",-290874434));return datascript.core.init_db.call(null,cljs.core.map.call(null,function(r,l,e,c){return function(r){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null),c=cljs.core.nth.call(null,r,2,null);return r=cljs.core.nth.call(null,r,3,null),new datascript.core.Datom(l,e,c,r,!0)}}(),c),e)},datascript.core.resolve_datom=function(r,l,e,c,t){return cljs.core.truth_(e)&&datascript.core.validate_attr.call(null,e,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,t),c),e),l),new cljs.core.Symbol(null,"db","db",-1661185010,null)),new cljs.core.Symbol(null,"resolve-datom","resolve-datom",-294110827,null))),new datascript.core.Datom(datascript.core.entid_some.call(null,r,l),e,cljs.core.truth_(function(){var l=cljs.core.some_QMARK_.call(null,c);return l?datascript.core.ref_QMARK_.call(null,r,e):l}())?datascript.core.entid_strict.call(null,r,c):c,datascript.core.entid_some.call(null,r,t),null)},datascript.core.components__GT_pattern=function(r,l,e){var c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nth.call(null,e,1,null),n=cljs.core.nth.call(null,e,2,null);switch(e=cljs.core.nth.call(null,e,3,null),l instanceof cljs.core.Keyword?l.fqn:null){case"eavt":return datascript.core.resolve_datom.call(null,r,c,t,n,e);case"aevt":return datascript.core.resolve_datom.call(null,r,t,c,n,e);case"avet":return datascript.core.resolve_datom.call(null,r,n,c,t,e);default:throw Error([cljs.core.str("No matching clause: "),cljs.core.str(l)].join(""))}},datascript.core.TxReport=function(r,l,e,c,t,n,s,o){this.db_before=r,this.db_after=l,this.tx_data=e,this.tempids=c,this.tx_meta=t,this.__meta=n,this.__extmap=s,this.__hash=o,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.core.TxReport.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.core.TxReport.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"db-before":return this.db_before;case"db-after":return this.db_after;case"tx-data":return this.tx_data;case"tempids":return this.tempids;case"tx-meta":return this.tx_meta;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.core.TxReport.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.core.TxReport{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-before","db-before",-553691536),this.db_before],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666),this.db_after],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tx-data","tx-data",934159761),this.tx_data],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),this.tempids],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194),this.tx_meta],null)],null),this.__extmap))},datascript.core.TxReport.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.core.TxReport.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,this.tempids,this.tx_meta,this.__meta,this.__extmap,this.__hash)},datascript.core.TxReport.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 5+cljs.core.count.call(null,this.__extmap)},datascript.core.TxReport.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.core.TxReport.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.core.TxReport.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),null,new cljs.core.Keyword(null,"db-after","db-after",-571884666),null,new cljs.core.Keyword(null,"db-before","db-before",-553691536),null,new cljs.core.Keyword(null,"tx-data","tx-data",934159761),null,new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,this.tempids,this.tx_meta,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.core.TxReport.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"db-before","db-before",-553691536),l))?new datascript.core.TxReport(e,this.db_after,this.tx_data,this.tempids,this.tx_meta,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"db-after","db-after",-571884666),l))?new datascript.core.TxReport(this.db_before,e,this.tx_data,this.tempids,this.tx_meta,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"tx-data","tx-data",934159761),l))?new datascript.core.TxReport(this.db_before,this.db_after,e,this.tempids,this.tx_meta,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"tempids","tempids",1767509089),l))?new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,e,this.tx_meta,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194),l))?new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,this.tempids,e,this.__meta,this.__extmap,null):new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,this.tempids,this.tx_meta,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.core.TxReport.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-before","db-before",-553691536),this.db_before],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666),this.db_after],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tx-data","tx-data",934159761),this.tx_data],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),this.tempids],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194),this.tx_meta],null)],null),this.__extmap))},datascript.core.TxReport.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.core.TxReport(this.db_before,this.db_after,this.tx_data,this.tempids,this.tx_meta,l,this.__extmap,this.__hash)},datascript.core.TxReport.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.core.TxReport.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"db-before","db-before",1086839991,null),new cljs.core.Symbol(null,"db-after","db-after",1068646861,null),new cljs.core.Symbol(null,"tx-data","tx-data",-1720276008,null),new cljs.core.Symbol(null,"tempids","tempids",-886926680,null),new cljs.core.Symbol(null,"tx-meta","tx-meta",-1495152575,null)],null)},datascript.core.TxReport.cljs$lang$type=!0,datascript.core.TxReport.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.core/TxReport")},datascript.core.TxReport.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.core/TxReport")},datascript.core.__GT_TxReport=function(r,l,e,c,t){return new datascript.core.TxReport(r,l,e,c,t,null,null,null)},datascript.core.map__GT_TxReport=function(r){return new datascript.core.TxReport(new cljs.core.Keyword(null,"db-before","db-before",-553691536).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"tx-data","tx-data",934159761).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"tempids","tempids",1767509089).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"db-before","db-before",-553691536),new cljs.core.Keyword(null,"db-after","db-after",-571884666),new cljs.core.Keyword(null,"tx-data","tx-data",934159761),new cljs.core.Keyword(null,"tempids","tempids",1767509089),new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194)),null)},datascript.core.is_attr_QMARK_=function(r,l,e){return cljs.core.contains_QMARK_.call(null,datascript.core._attrs_by.call(null,r,e),l)},datascript.core.multival_QMARK_=function(r,l){return datascript.core.is_attr_QMARK_.call(null,r,l,new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234))},datascript.core.ref_QMARK_=function(r,l){return datascript.core.is_attr_QMARK_.call(null,r,l,new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079))};datascript.core.component_QMARK_=function(r,l){return datascript.core.is_attr_QMARK_.call(null,r,l,new cljs.core.Keyword("db","isComponent","db/isComponent",423352398))},datascript.core.entid=function(r,l){if("string"==typeof l||"number"==typeof l)return l;if(cljs.core.sequential_QMARK_.call(null,l)){if(cljs.core.not_EQ_.call(null,cljs.core.count.call(null,l),2))throw cljs.core.ex_info.call(null,[cljs.core.str("Lookup ref should contain 2 elements: "),cljs.core.str(cljs.core.pr_str.call(null,l))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("lookup-ref","syntax","lookup-ref/syntax",-317304012),new cljs.core.Keyword(null,"entity-id","entity-id",1485898093),l],null));if(datascript.core.is_attr_QMARK_.call(null,r,cljs.core.first.call(null,l),new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722)))return new cljs.core.Keyword(null,"e","e",1381269198).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"avet","avet",1383857032),l)));throw cljs.core.ex_info.call(null,[cljs.core.str("Lookup ref attribute should be marked as :db.unique/identity: "),cljs.core.str(cljs.core.pr_str.call(null,l))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("lookup-ref","unique","lookup-ref/unique",-960647710),new cljs.core.Keyword(null,"entity-id","entity-id",1485898093),l],null))}throw cljs.core.ex_info.call(null,[cljs.core.str("Expected number or lookup ref for entity id, got "),cljs.core.str(cljs.core.pr_str.call(null,l))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("entity-id","syntax","entity-id/syntax",1921317045),new cljs.core.Keyword(null,"entity-id","entity-id",1485898093),l],null))},datascript.core.entid_strict=function(r,l){var e=datascript.core.entid.call(null,r,l);if(cljs.core.truth_(e))return e;throw cljs.core.ex_info.call(null,[cljs.core.str("Nothing found for entity id "),cljs.core.str(cljs.core.pr_str.call(null,l))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("entity-id","missing","entity-id/missing",1234588374),new cljs.core.Keyword(null,"entity-id","entity-id",1485898093),l],null))},datascript.core.entid_some=function(r,l){return cljs.core.truth_(l)?datascript.core.entid_strict.call(null,r,l):null},datascript.core.validate_datom=function(r,l){if(cljs.core.truth_(function(){var e=l.added;return cljs.core.truth_(e)?datascript.core.is_attr_QMARK_.call(null,r,l.a,new cljs.core.Keyword("db","unique","db/unique",329396388)):e}())){var e=cljs.core.not_empty.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"avet","avet",1383857032),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l.a,l.v],null)));if(cljs.core.truth_(e))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot add "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" because of unique constraint: "),cljs.core.str(cljs.core.pr_str.call(null,e))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","unique","transact/unique",-940992320),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),l.a,new cljs.core.Keyword(null,"datom","datom",-371556090),l],null))}return null},datascript.core.validate_eid=function(r,l){if("number"==typeof r)return null;throw cljs.core.ex_info.call(null,[cljs.core.str("Bad entity id "),cljs.core.str(cljs.core.pr_str.call(null,r)),cljs.core.str(" at "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(", expected number")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"entity-id","entity-id",1485898093),r,new cljs.core.Keyword(null,"context","context",-830191113),l],null))},datascript.core.validate_attr=function(r,l){if(r instanceof cljs.core.Keyword||"string"==typeof r)return null;throw cljs.core.ex_info.call(null,[cljs.core.str("Bad entity attribute "),cljs.core.str(cljs.core.pr_str.call(null,r)),cljs.core.str(" at "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(", expected keyword or string")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),r,new cljs.core.Keyword(null,"context","context",-830191113),l],null))},datascript.core.validate_val=function(r,l){if(null==r)throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot store nil as a value at "),cljs.core.str(cljs.core.pr_str.call(null,l))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"value","value",305978217),r,new cljs.core.Keyword(null,"context","context",-830191113),l],null));return null},datascript.core.current_tx=function(r){return cljs.core.get_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-before","db-before",-553691536),new cljs.core.Keyword(null,"max-tx","max-tx",1119558339)],null))+1},datascript.core.next_eid=function(r){return new cljs.core.Keyword(null,"max-eid","max-eid",2134868075).cljs$core$IFn$_invoke$arity$1(r)+1},datascript.core.advance_max_eid=function(r,l){return l>new cljs.core.Keyword(null,"max-eid","max-eid",2134868075).cljs$core$IFn$_invoke$arity$1(r)&&l<datascript.core.tx0?cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),l):r},datascript.core.allocate_eid=function(){switch(arguments.length){case 2:return datascript.core.allocate_eid.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.core.allocate_eid.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.core.allocate_eid.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666)],null),datascript.core.advance_max_eid,l)},datascript.core.allocate_eid.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.update_in.call(null,cljs.core.assoc_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),l],null),e),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666)],null),datascript.core.advance_max_eid,e)},datascript.core.allocate_eid.cljs$lang$maxFixedArity=3,datascript.core.tx_id_QMARK_=function(r){return cljs.core._EQ_.call(null,r,new cljs.core.Keyword("db","current-tx","db/current-tx",1600722132))||cljs.core._EQ_.call(null,r,":db/current-tx")},datascript.core.with_datom=function(r,l){if(datascript.core.validate_datom.call(null,r,l),cljs.core.truth_(l.added))return datascript.core.advance_max_eid.call(null,cljs.core.update_in.call(null,cljs.core.update_in.call(null,cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"eavt","eavt",-666437073)],null),datascript.btset.btset_conj,l,datascript.core.cmp_datoms_eavt_quick),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"aevt","aevt",-585148059)],null),datascript.btset.btset_conj,l,datascript.core.cmp_datoms_aevt_quick),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"avet","avet",1383857032)],null),datascript.btset.btset_conj,l,datascript.core.cmp_datoms_avet_quick),l.e);var e=cljs.core.first.call(null,datascript.core._search.call(null,r,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[l.e,l.a,l.v],null)));return cljs.core.update_in.call(null,cljs.core.update_in.call(null,cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"eavt","eavt",-666437073)],null),datascript.btset.btset_disj,e,datascript.core.cmp_datoms_eavt_quick),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"aevt","aevt",-585148059)],null),datascript.btset.btset_disj,e,datascript.core.cmp_datoms_aevt_quick),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"avet","avet",1383857032)],null),datascript.btset.btset_disj,e,datascript.core.cmp_datoms_avet_quick)},datascript.core.transact_report=function(r,l){return cljs.core.update_in.call(null,cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666)],null),datascript.core.with_datom,l),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tx-data","tx-data",934159761)],null),cljs.core.conj,l)},datascript.core.reverse_ref_QMARK_=function(r){if(r instanceof cljs.core.Keyword)return cljs.core._EQ_.call(null,"_",cljs.core.nth.call(null,cljs.core.name.call(null,r),0));if("string"==typeof r)return cljs.core.boolean$.call(null,cljs.core.re_matches.call(null,/(?:([^\/]+)\/)?_([^\/]+)/,r))
;throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute type: "),cljs.core.str(cljs.core.pr_str.call(null,r)),cljs.core.str(", expected keyword or string")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),r],null))},datascript.core.reverse_ref=function(r){if(r instanceof cljs.core.Keyword)return datascript.core.reverse_ref_QMARK_.call(null,r)?cljs.core.keyword.call(null,cljs.core.namespace.call(null,r),cljs.core.subs.call(null,cljs.core.name.call(null,r),1)):cljs.core.keyword.call(null,cljs.core.namespace.call(null,r),[cljs.core.str("_"),cljs.core.str(cljs.core.name.call(null,r))].join(""));if("string"==typeof r){var l=cljs.core.re_matches.call(null,/(?:([^\/]+)\/)?([^\/]+)/,r);return cljs.core.nth.call(null,l,0,null),r=cljs.core.nth.call(null,l,1,null),l=cljs.core.nth.call(null,l,2,null),cljs.core._EQ_.call(null,"_",cljs.core.nth.call(null,l,0))?cljs.core.truth_(r)?[cljs.core.str(r),cljs.core.str("/"),cljs.core.str(cljs.core.subs.call(null,l,1))].join(""):cljs.core.subs.call(null,l,1):cljs.core.truth_(r)?[cljs.core.str(r),cljs.core.str("/_"),cljs.core.str(l)].join(""):[cljs.core.str("_"),cljs.core.str(l)].join("")}throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute type: "),cljs.core.str(cljs.core.pr_str.call(null,r)),cljs.core.str(", expected keyword or string")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),r],null))},datascript.core.resolve_upsert=function(r,l){var e=cljs.core.not_empty.call(null,datascript.core._attrs_by.call(null,r,new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722)));return cljs.core.truth_(e)?cljs.core.reduce_kv.call(null,function(e,c){return function(e,c,t){var n=cljs.core.first.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"avet","avet",1383857032),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[c,t],null)));if(cljs.core.truth_(n)){var s=new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(e),o=n.e;if(null==s)return cljs.core.assoc.call(null,cljs.core.dissoc.call(null,e,c),new cljs.core.Keyword("db","id","db/id",-1388397098),o);if(cljs.core._EQ_.call(null,s,o))return cljs.core.dissoc.call(null,e,c);throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot resolve upsert for "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(": "),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap.fromArray([new cljs.core.Keyword("db","id","db/id",-1388397098),s,c,t],!0,!1))),cljs.core.str(" conflicts with existing "),cljs.core.str(cljs.core.pr_str.call(null,n))].join(""),new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","upsert","transact/upsert",412688078),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),c,new cljs.core.Keyword(null,"entity","entity",-450970276),l,new cljs.core.Keyword(null,"datom","datom",-371556090),n],null))}return e}}(),l,cljs.core.select_keys.call(null,l,e)):l},datascript.core.maybe_wrap_multival=function(r,l,e){return datascript.core.reverse_ref_QMARK_.call(null,l)||datascript.core.multival_QMARK_.call(null,r,l)?cljs.core.not.call(null,function(){var r=datascript.shim.array_QMARK_.call(null,e);return cljs.core.truth_(r)?r:cljs.core.coll_QMARK_.call(null,e)&&!cljs.core.map_QMARK_.call(null,e)}())?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null):cljs.core._EQ_.call(null,cljs.core.count.call(null,e),2)&&datascript.core.is_attr_QMARK_.call(null,r,cljs.core.first.call(null,e),new cljs.core.Keyword("db.unique","identity","db.unique/identity",1675950722))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null):e:new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null)},datascript.core.explode=function(r,l){return function(l){return function e(c){return new cljs.core.LazySeq(null,function(l){return function(){for(var t=c;;){var n=cljs.core.seq.call(null,t);if(!n)return null;var s=n,o=cljs.core.first.call(null,s),a=cljs.core.nth.call(null,o,0,null),i=cljs.core.nth.call(null,o,1,null);if(cljs.core.not_EQ_.call(null,a,new cljs.core.Keyword("db","id","db/id",-1388397098))){var u=(datascript.core.validate_attr.call(null,a,new cljs.core.PersistentArrayMap.fromArray([new cljs.core.Keyword("db","id","db/id",-1388397098),l,a,i],!0,!1)),datascript.core.reverse_ref_QMARK_.call(null,a)),$=u?datascript.core.reverse_ref.call(null,a):a;if(u&&!datascript.core.ref_QMARK_.call(null,r,$))throw cljs.core.ex_info.call(null,[cljs.core.str("Bad attribute "),cljs.core.str(cljs.core.pr_str.call(null,a)),cljs.core.str(": reverse attribute name requires {:db/valueType :db.type/ref} in schema")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"attribute","attribute",-2074029119),a,new cljs.core.Keyword(null,"context","context",-830191113),new cljs.core.PersistentArrayMap.fromArray([new cljs.core.Keyword("db","id","db/id",-1388397098),l,a,i],!0,!1)],null));if(n=function(l,e,c,t,n,s,o,a,i,u,$){return function l(e){return new cljs.core.LazySeq(null,function(c,t,n,s,o,a,i,u,$,j,_){return function(){for(;;){var c=cljs.core.seq.call(null,e);if(c){if(cljs.core.chunked_seq_QMARK_.call(null,c)){var t=cljs.core.chunk_first.call(null,c),o=cljs.core.count.call(null,t),a=cljs.core.chunk_buffer.call(null,o);r:for(var u=0;;){if(!(u<o)){t=!0;break r}var $=cljs.core._nth.call(null,t,u);cljs.core.chunk_append.call(null,a,datascript.core.ref_QMARK_.call(null,r,s)&&cljs.core.map_QMARK_.call(null,$)?cljs.core.assoc.call(null,$,datascript.core.reverse_ref.call(null,i),_):n?new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),$,s,_],null):new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),_,s,$],null)),u+=1}return t?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,a),l.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,a),null)}return a=cljs.core.first.call(null,c),cljs.core.cons.call(null,datascript.core.ref_QMARK_.call(null,r,s)&&cljs.core.map_QMARK_.call(null,a)?cljs.core.assoc.call(null,a,datascript.core.reverse_ref.call(null,i),_):n?new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),a,s,_],null):new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),_,s,a],null),l.call(null,cljs.core.rest.call(null,c)))}return null}}}(0,0,c,t,0,0,o,0,0,0,$),null,null)}}(0,0,u,$,0,0,a,0,0,0,l),a=cljs.core.seq.call(null,n.call(null,datascript.core.maybe_wrap_multival.call(null,r,a,i))))return cljs.core.concat.call(null,a,e.call(null,cljs.core.rest.call(null,t)))}t=cljs.core.rest.call(null,t)}}}(l),null,null)}}(new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(l)).call(null,l)},datascript.core.transact_add=function(r,l){cljs.core.nth.call(null,l,0,null);var e=cljs.core.nth.call(null,l,1,null),c=cljs.core.nth.call(null,l,2,null),t=cljs.core.nth.call(null,l,3,null);datascript.core.validate_attr.call(null,c,l),datascript.core.validate_val.call(null,t,l);var n=datascript.core.current_tx.call(null,r),s=new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(r),e=datascript.core.entid_strict.call(null,s,e),t=datascript.core.ref_QMARK_.call(null,s,c)?datascript.core.entid_strict.call(null,s,t):t,o=new datascript.core.Datom(e,c,t,n,!0);return datascript.core.multival_QMARK_.call(null,s,c)?cljs.core.empty_QMARK_.call(null,datascript.core._search.call(null,s,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c,t],null)))?datascript.core.transact_report.call(null,r,o):r:(s=cljs.core.first.call(null,datascript.core._search.call(null,s,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c],null))),cljs.core.truth_(s)?cljs.core._EQ_.call(null,s.v,t)?r:datascript.core.transact_report.call(null,datascript.core.transact_report.call(null,r,new datascript.core.Datom(e,c,s.v,n,!1)),o):datascript.core.transact_report.call(null,r,o))},datascript.core.transact_retract_datom=function(r,l){var e=datascript.core.current_tx.call(null,r);return datascript.core.transact_report.call(null,r,new datascript.core.Datom(l.e,l.a,l.v,e,!1))},datascript.core.retract_components=function(r,l){return cljs.core.into.call(null,cljs.core.PersistentHashSet.EMPTY,cljs.core.comp.call(null,cljs.core.filter.call(null,function(l){return datascript.core.component_QMARK_.call(null,r,l.a)}),cljs.core.map.call(null,function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db.fn","retractEntity","db.fn/retractEntity",-1423535441),r.v],null)})),l)},datascript.core.transact_tx_data=function(r,l){for(;;){if(null!=l&&!cljs.core.sequential_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,[cljs.core.str("Bad transaction data "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(", expected sequential collection")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"tx-data","tx-data",934159761),l],null));var e=l,c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nthnext.call(null,e,1),n=new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(r);if(null==c)return cljs.core.update_in.call(null,cljs.core.assoc_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),new cljs.core.Keyword("db","current-tx","db/current-tx",1600722132)],null),datascript.core.current_tx.call(null,r)),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"db-after","db-after",-571884666),new cljs.core.Keyword(null,"max-tx","max-tx",1119558339)],null),cljs.core.inc);if(cljs.core.map_QMARK_.call(null,c)){var s=new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(c),o=datascript.core.entid_some.call(null,n,cljs.core.truth_(datascript.shim.neg_number_QMARK_.call(null,s))?cljs.core.get_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),s],null)):datascript.core.tx_id_QMARK_.call(null,s)?datascript.core.current_tx.call(null,r):s),a=datascript.core.resolve_upsert.call(null,n,cljs.core.assoc.call(null,c,new cljs.core.Keyword("db","id","db/id",-1388397098),o)),o=function(){var r=new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(a);return cljs.core.truth_(r)?r:datascript.core.next_eid.call(null,n)}(),c=cljs.core.assoc.call(null,a,new cljs.core.Keyword("db","id","db/id",-1388397098),o),s=null==s?datascript.core.allocate_eid.call(null,r,o):cljs.core.truth_(datascript.shim.neg_number_QMARK_.call(null,s))?datascript.core.allocate_eid.call(null,r,s,o):r,t=cljs.core.concat.call(null,datascript.core.explode.call(null,n,c),t);r=s,l=t}else{if(!cljs.core.sequential_QMARK_.call(null,c))throw cljs.core.ex_info.call(null,[cljs.core.str("Bad entity type at "),cljs.core.str(cljs.core.pr_str.call(null,c)),cljs.core.str(", expected map or vector")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"tx-data","tx-data",934159761),c],null));var i=c,s=cljs.core.nth.call(null,i,0,null),o=cljs.core.nth.call(null,i,1,null),u=cljs.core.nth.call(null,i,2,null),$=cljs.core.nth.call(null,i,3,null);if(cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db.fn","call","db.fn/call",-151594418))){var s=(cljs.core.nth.call(null,c,0,null),cljs.core.nth.call(null,c,1,null)),o=cljs.core.nthnext.call(null,c,2),c=r,t=cljs.core.concat.call(null,cljs.core.apply.call(null,s,n,o),t);r=c,l=t}else if(cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db.fn","cas","db.fn/cas",-379352172))){var j=c,_=(cljs.core.nth.call(null,j,0,null),cljs.core.nth.call(null,j,1,null)),p=cljs.core.nth.call(null,j,2,null),d=cljs.core.nth.call(null,j,3,null),y=cljs.core.nth.call(null,j,4,null),f=datascript.core.entid_strict.call(null,n,_),h=(datascript.core.validate_attr.call(null,p,c),datascript.core.ref_QMARK_.call(null,n,p)?datascript.core.entid_strict.call(null,n,d):d),v=datascript.core.ref_QMARK_.call(null,n,p)?datascript.core.entid_strict.call(null,n,y):y,w=(datascript.core.validate_val.call(null,h,c),datascript.core.validate_val.call(null,v,c),datascript.core._search.call(null,n,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[f,p],null)));if(datascript.core.multival_QMARK_.call(null,n,p)){if(!cljs.core.truth_(cljs.core.some.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g,I){return function(r){return cljs.core._EQ_.call(null,r.v,u)}}(0,0,0,0,0,0,0,0,0,0,h),w)))throw cljs.core.ex_info.call(null,[cljs.core.str(":db.fn/cas failed on datom ["),cljs.core.str(cljs.core.pr_str.call(null,f)),cljs.core.str(" "),cljs.core.str(cljs.core.pr_str.call(null,p)),cljs.core.str(" "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"v","v",21465059),w))),cljs.core.str("], expected "),cljs.core.str(cljs.core.pr_str.call(null,h))].join(""),new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","cas","transact/cas",816687170),new cljs.core.Keyword(null,"old","old",-1825222690),w,new cljs.core.Keyword(null,"expected","expected",1583670997),h,new cljs.core.Keyword(null,"new","new",-2085437848),v],null));r=s=datascript.core.transact_add.call(null,r,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),f,p,v],null)),l=t}else{if(s=new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,w)),!cljs.core._EQ_.call(null,s,h))throw cljs.core.ex_info.call(null,[cljs.core.str(":db.fn/cas failed on datom ["),cljs.core.str(cljs.core.pr_str.call(null,f)),cljs.core.str(" "),cljs.core.str(cljs.core.pr_str.call(null,p)),cljs.core.str(" "),cljs.core.str(cljs.core.pr_str.call(null,s)),cljs.core.str("], expected "),cljs.core.str(cljs.core.pr_str.call(null,h))].join(""),new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","cas","transact/cas",816687170),new cljs.core.Keyword(null,"old","old",-1825222690),cljs.core.first.call(null,w),new cljs.core.Keyword(null,"expected","expected",1583670997),h,new cljs.core.Keyword(null,"new","new",-2085437848),v],null));r=s=datascript.core.transact_add.call(null,r,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db","add","db/add",235286841),f,p,v],null)),l=t}}else if(datascript.core.tx_id_QMARK_.call(null,o))c=r,t=cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[s,datascript.core.current_tx.call(null,r),u,$],null)],null),t),r=c,l=t;else if(datascript.core.ref_QMARK_.call(null,n,u)&&datascript.core.tx_id_QMARK_.call(null,$))c=r,t=cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[s,o,u,datascript.core.current_tx.call(null,r)],null)],null),t),r=c,l=t;else if(cljs.core.truth_(datascript.shim.neg_number_QMARK_.call(null,o)))c=cljs.core.get_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),o],null)),cljs.core.truth_(c)?(o=r,t=cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[s,c,u,$],null)],null),t),r=o,l=t):(t=datascript.core.allocate_eid.call(null,r,o,datascript.core.next_eid.call(null,n)),s=l,r=t,l=s);else if(cljs.core.truth_(function(){var r=datascript.core.ref_QMARK_.call(null,n,u);return r?datascript.shim.neg_number_QMARK_.call(null,$):r}()))c=cljs.core.get_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tempids","tempids",1767509089),$],null)),cljs.core.truth_(c)?(_=r,t=cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[s,o,u,c],null)],null),t),r=_,l=t):(t=datascript.core.allocate_eid.call(null,r,$,datascript.core.next_eid.call(null,n)),s=l,r=t,l=s);else if(cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db","add","db/add",235286841)))r=s=datascript.core.transact_add.call(null,r,c),l=t;else if(cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db","retract","db/retract",-1549825231)))_=datascript.core.entid_strict.call(null,n,o),s=datascript.core.ref_QMARK_.call(null,n,u)?datascript.core.entid_strict.call(null,n,$):$,datascript.core.validate_attr.call(null,u,c),datascript.core.validate_val.call(null,s,c),c=cljs.core.first.call(null,datascript.core._search.call(null,n,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[_,u,s],null))),cljs.core.truth_(c)&&(r=s=datascript.core.transact_retract_datom.call(null,r,c)),l=t;else if(cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db.fn","retractAttribute","db.fn/retractAttribute",937402164)))_=datascript.core.entid_strict.call(null,n,o),datascript.core.validate_attr.call(null,u,c),w=datascript.core._search.call(null,n,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[_,u],null)),s=cljs.core.reduce.call(null,datascript.core.transact_retract_datom,r,w),t=cljs.core.concat.call(null,datascript.core.retract_components.call(null,n,w),t),r=s,l=t;else{if(!cljs.core._EQ_.call(null,s,new cljs.core.Keyword("db.fn","retractEntity","db.fn/retractEntity",-1423535441)))throw cljs.core.ex_info.call(null,[cljs.core.str("Unknown operation at "),cljs.core.str(cljs.core.pr_str.call(null,c)),cljs.core.str(", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute or :db.fn/retractEntity")].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transact","syntax","transact/syntax",-299207078),new cljs.core.Keyword(null,"operation","operation",-1267664310),s,new cljs.core.Keyword(null,"tx-data","tx-data",934159761),c],null));_=datascript.core.entid_strict.call(null,n,o),w=datascript.core._search.call(null,n,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[_],null)),s=cljs.core.mapcat.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j){return function(r){return datascript.core._search.call(null,j,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[null,r,e],null))}}(0,0,_,0,0,0,0,0,0,0,0,0,n),datascript.core._attrs_by.call(null,n,new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079))),s=cljs.core.reduce.call(null,datascript.core.transact_retract_datom,r,cljs.core.concat.call(null,w,s)),t=cljs.core.concat.call(null,datascript.core.retract_components.call(null,n,w),t),r=s,l=t}}}},clojure.set={},clojure.set.bubble_max_key=function(r,l){var e=cljs.core.apply.call(null,cljs.core.max_key,r,l);return cljs.core.cons.call(null,e,cljs.core.remove.call(null,function(r){return function(l){return r===l}}(e),l))},clojure.set.union=function(){switch(arguments.length){case 0:return clojure.set.union.cljs$core$IFn$_invoke$arity$0();case 1:return clojure.set.union.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return clojure.set.union.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return clojure.set.union.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},clojure.set.union.cljs$core$IFn$_invoke$arity$0=function(){return cljs.core.PersistentHashSet.EMPTY},clojure.set.union.cljs$core$IFn$_invoke$arity$1=function(r){return r},clojure.set.union.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.count.call(null,r)<cljs.core.count.call(null,l)?cljs.core.reduce.call(null,cljs.core.conj,l,r):cljs.core.reduce.call(null,cljs.core.conj,r,l)},clojure.set.union.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return r=clojure.set.bubble_max_key.call(null,cljs.core.count,cljs.core.conj.call(null,e,l,r)),cljs.core.reduce.call(null,cljs.core.into,cljs.core.first.call(null,r),cljs.core.rest.call(null,r))},clojure.set.union.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),clojure.set.union.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},clojure.set.union.cljs$lang$maxFixedArity=2,clojure.set.intersection=function(){switch(arguments.length){case 1:return clojure.set.intersection.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},clojure.set.intersection.cljs$core$IFn$_invoke$arity$1=function(r){return r},clojure.set.intersection.cljs$core$IFn$_invoke$arity$2=function(r,l){for(;;){if(!(cljs.core.count.call(null,l)<cljs.core.count.call(null,r)))return cljs.core.reduce.call(null,function(r,l){return function(r,e){return cljs.core.contains_QMARK_.call(null,l,e)?r:cljs.core.disj.call(null,r,e)}}(0,l),r,r);var e=r;r=l,l=e}},clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return r=clojure.set.bubble_max_key.call(null,function(r){return-cljs.core.count.call(null,r)},cljs.core.conj.call(null,e,l,r)),cljs.core.reduce.call(null,clojure.set.intersection,cljs.core.first.call(null,r),cljs.core.rest.call(null,r))},clojure.set.intersection.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),clojure.set.intersection.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},clojure.set.intersection.cljs$lang$maxFixedArity=2,clojure.set.difference=function(){switch(arguments.length){case 1:return clojure.set.difference.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return clojure.set.difference.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:var r=new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0);return clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)}},clojure.set.difference.cljs$core$IFn$_invoke$arity$1=function(r){return r},clojure.set.difference.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core.count.call(null,r)<cljs.core.count.call(null,l)?cljs.core.reduce.call(null,function(r,e){return cljs.core.contains_QMARK_.call(null,l,e)?cljs.core.disj.call(null,r,e):r},r,r):cljs.core.reduce.call(null,cljs.core.disj,r,l)},clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.call(null,clojure.set.difference,r,cljs.core.conj.call(null,e,l))},clojure.set.difference.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),clojure.set.difference.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},clojure.set.difference.cljs$lang$maxFixedArity=2,clojure.set.select=function(r,l){return cljs.core.reduce.call(null,function(l,e){return cljs.core.truth_(r.call(null,e))?l:cljs.core.disj.call(null,l,e)},l,l)},clojure.set.project=function(r,l){return cljs.core.set.call(null,cljs.core.map.call(null,function(r){return cljs.core.select_keys.call(null,r,l)},r))},clojure.set.rename_keys=function(r,l){return cljs.core.reduce.call(null,function(l,e){var c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nth.call(null,e,1,null);return cljs.core.contains_QMARK_.call(null,r,c)?cljs.core.assoc.call(null,l,t,cljs.core.get.call(null,r,c)):l},cljs.core.apply.call(null,cljs.core.dissoc,r,cljs.core.keys.call(null,l)),l)},clojure.set.rename=function(r,l){return cljs.core.set.call(null,cljs.core.map.call(null,function(r){return clojure.set.rename_keys.call(null,r,l)},r))},clojure.set.index=function(r,l){return cljs.core.reduce.call(null,function(r,e){var c=cljs.core.select_keys.call(null,e,l);return cljs.core.assoc.call(null,r,c,cljs.core.conj.call(null,cljs.core.get.call(null,r,c,cljs.core.PersistentHashSet.EMPTY),e))},cljs.core.PersistentArrayMap.EMPTY,r)},clojure.set.map_invert=function(r){return cljs.core.reduce.call(null,function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null);return cljs.core.assoc.call(null,r,c,e)},cljs.core.PersistentArrayMap.EMPTY,r)},clojure.set.join=function(){switch(arguments.length){case 2:return clojure.set.join.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return clojure.set.join.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},clojure.set.join.cljs$core$IFn$_invoke$arity$2=function(r,l){if(cljs.core.seq.call(null,r)&&cljs.core.seq.call(null,l)){var e=clojure.set.intersection.call(null,cljs.core.set.call(null,cljs.core.keys.call(null,cljs.core.first.call(null,r))),cljs.core.set.call(null,cljs.core.keys.call(null,cljs.core.first.call(null,l)))),c=cljs.core.count.call(null,r)<=cljs.core.count.call(null,l)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r,l],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r],null),t=cljs.core.nth.call(null,c,0,null),n=cljs.core.nth.call(null,c,1,null),s=clojure.set.index.call(null,t,e);return cljs.core.reduce.call(null,function(r,l,e,c,t){return function(l,e){var c=t.call(null,cljs.core.select_keys.call(null,e,r));return cljs.core.truth_(c)?cljs.core.reduce.call(null,function(r,l,c,t,n,s){return function(r,l){return cljs.core.conj.call(null,r,cljs.core.merge.call(null,l,e))}}(),l,c):l}}(e,0,0,0,s),cljs.core.PersistentHashSet.EMPTY,n)}return cljs.core.PersistentHashSet.EMPTY},clojure.set.join.cljs$core$IFn$_invoke$arity$3=function(r,l,e){r=cljs.core.count.call(null,r)<=cljs.core.count.call(null,l)?new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[r,l,clojure.set.map_invert.call(null,e)],null):new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r,e],null),l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null);var c=cljs.core.nth.call(null,r,2,null),t=clojure.set.index.call(null,l,cljs.core.vals.call(null,c));return cljs.core.reduce.call(null,function(r,l,e,c,t){return function(r,l){var e=t.call(null,clojure.set.rename_keys.call(null,cljs.core.select_keys.call(null,l,cljs.core.keys.call(null,c)),c));return cljs.core.truth_(e)?cljs.core.reduce.call(null,function(r,e,c,t,n,s){return function(r,e){return cljs.core.conj.call(null,r,cljs.core.merge.call(null,e,l))}}(),r,e):r}}(0,0,0,c,t),cljs.core.PersistentHashSet.EMPTY,e)},clojure.set.join.cljs$lang$maxFixedArity=3,clojure.set.subset_QMARK_=function(r,l){return cljs.core.count.call(null,r)<=cljs.core.count.call(null,l)&&cljs.core.every_QMARK_.call(null,function(r){return cljs.core.contains_QMARK_.call(null,l,r)},r)},clojure.set.superset_QMARK_=function(r,l){return cljs.core.count.call(null,r)>=cljs.core.count.call(null,l)&&cljs.core.every_QMARK_.call(null,function(l){return cljs.core.contains_QMARK_.call(null,r,l)},l)},datascript.parser={},datascript.parser.ITraversable=function(){return{}}(),datascript.parser._collect=function(r,l,e){if(r?r.datascript$parser$ITraversable$_collect$arity$3:r)return r.datascript$parser$ITraversable$_collect$arity$3(r,l,e);var c;if(!(c=datascript.parser._collect[goog.typeOf(null==r?null:r)])&&!(c=datascript.parser._collect._))throw cljs.core.missing_protocol.call(null,"ITraversable.-collect",r);return c.call(null,r,l,e)},datascript.parser._collect_vars=function(r,l){if(r?r.datascript$parser$ITraversable$_collect_vars$arity$2:r)return r.datascript$parser$ITraversable$_collect_vars$arity$2(r,l);var e;if(!(e=datascript.parser._collect_vars[goog.typeOf(null==r?null:r)])&&!(e=datascript.parser._collect_vars._))throw cljs.core.missing_protocol.call(null,"ITraversable.-collect-vars",r);return e.call(null,r,l)},datascript.parser._postwalk=function(r,l){if(r?r.datascript$parser$ITraversable$_postwalk$arity$2:r)return r.datascript$parser$ITraversable$_postwalk$arity$2(r,l);var e;if(!(e=datascript.parser._postwalk[goog.typeOf(null==r?null:r)])&&!(e=datascript.parser._postwalk._))throw cljs.core.missing_protocol.call(null,"ITraversable.-postwalk",r);return e.call(null,r,l)},datascript.parser.of_size_QMARK_=function(r,l){return cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,r),l)},datascript.parser.parse_seq=function(r,l){return cljs.core.sequential_QMARK_.call(null,l)?cljs.core.reduce.call(null,function(l,e){var c=r.call(null,e);return cljs.core.truth_(c)?cljs.core.conj.call(null,l,c):cljs.core.reduced.call(null,null)},cljs.core.PersistentVector.EMPTY,l):null},datascript.parser.collect=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.parser.collect.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},datascript.parser.collect.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){var c=cljs.core.nth.call(null,e,0,null),t=cljs.core.truth_(c)?c:cljs.core.PersistentVector.EMPTY;return cljs.core.truth_(r.call(null,l))?cljs.core.conj.call(null,t,l):(l?cljs.core.truth_(cljs.core.truth_(null)?null:l.datascript$parser$ITraversable$)||(l.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,l)):cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,l))?datascript.parser._collect.call(null,l,r,t):cljs.core.truth_(datascript.shim.seqable_QMARK_.call(null,l))?cljs.core.reduce.call(null,function(l,e,c){return function(l,e){return datascript.parser.collect.call(null,r,e,l)}}(),t,l):t},datascript.parser.collect.cljs$lang$maxFixedArity=2,datascript.parser.collect.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.parser.collect.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.parser.distinct_QMARK_=function(r){var l=cljs.core.empty_QMARK_.call(null,r);return l||cljs.core.apply.call(null,cljs.core.distinct_QMARK_,r)},datascript.parser.postwalk=function r(l,e){
return(l?cljs.core.truth_(cljs.core.truth_(null)?null:l.datascript$parser$ITraversable$)||(l.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,l)):cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,l))?e.call(null,datascript.parser._postwalk.call(null,l,e)):cljs.core.map_QMARK_.call(null,l)?e.call(null,cljs.core.reduce.call(null,function(l,c){var t=cljs.core.nth.call(null,c,0,null),n=cljs.core.nth.call(null,c,1,null);return cljs.core.assoc.call(null,l,t,r.call(null,n,e))},l,l)):cljs.core.seq_QMARK_.call(null,l)?e.call(null,cljs.core.map.call(null,function(l){return r.call(null,l,e)},l)):cljs.core.coll_QMARK_.call(null,l)?e.call(null,cljs.core.into.call(null,cljs.core.empty.call(null,l),cljs.core.map.call(null,function(l){return r.call(null,l,e)},l))):e.call(null,l)},datascript.parser.with_source=function(r,l){return cljs.core.with_meta.call(null,r,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"source","source",-433931539),l],null))},datascript.parser.source=function(r){var l=new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,r));return cljs.core.truth_(l)?l:r},datascript.parser.Placeholder=function(r,l,e){this.__meta=r,this.__extmap=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Placeholder.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Placeholder.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core.get.call(null,this.__extmap,l,e)},datascript.parser.Placeholder.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Placeholder{",", ","}",e,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.Placeholder.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Placeholder.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Placeholder(this.__meta,this.__extmap,this.__hash)},datascript.parser.Placeholder.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0+cljs.core.count.call(null,this.__extmap)},datascript.parser.Placeholder.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Placeholder.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Placeholder.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.PersistentHashSet.EMPTY,l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Placeholder(this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Placeholder.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return new datascript.parser.Placeholder(this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Placeholder.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.Placeholder.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Placeholder(l,this.__extmap,this.__hash)},datascript.parser.Placeholder.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Placeholder.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Placeholder.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Placeholder(null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Placeholder.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return e},datascript.parser.Placeholder.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return l},datascript.parser.Placeholder.getBasis=function(){return cljs.core.PersistentVector.EMPTY},datascript.parser.Placeholder.cljs$lang$type=!0,datascript.parser.Placeholder.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Placeholder")},datascript.parser.Placeholder.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Placeholder")},datascript.parser.__GT_Placeholder=function(){return new datascript.parser.Placeholder(null,null,null)},datascript.parser.map__GT_Placeholder=function(r){return new datascript.parser.Placeholder(null,cljs.core.dissoc.call(null,r),null)},datascript.parser.Variable=function(r,l,e,c){this.symbol=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Variable.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Variable.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"symbol":return this.symbol;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Variable.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Variable{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.Variable.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Variable.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Variable(this.symbol,this.__meta,this.__extmap,this.__hash)},datascript.parser.Variable.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.Variable.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Variable.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Variable.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Variable(this.symbol,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Variable.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),l))?new datascript.parser.Variable(e,this.__meta,this.__extmap,null):new datascript.parser.Variable(this.symbol,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Variable.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.Variable.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Variable(this.symbol,l,this.__extmap,this.__hash)},datascript.parser.Variable.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Variable.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Variable.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Variable(datascript.parser.postwalk.call(null,this.symbol,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Variable.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.symbol,e)},datascript.parser.Variable.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.symbol)},datascript.parser.Variable.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbol","symbol",601958831,null)],null)},datascript.parser.Variable.cljs$lang$type=!0,datascript.parser.Variable.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Variable")},datascript.parser.Variable.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Variable")},datascript.parser.__GT_Variable=function(r){return new datascript.parser.Variable(r,null,null,null)},datascript.parser.map__GT_Variable=function(r){return new datascript.parser.Variable(new cljs.core.Keyword(null,"symbol","symbol",-1038572696).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"symbol","symbol",-1038572696)),null)},datascript.parser.SrcVar=function(r,l,e,c){this.symbol=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.SrcVar.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.SrcVar.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"symbol":return this.symbol;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.SrcVar.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.SrcVar{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.SrcVar.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.SrcVar.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.SrcVar(this.symbol,this.__meta,this.__extmap,this.__hash)},datascript.parser.SrcVar.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.SrcVar.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.SrcVar.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.SrcVar.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.SrcVar(this.symbol,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.SrcVar.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),l))?new datascript.parser.SrcVar(e,this.__meta,this.__extmap,null):new datascript.parser.SrcVar(this.symbol,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.SrcVar.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.SrcVar.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.SrcVar(this.symbol,l,this.__extmap,this.__hash)},datascript.parser.SrcVar.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.SrcVar.prototype.datascript$parser$ITraversable$=!0,datascript.parser.SrcVar.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.SrcVar(datascript.parser.postwalk.call(null,this.symbol,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.SrcVar.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.symbol,e)},datascript.parser.SrcVar.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.symbol)},datascript.parser.SrcVar.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbol","symbol",601958831,null)],null)},datascript.parser.SrcVar.cljs$lang$type=!0,datascript.parser.SrcVar.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/SrcVar")},datascript.parser.SrcVar.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/SrcVar")},datascript.parser.__GT_SrcVar=function(r){return new datascript.parser.SrcVar(r,null,null,null)},datascript.parser.map__GT_SrcVar=function(r){return new datascript.parser.SrcVar(new cljs.core.Keyword(null,"symbol","symbol",-1038572696).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"symbol","symbol",-1038572696)),null)},datascript.parser.DefaultSrc=function(r,l,e){this.__meta=r,this.__extmap=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.DefaultSrc.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.DefaultSrc.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core.get.call(null,this.__extmap,l,e)},datascript.parser.DefaultSrc.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.DefaultSrc{",", ","}",e,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.DefaultSrc.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.DefaultSrc.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.DefaultSrc(this.__meta,this.__extmap,this.__hash)},datascript.parser.DefaultSrc.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0+cljs.core.count.call(null,this.__extmap)},datascript.parser.DefaultSrc.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.DefaultSrc.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.DefaultSrc.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.PersistentHashSet.EMPTY,l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.DefaultSrc(this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.DefaultSrc.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return new datascript.parser.DefaultSrc(this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.DefaultSrc.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.DefaultSrc.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.DefaultSrc(l,this.__extmap,this.__hash)},datascript.parser.DefaultSrc.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.DefaultSrc.prototype.datascript$parser$ITraversable$=!0,datascript.parser.DefaultSrc.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.DefaultSrc(null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.DefaultSrc.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return e},datascript.parser.DefaultSrc.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return l},datascript.parser.DefaultSrc.getBasis=function(){return cljs.core.PersistentVector.EMPTY},datascript.parser.DefaultSrc.cljs$lang$type=!0,datascript.parser.DefaultSrc.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/DefaultSrc")},datascript.parser.DefaultSrc.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/DefaultSrc")},datascript.parser.__GT_DefaultSrc=function(){return new datascript.parser.DefaultSrc(null,null,null)},datascript.parser.map__GT_DefaultSrc=function(r){return new datascript.parser.DefaultSrc(null,cljs.core.dissoc.call(null,r),null)},datascript.parser.RulesVar=function(r,l,e){this.__meta=r,this.__extmap=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.RulesVar.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.RulesVar.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core.get.call(null,this.__extmap,l,e)},datascript.parser.RulesVar.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.RulesVar{",", ","}",e,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.RulesVar.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.RulesVar.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.RulesVar(this.__meta,this.__extmap,this.__hash)},datascript.parser.RulesVar.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0+cljs.core.count.call(null,this.__extmap)},datascript.parser.RulesVar.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.RulesVar.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.RulesVar.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.PersistentHashSet.EMPTY,l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.RulesVar(this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.RulesVar.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return new datascript.parser.RulesVar(this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.RulesVar.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.RulesVar.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.RulesVar(l,this.__extmap,this.__hash)},datascript.parser.RulesVar.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.RulesVar.prototype.datascript$parser$ITraversable$=!0,datascript.parser.RulesVar.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.RulesVar(null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.RulesVar.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return e},datascript.parser.RulesVar.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return l},datascript.parser.RulesVar.getBasis=function(){return cljs.core.PersistentVector.EMPTY},datascript.parser.RulesVar.cljs$lang$type=!0,datascript.parser.RulesVar.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/RulesVar")},datascript.parser.RulesVar.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/RulesVar")},datascript.parser.__GT_RulesVar=function(){return new datascript.parser.RulesVar(null,null,null)},datascript.parser.map__GT_RulesVar=function(r){return new datascript.parser.RulesVar(null,cljs.core.dissoc.call(null,r),null)},datascript.parser.Constant=function(r,l,e,c){this.value=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Constant.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Constant.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"value":return this.value;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Constant.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Constant{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"value","value",305978217),this.value],null)],null),this.__extmap))},datascript.parser.Constant.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta};datascript.parser.Constant.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Constant(this.value,this.__meta,this.__extmap,this.__hash)},datascript.parser.Constant.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.Constant.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Constant.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Constant.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"value","value",305978217),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Constant(this.value,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Constant.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"value","value",305978217),l))?new datascript.parser.Constant(e,this.__meta,this.__extmap,null):new datascript.parser.Constant(this.value,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Constant.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"value","value",305978217),this.value],null)],null),this.__extmap))},datascript.parser.Constant.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Constant(this.value,l,this.__extmap,this.__hash)},datascript.parser.Constant.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Constant.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Constant.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Constant(datascript.parser.postwalk.call(null,this.value,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Constant.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.value,e)},datascript.parser.Constant.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.value)},datascript.parser.Constant.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"value","value",1946509744,null)],null)},datascript.parser.Constant.cljs$lang$type=!0,datascript.parser.Constant.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Constant")},datascript.parser.Constant.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Constant")},datascript.parser.__GT_Constant=function(r){return new datascript.parser.Constant(r,null,null,null)},datascript.parser.map__GT_Constant=function(r){return new datascript.parser.Constant(new cljs.core.Keyword(null,"value","value",305978217).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"value","value",305978217)),null)},datascript.parser.PlainSymbol=function(r,l,e,c){this.symbol=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.PlainSymbol.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.PlainSymbol.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"symbol":return this.symbol;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.PlainSymbol.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.PlainSymbol{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.PlainSymbol.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.PlainSymbol.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.PlainSymbol(this.symbol,this.__meta,this.__extmap,this.__hash)},datascript.parser.PlainSymbol.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.PlainSymbol.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.PlainSymbol.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.PlainSymbol.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){
return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.PlainSymbol(this.symbol,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.PlainSymbol.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),l))?new datascript.parser.PlainSymbol(e,this.__meta,this.__extmap,null):new datascript.parser.PlainSymbol(this.symbol,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.PlainSymbol.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"symbol","symbol",-1038572696),this.symbol],null)],null),this.__extmap))},datascript.parser.PlainSymbol.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.PlainSymbol(this.symbol,l,this.__extmap,this.__hash)},datascript.parser.PlainSymbol.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.PlainSymbol.prototype.datascript$parser$ITraversable$=!0,datascript.parser.PlainSymbol.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.PlainSymbol(datascript.parser.postwalk.call(null,this.symbol,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.PlainSymbol.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.symbol,e)},datascript.parser.PlainSymbol.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.symbol)},datascript.parser.PlainSymbol.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbol","symbol",601958831,null)],null)},datascript.parser.PlainSymbol.cljs$lang$type=!0,datascript.parser.PlainSymbol.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/PlainSymbol")},datascript.parser.PlainSymbol.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/PlainSymbol")},datascript.parser.__GT_PlainSymbol=function(r){return new datascript.parser.PlainSymbol(r,null,null,null)},datascript.parser.map__GT_PlainSymbol=function(r){return new datascript.parser.PlainSymbol(new cljs.core.Keyword(null,"symbol","symbol",-1038572696).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"symbol","symbol",-1038572696)),null)},datascript.parser.parse_placeholder=function(r){return cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"_","_",-1201019570,null),r)?new datascript.parser.Placeholder(null,null,null):null},datascript.parser.parse_variable=function(r){return r instanceof cljs.core.Symbol&&cljs.core._EQ_.call(null,cljs.core.first.call(null,cljs.core.name.call(null,r)),"?")?new datascript.parser.Variable(r,null,null,null):null},datascript.parser.parse_src_var=function(r){return r instanceof cljs.core.Symbol&&cljs.core._EQ_.call(null,cljs.core.first.call(null,cljs.core.name.call(null,r)),"$")?new datascript.parser.SrcVar(r,null,null,null):null},datascript.parser.parse_rules_var=function(r){return cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"%","%",-950237169,null),r)?new datascript.parser.RulesVar(null,null,null):null},datascript.parser.parse_constant=function(r){return r instanceof cljs.core.Symbol?null:new datascript.parser.Constant(r,null,null,null)},datascript.parser.parse_plain_symbol=function(r){return r instanceof cljs.core.Symbol&&cljs.core.not.call(null,datascript.parser.parse_variable.call(null,r))&&cljs.core.not.call(null,datascript.parser.parse_src_var.call(null,r))&&cljs.core.not.call(null,datascript.parser.parse_placeholder.call(null,r))?new datascript.parser.PlainSymbol(r,null,null,null):null},datascript.parser.parse_fn_arg=function(r){var l=datascript.parser.parse_variable.call(null,r);return cljs.core.truth_(l)?l:(l=datascript.parser.parse_constant.call(null,r),cljs.core.truth_(l)?l:datascript.parser.parse_src_var.call(null,r))},datascript.parser.RuleVars=function(r,l,e,c,t){this.required=r,this.free=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.RuleVars.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.RuleVars.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"required":return this.required;case"free":return this.free;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.RuleVars.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.RuleVars{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"required","required",1807647006),this.required],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"free","free",801364328),this.free],null)],null),this.__extmap))},datascript.parser.RuleVars.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.RuleVars.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.RuleVars(this.required,this.free,this.__meta,this.__extmap,this.__hash)},datascript.parser.RuleVars.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.RuleVars.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.RuleVars.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.RuleVars.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"free","free",801364328),null,new cljs.core.Keyword(null,"required","required",1807647006),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.RuleVars(this.required,this.free,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.RuleVars.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"required","required",1807647006),l))?new datascript.parser.RuleVars(e,this.free,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"free","free",801364328),l))?new datascript.parser.RuleVars(this.required,e,this.__meta,this.__extmap,null):new datascript.parser.RuleVars(this.required,this.free,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.RuleVars.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"required","required",1807647006),this.required],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"free","free",801364328),this.free],null)],null),this.__extmap))},datascript.parser.RuleVars.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.RuleVars(this.required,this.free,l,this.__extmap,this.__hash)},datascript.parser.RuleVars.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.RuleVars.prototype.datascript$parser$ITraversable$=!0,datascript.parser.RuleVars.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.RuleVars(datascript.parser.postwalk.call(null,this.required,l),datascript.parser.postwalk.call(null,this.free,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.RuleVars.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.free,datascript.parser.collect.call(null,l,this.required,e))},datascript.parser.RuleVars.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.required),this.free)},datascript.parser.RuleVars.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"required","required",-846788763,null),new cljs.core.Symbol(null,"free","free",-1853071441,null)],null)},datascript.parser.RuleVars.cljs$lang$type=!0,datascript.parser.RuleVars.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/RuleVars")},datascript.parser.RuleVars.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/RuleVars")},datascript.parser.__GT_RuleVars=function(r,l){return new datascript.parser.RuleVars(r,l,null,null,null)},datascript.parser.map__GT_RuleVars=function(r){return new datascript.parser.RuleVars(new cljs.core.Keyword(null,"required","required",1807647006).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"free","free",801364328).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.Keyword(null,"free","free",801364328)),null)},datascript.parser.parse_rule_vars=function(r){if(cljs.core.sequential_QMARK_.call(null,r)){var l=cljs.core.sequential_QMARK_.call(null,cljs.core.first.call(null,r))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.first.call(null,r),cljs.core.next.call(null,r)],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[null,r],null),e=cljs.core.nth.call(null,l,0,null),l=cljs.core.nth.call(null,l,1,null),e=datascript.parser.parse_seq.call(null,datascript.parser.parse_variable,e),l=datascript.parser.parse_seq.call(null,datascript.parser.parse_variable,l);if(cljs.core.empty_QMARK_.call(null,e)&&cljs.core.empty_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule-vars","parser/rule-vars",-1493174969),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));if(!cljs.core.truth_(datascript.parser.distinct_QMARK_.call(null,cljs.core.concat.call(null,e,l))))throw cljs.core.ex_info.call(null,""+cljs.core.str("Rule variables should be distinct"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule-vars","parser/rule-vars",-1493174969),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));return new datascript.parser.RuleVars(e,l,null,null,null)}throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule-vars","parser/rule-vars",-1493174969),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.flatten_rule_vars=function(r){return cljs.core.concat.call(null,cljs.core.truth_(new cljs.core.Keyword(null,"required","required",1807647006).cljs$core$IFn$_invoke$arity$1(r))?function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),new cljs.core.Keyword(null,"required","required",1807647006).cljs$core$IFn$_invoke$arity$1(r))],null),cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),new cljs.core.Keyword(null,"free","free",801364328).cljs$core$IFn$_invoke$arity$1(r))}():null)},datascript.parser.rule_vars_arity=function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.count.call(null,new cljs.core.Keyword(null,"required","required",1807647006).cljs$core$IFn$_invoke$arity$1(r)),cljs.core.count.call(null,new cljs.core.Keyword(null,"free","free",801364328).cljs$core$IFn$_invoke$arity$1(r))],null)},datascript.parser.BindIgnore=function(r,l,e){this.__meta=r,this.__extmap=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.BindIgnore.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.BindIgnore.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core.get.call(null,this.__extmap,l,e)},datascript.parser.BindIgnore.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.BindIgnore{",", ","}",e,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.BindIgnore.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.BindIgnore.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.BindIgnore(this.__meta,this.__extmap,this.__hash)},datascript.parser.BindIgnore.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0+cljs.core.count.call(null,this.__extmap)},datascript.parser.BindIgnore.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.BindIgnore.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.BindIgnore.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.PersistentHashSet.EMPTY,l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.BindIgnore(this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.BindIgnore.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return new datascript.parser.BindIgnore(this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.BindIgnore.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.parser.BindIgnore.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.BindIgnore(l,this.__extmap,this.__hash)},datascript.parser.BindIgnore.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.BindIgnore.prototype.datascript$parser$ITraversable$=!0,datascript.parser.BindIgnore.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.BindIgnore(null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.BindIgnore.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return e},datascript.parser.BindIgnore.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return l},datascript.parser.BindIgnore.getBasis=function(){return cljs.core.PersistentVector.EMPTY},datascript.parser.BindIgnore.cljs$lang$type=!0,datascript.parser.BindIgnore.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/BindIgnore")},datascript.parser.BindIgnore.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/BindIgnore")},datascript.parser.__GT_BindIgnore=function(){return new datascript.parser.BindIgnore(null,null,null)},datascript.parser.map__GT_BindIgnore=function(r){return new datascript.parser.BindIgnore(null,cljs.core.dissoc.call(null,r),null)},datascript.parser.BindScalar=function(r,l,e,c){this.variable=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.BindScalar.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.BindScalar.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"variable":return this.variable;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.BindScalar.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.BindScalar{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),this.variable],null)],null),this.__extmap))},datascript.parser.BindScalar.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.BindScalar.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.BindScalar(this.variable,this.__meta,this.__extmap,this.__hash)},datascript.parser.BindScalar.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.BindScalar.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.BindScalar.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.BindScalar.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"variable","variable",-281346492),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.BindScalar(this.variable,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.BindScalar.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"variable","variable",-281346492),l))?new datascript.parser.BindScalar(e,this.__meta,this.__extmap,null):new datascript.parser.BindScalar(this.variable,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.BindScalar.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),this.variable],null)],null),this.__extmap))},datascript.parser.BindScalar.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.BindScalar(this.variable,l,this.__extmap,this.__hash)},datascript.parser.BindScalar.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.BindScalar.prototype.datascript$parser$ITraversable$=!0,datascript.parser.BindScalar.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.BindScalar(datascript.parser.postwalk.call(null,this.variable,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.BindScalar.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.variable,e)},datascript.parser.BindScalar.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.variable)},datascript.parser.BindScalar.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"variable","variable",1359185035,null)],null)},datascript.parser.BindScalar.cljs$lang$type=!0,datascript.parser.BindScalar.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/BindScalar")},datascript.parser.BindScalar.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/BindScalar")},datascript.parser.__GT_BindScalar=function(r){return new datascript.parser.BindScalar(r,null,null,null)},datascript.parser.map__GT_BindScalar=function(r){return new datascript.parser.BindScalar(new cljs.core.Keyword(null,"variable","variable",-281346492).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"variable","variable",-281346492)),null)},datascript.parser.BindTuple=function(r,l,e,c){this.bindings=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.BindTuple.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.BindTuple.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"bindings":return this.bindings;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.BindTuple.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.BindTuple{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"bindings","bindings",1271397192),this.bindings],null)],null),this.__extmap))},datascript.parser.BindTuple.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.BindTuple.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.BindTuple(this.bindings,this.__meta,this.__extmap,this.__hash)},datascript.parser.BindTuple.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.BindTuple.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.BindTuple.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.BindTuple.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"bindings","bindings",1271397192),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.BindTuple(this.bindings,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.BindTuple.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"bindings","bindings",1271397192),l))?new datascript.parser.BindTuple(e,this.__meta,this.__extmap,null):new datascript.parser.BindTuple(this.bindings,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.BindTuple.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"bindings","bindings",1271397192),this.bindings],null)],null),this.__extmap))},datascript.parser.BindTuple.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.BindTuple(this.bindings,l,this.__extmap,this.__hash)},datascript.parser.BindTuple.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.BindTuple.prototype.datascript$parser$ITraversable$=!0,datascript.parser.BindTuple.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.BindTuple(datascript.parser.postwalk.call(null,this.bindings,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.BindTuple.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.bindings,e)},datascript.parser.BindTuple.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.bindings)},datascript.parser.BindTuple.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"bindings","bindings",-1383038577,null)],null)},datascript.parser.BindTuple.cljs$lang$type=!0,datascript.parser.BindTuple.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/BindTuple")},datascript.parser.BindTuple.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/BindTuple")},datascript.parser.__GT_BindTuple=function(r){return new datascript.parser.BindTuple(r,null,null,null)},datascript.parser.map__GT_BindTuple=function(r){return new datascript.parser.BindTuple(new cljs.core.Keyword(null,"bindings","bindings",1271397192).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"bindings","bindings",1271397192)),null)},datascript.parser.BindColl=function(r,l,e,c){this.binding=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.BindColl.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.BindColl.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"binding":return this.binding;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.BindColl.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.BindColl{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"binding","binding",539932593),this.binding],null)],null),this.__extmap))},datascript.parser.BindColl.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.BindColl.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.BindColl(this.binding,this.__meta,this.__extmap,this.__hash)},datascript.parser.BindColl.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.BindColl.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.BindColl.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.BindColl.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"binding","binding",539932593),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.BindColl(this.binding,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.BindColl.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){
return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"binding","binding",539932593),l))?new datascript.parser.BindColl(e,this.__meta,this.__extmap,null):new datascript.parser.BindColl(this.binding,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.BindColl.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"binding","binding",539932593),this.binding],null)],null),this.__extmap))},datascript.parser.BindColl.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.BindColl(this.binding,l,this.__extmap,this.__hash)},datascript.parser.BindColl.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.BindColl.prototype.datascript$parser$ITraversable$=!0,datascript.parser.BindColl.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.BindColl(datascript.parser.postwalk.call(null,this.binding,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.BindColl.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.binding,e)},datascript.parser.BindColl.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.binding)},datascript.parser.BindColl.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"binding","binding",-2114503176,null)],null)},datascript.parser.BindColl.cljs$lang$type=!0,datascript.parser.BindColl.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/BindColl")},datascript.parser.BindColl.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/BindColl")},datascript.parser.__GT_BindColl=function(r){return new datascript.parser.BindColl(r,null,null,null)},datascript.parser.map__GT_BindColl=function(r){return new datascript.parser.BindColl(new cljs.core.Keyword(null,"binding","binding",539932593).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"binding","binding",539932593)),null)},datascript.parser.parse_bind_ignore=function(r){return cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"_","_",-1201019570,null),r)?datascript.parser.with_source.call(null,new datascript.parser.BindIgnore(null,null,null),r):null},datascript.parser.parse_bind_scalar=function(r){var l=datascript.parser.parse_variable.call(null,r);return cljs.core.truth_(l)?datascript.parser.with_source.call(null,new datascript.parser.BindScalar(l,null,null,null),r):null},datascript.parser.parse_bind_coll=function(r){if(cljs.core.truth_(function(){var l=datascript.parser.of_size_QMARK_.call(null,r,2);return cljs.core.truth_(l)?cljs.core._EQ_.call(null,cljs.core.second.call(null,r),new cljs.core.Symbol(null,"...","...",-1926939749,null)):l}())){var l=datascript.parser.parse_binding.call(null,cljs.core.first.call(null,r));if(cljs.core.truth_(l))return datascript.parser.with_source.call(null,new datascript.parser.BindColl(l,null,null,null),r);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse collection binding"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","binding","parser/binding",-346395752),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}return null},datascript.parser.parse_tuple_el=function(r){var l=datascript.parser.parse_bind_ignore.call(null,r);return cljs.core.truth_(l)?l:datascript.parser.parse_binding.call(null,r)},datascript.parser.parse_bind_tuple=function(r){var l=datascript.parser.parse_seq.call(null,datascript.parser.parse_tuple_el,r);if(cljs.core.truth_(l)){if(cljs.core.empty_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,""+cljs.core.str("Tuple binding cannot be empty"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","binding","parser/binding",-346395752),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));return datascript.parser.with_source.call(null,new datascript.parser.BindTuple(l,null,null,null),r)}return null},datascript.parser.parse_bind_rel=function(r){return cljs.core.truth_(function(){var l=datascript.parser.of_size_QMARK_.call(null,r,1);return cljs.core.truth_(l)?cljs.core.sequential_QMARK_.call(null,cljs.core.first.call(null,r)):l}())?datascript.parser.with_source.call(null,new datascript.parser.BindColl(datascript.parser.parse_bind_tuple.call(null,cljs.core.first.call(null,r)),null,null,null),r):null},datascript.parser.parse_binding=function(r){var l=datascript.parser.parse_bind_coll.call(null,r);if(cljs.core.truth_(l))return l;if(l=datascript.parser.parse_bind_rel.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_bind_tuple.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_bind_ignore.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_bind_scalar.call(null,r),cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","binding","parser/binding",-346395752),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.IFindVars=function(){return{}}(),datascript.parser._find_vars=function(r){if(r?r.datascript$parser$IFindVars$_find_vars$arity$1:r)return r.datascript$parser$IFindVars$_find_vars$arity$1(r);var l;if(!(l=datascript.parser._find_vars[goog.typeOf(null==r?null:r)])&&!(l=datascript.parser._find_vars._))throw cljs.core.missing_protocol.call(null,"IFindVars.-find-vars",r);return l.call(null,r)},datascript.parser.Variable.prototype.datascript$parser$IFindVars$=!0,datascript.parser.Variable.prototype.datascript$parser$IFindVars$_find_vars$arity$1=function(r){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.symbol],null)},datascript.parser.Aggregate=function(r,l,e,c,t){this.fn=r,this.args=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Aggregate.prototype.datascript$parser$IFindVars$=!0,datascript.parser.Aggregate.prototype.datascript$parser$IFindVars$_find_vars$arity$1=function(r){return datascript.parser._find_vars.call(null,cljs.core.last.call(null,this.args))},datascript.parser.Aggregate.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Aggregate.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"fn":return this.fn;case"args":return this.args;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Aggregate.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Aggregate{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.Aggregate.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Aggregate.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Aggregate(this.fn,this.args,this.__meta,this.__extmap,this.__hash)},datascript.parser.Aggregate.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.Aggregate.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Aggregate.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Aggregate.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"args","args",1315556576),null,new cljs.core.Keyword(null,"fn","fn",-1175266204),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Aggregate(this.fn,this.args,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Aggregate.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"fn","fn",-1175266204),l))?new datascript.parser.Aggregate(e,this.args,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"args","args",1315556576),l))?new datascript.parser.Aggregate(this.fn,e,this.__meta,this.__extmap,null):new datascript.parser.Aggregate(this.fn,this.args,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Aggregate.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.Aggregate.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Aggregate(this.fn,this.args,l,this.__extmap,this.__hash)},datascript.parser.Aggregate.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)};datascript.parser.Aggregate.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Aggregate.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Aggregate(datascript.parser.postwalk.call(null,this.fn,l),datascript.parser.postwalk.call(null,this.args,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Aggregate.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.args,datascript.parser.collect.call(null,l,this.fn,e))},datascript.parser.Aggregate.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.fn),this.args)},datascript.parser.Aggregate.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"fn","fn",465265323,null),new cljs.core.Symbol(null,"args","args",-1338879193,null)],null)},datascript.parser.Aggregate.cljs$lang$type=!0,datascript.parser.Aggregate.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Aggregate")},datascript.parser.Aggregate.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Aggregate")},datascript.parser.__GT_Aggregate=function(r,l){return new datascript.parser.Aggregate(r,l,null,null,null)},datascript.parser.map__GT_Aggregate=function(r){return new datascript.parser.Aggregate(new cljs.core.Keyword(null,"fn","fn",-1175266204).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"args","args",1315556576)),null)},datascript.parser.Pull=function(r,l,e,c,t,n){this.source=r,this.variable=l,this.pattern=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Pull.prototype.datascript$parser$IFindVars$=!0,datascript.parser.Pull.prototype.datascript$parser$IFindVars$_find_vars$arity$1=function(r){return datascript.parser._find_vars.call(null,this.variable)},datascript.parser.Pull.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Pull.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"source":return this.source;case"variable":return this.variable;case"pattern":return this.pattern;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Pull.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Pull{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),this.variable],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),this.pattern],null)],null),this.__extmap))},datascript.parser.Pull.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Pull.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Pull(this.source,this.variable,this.pattern,this.__meta,this.__extmap,this.__hash)},datascript.parser.Pull.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.parser.Pull.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Pull.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Pull.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"variable","variable",-281346492),null,new cljs.core.Keyword(null,"source","source",-433931539),null,new cljs.core.Keyword(null,"pattern","pattern",242135423),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Pull(this.source,this.variable,this.pattern,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Pull.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"source","source",-433931539),l))?new datascript.parser.Pull(e,this.variable,this.pattern,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"variable","variable",-281346492),l))?new datascript.parser.Pull(this.source,e,this.pattern,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423),l))?new datascript.parser.Pull(this.source,this.variable,e,this.__meta,this.__extmap,null):new datascript.parser.Pull(this.source,this.variable,this.pattern,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Pull.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),this.variable],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),this.pattern],null)],null),this.__extmap))},datascript.parser.Pull.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Pull(this.source,this.variable,this.pattern,l,this.__extmap,this.__hash)},datascript.parser.Pull.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Pull.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Pull.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Pull(datascript.parser.postwalk.call(null,this.source,l),datascript.parser.postwalk.call(null,this.variable,l),datascript.parser.postwalk.call(null,this.pattern,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Pull.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.pattern,datascript.parser.collect.call(null,l,this.variable,datascript.parser.collect.call(null,l,this.source,e)))},datascript.parser.Pull.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.source),this.variable),this.pattern)},datascript.parser.Pull.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"source","source",1206599988,null),new cljs.core.Symbol(null,"variable","variable",1359185035,null),new cljs.core.Symbol(null,"pattern","pattern",1882666950,null)],null)},datascript.parser.Pull.cljs$lang$type=!0,datascript.parser.Pull.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Pull")},datascript.parser.Pull.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Pull")},datascript.parser.__GT_Pull=function(r,l,e){return new datascript.parser.Pull(r,l,e,null,null,null)},datascript.parser.map__GT_Pull=function(r){return new datascript.parser.Pull(new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"variable","variable",-281346492).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.Keyword(null,"variable","variable",-281346492),new cljs.core.Keyword(null,"pattern","pattern",242135423)),null)},datascript.parser.IFindElements=function(){return{}}(),datascript.parser.find_elements=function(r){if(r?r.datascript$parser$IFindElements$find_elements$arity$1:r)return r.datascript$parser$IFindElements$find_elements$arity$1(r);var l;if(!(l=datascript.parser.find_elements[goog.typeOf(null==r?null:r)])&&!(l=datascript.parser.find_elements._))throw cljs.core.missing_protocol.call(null,"IFindElements.find-elements",r);return l.call(null,r)},datascript.parser.FindRel=function(r,l,e,c){this.elements=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.FindRel.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.FindRel.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"elements":return this.elements;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.FindRel.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.FindRel{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"elements","elements",657646735),this.elements],null)],null),this.__extmap))},datascript.parser.FindRel.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.FindRel.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.FindRel(this.elements,this.__meta,this.__extmap,this.__hash)},datascript.parser.FindRel.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.FindRel.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.FindRel.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.FindRel.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"elements","elements",657646735),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.FindRel(this.elements,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.FindRel.prototype.datascript$parser$IFindElements$=!0,datascript.parser.FindRel.prototype.datascript$parser$IFindElements$find_elements$arity$1=function(r){return this.elements},datascript.parser.FindRel.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"elements","elements",657646735),l))?new datascript.parser.FindRel(e,this.__meta,this.__extmap,null):new datascript.parser.FindRel(this.elements,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.FindRel.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"elements","elements",657646735),this.elements],null)],null),this.__extmap))},datascript.parser.FindRel.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.FindRel(this.elements,l,this.__extmap,this.__hash)},datascript.parser.FindRel.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.FindRel.prototype.datascript$parser$ITraversable$=!0,datascript.parser.FindRel.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.FindRel(datascript.parser.postwalk.call(null,this.elements,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.FindRel.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.elements,e)},datascript.parser.FindRel.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.elements)},datascript.parser.FindRel.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"elements","elements",-1996789034,null)],null)},datascript.parser.FindRel.cljs$lang$type=!0,datascript.parser.FindRel.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/FindRel")},datascript.parser.FindRel.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/FindRel")},datascript.parser.__GT_FindRel=function(r){return new datascript.parser.FindRel(r,null,null,null)},datascript.parser.map__GT_FindRel=function(r){return new datascript.parser.FindRel(new cljs.core.Keyword(null,"elements","elements",657646735).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"elements","elements",657646735)),null)},datascript.parser.FindColl=function(r,l,e,c){this.element=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.FindColl.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.FindColl.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"element":return this.element;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.FindColl.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.FindColl{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"element","element",1974019749),this.element],null)],null),this.__extmap))},datascript.parser.FindColl.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.FindColl.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.FindColl(this.element,this.__meta,this.__extmap,this.__hash)},datascript.parser.FindColl.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.FindColl.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.FindColl.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.FindColl.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"element","element",1974019749),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.FindColl(this.element,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.FindColl.prototype.datascript$parser$IFindElements$=!0,datascript.parser.FindColl.prototype.datascript$parser$IFindElements$find_elements$arity$1=function(r){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.element],null)},datascript.parser.FindColl.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"element","element",1974019749),l))?new datascript.parser.FindColl(e,this.__meta,this.__extmap,null):new datascript.parser.FindColl(this.element,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.FindColl.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"element","element",1974019749),this.element],null)],null),this.__extmap))},datascript.parser.FindColl.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.FindColl(this.element,l,this.__extmap,this.__hash)},datascript.parser.FindColl.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.FindColl.prototype.datascript$parser$ITraversable$=!0,datascript.parser.FindColl.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.FindColl(datascript.parser.postwalk.call(null,this.element,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.FindColl.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.element,e)},datascript.parser.FindColl.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.element)},datascript.parser.FindColl.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"element","element",-680416020,null)],null)},datascript.parser.FindColl.cljs$lang$type=!0,datascript.parser.FindColl.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/FindColl")},datascript.parser.FindColl.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/FindColl")},
datascript.parser.__GT_FindColl=function(r){return new datascript.parser.FindColl(r,null,null,null)},datascript.parser.map__GT_FindColl=function(r){return new datascript.parser.FindColl(new cljs.core.Keyword(null,"element","element",1974019749).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"element","element",1974019749)),null)},datascript.parser.FindScalar=function(r,l,e,c){this.element=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.FindScalar.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.FindScalar.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"element":return this.element;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.FindScalar.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.FindScalar{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"element","element",1974019749),this.element],null)],null),this.__extmap))},datascript.parser.FindScalar.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.FindScalar.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.FindScalar(this.element,this.__meta,this.__extmap,this.__hash)},datascript.parser.FindScalar.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.FindScalar.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.FindScalar.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.FindScalar.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"element","element",1974019749),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.FindScalar(this.element,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.FindScalar.prototype.datascript$parser$IFindElements$=!0,datascript.parser.FindScalar.prototype.datascript$parser$IFindElements$find_elements$arity$1=function(r){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.element],null)},datascript.parser.FindScalar.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"element","element",1974019749),l))?new datascript.parser.FindScalar(e,this.__meta,this.__extmap,null):new datascript.parser.FindScalar(this.element,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.FindScalar.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"element","element",1974019749),this.element],null)],null),this.__extmap))},datascript.parser.FindScalar.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.FindScalar(this.element,l,this.__extmap,this.__hash)},datascript.parser.FindScalar.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.FindScalar.prototype.datascript$parser$ITraversable$=!0,datascript.parser.FindScalar.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.FindScalar(datascript.parser.postwalk.call(null,this.element,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.FindScalar.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.element,e)},datascript.parser.FindScalar.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.element)},datascript.parser.FindScalar.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"element","element",-680416020,null)],null)},datascript.parser.FindScalar.cljs$lang$type=!0,datascript.parser.FindScalar.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/FindScalar")},datascript.parser.FindScalar.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/FindScalar")},datascript.parser.__GT_FindScalar=function(r){return new datascript.parser.FindScalar(r,null,null,null)},datascript.parser.map__GT_FindScalar=function(r){return new datascript.parser.FindScalar(new cljs.core.Keyword(null,"element","element",1974019749).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"element","element",1974019749)),null)},datascript.parser.FindTuple=function(r,l,e,c){this.elements=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.FindTuple.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.FindTuple.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"elements":return this.elements;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.FindTuple.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.FindTuple{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"elements","elements",657646735),this.elements],null)],null),this.__extmap))},datascript.parser.FindTuple.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.FindTuple.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.FindTuple(this.elements,this.__meta,this.__extmap,this.__hash)},datascript.parser.FindTuple.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.FindTuple.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.FindTuple.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.FindTuple.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"elements","elements",657646735),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.FindTuple(this.elements,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.FindTuple.prototype.datascript$parser$IFindElements$=!0,datascript.parser.FindTuple.prototype.datascript$parser$IFindElements$find_elements$arity$1=function(r){return this.elements},datascript.parser.FindTuple.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"elements","elements",657646735),l))?new datascript.parser.FindTuple(e,this.__meta,this.__extmap,null):new datascript.parser.FindTuple(this.elements,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.FindTuple.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"elements","elements",657646735),this.elements],null)],null),this.__extmap))},datascript.parser.FindTuple.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.FindTuple(this.elements,l,this.__extmap,this.__hash)},datascript.parser.FindTuple.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.FindTuple.prototype.datascript$parser$ITraversable$=!0,datascript.parser.FindTuple.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.FindTuple(datascript.parser.postwalk.call(null,this.elements,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.FindTuple.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.elements,e)},datascript.parser.FindTuple.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.elements)},datascript.parser.FindTuple.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"elements","elements",-1996789034,null)],null)},datascript.parser.FindTuple.cljs$lang$type=!0,datascript.parser.FindTuple.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/FindTuple")},datascript.parser.FindTuple.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/FindTuple")},datascript.parser.__GT_FindTuple=function(r){return new datascript.parser.FindTuple(r,null,null,null)},datascript.parser.map__GT_FindTuple=function(r){return new datascript.parser.FindTuple(new cljs.core.Keyword(null,"elements","elements",657646735).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"elements","elements",657646735)),null)},datascript.parser.find_vars=function(r){return cljs.core.mapcat.call(null,datascript.parser._find_vars,datascript.parser.find_elements.call(null,r))},datascript.parser.aggregate_QMARK_=function(r){return r instanceof datascript.parser.Aggregate},datascript.parser.pull_QMARK_=function(r){return r instanceof datascript.parser.Pull},datascript.parser.parse_aggregate=function(r){if(cljs.core.sequential_QMARK_.call(null,r)&&2<=cljs.core.count.call(null,r)){var l=cljs.core.nth.call(null,r,0,null);return r=cljs.core.nthnext.call(null,r,1),l=datascript.parser.parse_plain_symbol.call(null,l),r=datascript.parser.parse_seq.call(null,datascript.parser.parse_fn_arg,r),cljs.core.truth_(cljs.core.truth_(l)?r:l)?new datascript.parser.Aggregate(l,r,null,null,null):null}return null},datascript.parser.parse_aggregate_custom=function(r){if(cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.first.call(null,r),new cljs.core.Symbol(null,"aggregate","aggregate",-1142967327,null))){if(3<=cljs.core.count.call(null,r)){cljs.core.nth.call(null,r,0,null);var l=cljs.core.nth.call(null,r,1,null),e=cljs.core.nthnext.call(null,r,2),l=datascript.parser.parse_variable.call(null,l),e=datascript.parser.parse_seq.call(null,datascript.parser.parse_fn_arg,e);if(cljs.core.truth_(cljs.core.truth_(l)?e:l))return new datascript.parser.Aggregate(l,e,null,null,null)}throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","find","parser/find",-801023103),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))}return null},datascript.parser.parse_pull_expr=function(r){if(cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.first.call(null,r),new cljs.core.Symbol(null,"pull","pull",779986722,null))){if(3<=cljs.core.count.call(null,r)&&4>=cljs.core.count.call(null,r)){var l=cljs.core._EQ_.call(null,cljs.core.count.call(null,r),4),e=l?cljs.core.nth.call(null,r,1):new cljs.core.Symbol(null,"$","$",-1580747756,null),l=l?cljs.core.nnext.call(null,r):cljs.core.next.call(null,r),c=cljs.core.nth.call(null,l,0,null),l=cljs.core.nth.call(null,l,1,null),e=datascript.parser.parse_src_var.call(null,e),c=datascript.parser.parse_variable.call(null,c),t=datascript.parser.parse_variable.call(null,l),l=cljs.core.truth_(t)?t:datascript.parser.parse_constant.call(null,l);if(cljs.core.truth_(cljs.core.truth_(e)?cljs.core.truth_(c)?l:c:e))return new datascript.parser.Pull(e,c,l,null,null,null)}throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable)]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","find","parser/find",-801023103),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))}return null},datascript.parser.parse_find_elem=function(r){var l=datascript.parser.parse_variable.call(null,r);return cljs.core.truth_(l)?l:(l=datascript.parser.parse_pull_expr.call(null,r),cljs.core.truth_(l)?l:(l=datascript.parser.parse_aggregate_custom.call(null,r),cljs.core.truth_(l)?l:datascript.parser.parse_aggregate.call(null,r)))},datascript.parser.parse_find_rel=function(r){return r=datascript.parser.parse_seq.call(null,datascript.parser.parse_find_elem,r),null==r?null:new datascript.parser.FindRel(r,null,null,null)},datascript.parser.parse_find_coll=function(r){return cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,r),1)&&(r=cljs.core.first.call(null,r),cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,r),2)&&cljs.core._EQ_.call(null,cljs.core.second.call(null,r),new cljs.core.Symbol(null,"...","...",-1926939749,null)))?(r=datascript.parser.parse_find_elem.call(null,cljs.core.first.call(null,r)),null==r?null:new datascript.parser.FindColl(r,null,null,null)):null},datascript.parser.parse_find_scalar=function(r){return cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,r),2)&&cljs.core._EQ_.call(null,cljs.core.second.call(null,r),new cljs.core.Symbol(null,".",".",1975675962,null))?(r=datascript.parser.parse_find_elem.call(null,cljs.core.first.call(null,r)),null==r?null:new datascript.parser.FindScalar(r,null,null,null)):null},datascript.parser.parse_find_tuple=function(r){return cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,r),1)?(r=cljs.core.first.call(null,r),r=datascript.parser.parse_seq.call(null,datascript.parser.parse_find_elem,r),null==r?null:new datascript.parser.FindTuple(r,null,null,null)):null},datascript.parser.parse_find=function(r){var l=datascript.parser.parse_find_rel.call(null,r);if(cljs.core.truth_(l))return l;if(l=datascript.parser.parse_find_coll.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_find_scalar.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_find_tuple.call(null,r),cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","find","parser/find",-801023103),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))},datascript.parser.parse_with=function(r){var l=datascript.parser.parse_seq.call(null,datascript.parser.parse_variable,r);if(cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse :with clause, expected [ variable+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","with","parser/with",-386255821),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.parse_in_binding=function(r){var l;return l=datascript.parser.parse_src_var.call(null,r),l=cljs.core.truth_(l)?l:datascript.parser.parse_rules_var.call(null,r),cljs.core.truth_(l)?datascript.parser.with_source.call(null,new datascript.parser.BindScalar(l,null,null,null),r):datascript.parser.parse_binding.call(null,r)},datascript.parser.parse_in=function(r){var l=datascript.parser.parse_seq.call(null,datascript.parser.parse_in_binding,r);if(cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse :in clause, expected (src-var | % | bind-scalar | bind-tuple | bind-coll | bind-rel)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","in","parser/in",1617442048),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.Pattern=function(r,l,e,c,t){this.source=r,this.pattern=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Pattern.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Pattern.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"source":return this.source;case"pattern":return this.pattern;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Pattern.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Pattern{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),this.pattern],null)],null),this.__extmap))},datascript.parser.Pattern.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Pattern.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Pattern(this.source,this.pattern,this.__meta,this.__extmap,this.__hash)},datascript.parser.Pattern.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.Pattern.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Pattern.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Pattern.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"source","source",-433931539),null,new cljs.core.Keyword(null,"pattern","pattern",242135423),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Pattern(this.source,this.pattern,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Pattern.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"source","source",-433931539),l))?new datascript.parser.Pattern(e,this.pattern,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423),l))?new datascript.parser.Pattern(this.source,e,this.__meta,this.__extmap,null):new datascript.parser.Pattern(this.source,this.pattern,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Pattern.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),this.pattern],null)],null),this.__extmap))},datascript.parser.Pattern.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Pattern(this.source,this.pattern,l,this.__extmap,this.__hash)},datascript.parser.Pattern.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Pattern.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Pattern.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Pattern(datascript.parser.postwalk.call(null,this.source,l),datascript.parser.postwalk.call(null,this.pattern,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Pattern.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.pattern,datascript.parser.collect.call(null,l,this.source,e))},datascript.parser.Pattern.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.source),this.pattern)},datascript.parser.Pattern.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"source","source",1206599988,null),new cljs.core.Symbol(null,"pattern","pattern",1882666950,null)],null)},datascript.parser.Pattern.cljs$lang$type=!0,datascript.parser.Pattern.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Pattern")},datascript.parser.Pattern.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Pattern")},datascript.parser.__GT_Pattern=function(r,l){return new datascript.parser.Pattern(r,l,null,null,null)},datascript.parser.map__GT_Pattern=function(r){return new datascript.parser.Pattern(new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.Keyword(null,"pattern","pattern",242135423)),null)},datascript.parser.Predicate=function(r,l,e,c,t){this.fn=r,this.args=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Predicate.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Predicate.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"fn":return this.fn;case"args":return this.args;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Predicate.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Predicate{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.Predicate.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Predicate.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Predicate(this.fn,this.args,this.__meta,this.__extmap,this.__hash)},datascript.parser.Predicate.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.Predicate.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Predicate.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Predicate.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"args","args",1315556576),null,new cljs.core.Keyword(null,"fn","fn",-1175266204),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Predicate(this.fn,this.args,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Predicate.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"fn","fn",-1175266204),l))?new datascript.parser.Predicate(e,this.args,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"args","args",1315556576),l))?new datascript.parser.Predicate(this.fn,e,this.__meta,this.__extmap,null):new datascript.parser.Predicate(this.fn,this.args,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Predicate.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.Predicate.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Predicate(this.fn,this.args,l,this.__extmap,this.__hash)},datascript.parser.Predicate.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Predicate.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Predicate.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Predicate(datascript.parser.postwalk.call(null,this.fn,l),datascript.parser.postwalk.call(null,this.args,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Predicate.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.args,datascript.parser.collect.call(null,l,this.fn,e))},datascript.parser.Predicate.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.fn),this.args)},datascript.parser.Predicate.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"fn","fn",465265323,null),new cljs.core.Symbol(null,"args","args",-1338879193,null)],null)};datascript.parser.Predicate.cljs$lang$type=!0,datascript.parser.Predicate.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Predicate")},datascript.parser.Predicate.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Predicate")},datascript.parser.__GT_Predicate=function(r,l){return new datascript.parser.Predicate(r,l,null,null,null)},datascript.parser.map__GT_Predicate=function(r){return new datascript.parser.Predicate(new cljs.core.Keyword(null,"fn","fn",-1175266204).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"args","args",1315556576)),null)},datascript.parser.Function=function(r,l,e,c,t,n){this.fn=r,this.args=l,this.binding=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Function.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Function.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"fn":return this.fn;case"args":return this.args;case"binding":return this.binding;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Function.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){
return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Function{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"binding","binding",539932593),this.binding],null)],null),this.__extmap))},datascript.parser.Function.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Function.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Function(this.fn,this.args,this.binding,this.__meta,this.__extmap,this.__hash)},datascript.parser.Function.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.parser.Function.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Function.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Function.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"args","args",1315556576),null,new cljs.core.Keyword(null,"fn","fn",-1175266204),null,new cljs.core.Keyword(null,"binding","binding",539932593),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Function(this.fn,this.args,this.binding,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Function.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"fn","fn",-1175266204),l))?new datascript.parser.Function(e,this.args,this.binding,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"args","args",1315556576),l))?new datascript.parser.Function(this.fn,e,this.binding,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"binding","binding",539932593),l))?new datascript.parser.Function(this.fn,this.args,e,this.__meta,this.__extmap,null):new datascript.parser.Function(this.fn,this.args,this.binding,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Function.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"fn","fn",-1175266204),this.fn],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"binding","binding",539932593),this.binding],null)],null),this.__extmap))},datascript.parser.Function.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Function(this.fn,this.args,this.binding,l,this.__extmap,this.__hash)},datascript.parser.Function.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Function.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Function.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Function(datascript.parser.postwalk.call(null,this.fn,l),datascript.parser.postwalk.call(null,this.args,l),datascript.parser.postwalk.call(null,this.binding,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Function.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.binding,datascript.parser.collect.call(null,l,this.args,datascript.parser.collect.call(null,l,this.fn,e)))},datascript.parser.Function.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.fn),this.args),this.binding)},datascript.parser.Function.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"fn","fn",465265323,null),new cljs.core.Symbol(null,"args","args",-1338879193,null),new cljs.core.Symbol(null,"binding","binding",-2114503176,null)],null)},datascript.parser.Function.cljs$lang$type=!0,datascript.parser.Function.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Function")},datascript.parser.Function.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Function")},datascript.parser.__GT_Function=function(r,l,e){return new datascript.parser.Function(r,l,e,null,null,null)},datascript.parser.map__GT_Function=function(r){return new datascript.parser.Function(new cljs.core.Keyword(null,"fn","fn",-1175266204).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"binding","binding",539932593).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"args","args",1315556576),new cljs.core.Keyword(null,"binding","binding",539932593)),null)},datascript.parser.RuleExpr=function(r,l,e,c,t,n){this.source=r,this.name=l,this.args=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.RuleExpr.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.RuleExpr.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"source":return this.source;case"name":return this.name;case"args":return this.args;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.RuleExpr.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.RuleExpr{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"name","name",1843675177),this.name],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.RuleExpr.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.RuleExpr.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.RuleExpr(this.source,this.name,this.args,this.__meta,this.__extmap,this.__hash)},datascript.parser.RuleExpr.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.parser.RuleExpr.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.RuleExpr.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.RuleExpr.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"args","args",1315556576),null,new cljs.core.Keyword(null,"name","name",1843675177),null,new cljs.core.Keyword(null,"source","source",-433931539),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.RuleExpr(this.source,this.name,this.args,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.RuleExpr.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"source","source",-433931539),l))?new datascript.parser.RuleExpr(e,this.name,this.args,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"name","name",1843675177),l))?new datascript.parser.RuleExpr(this.source,e,this.args,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"args","args",1315556576),l))?new datascript.parser.RuleExpr(this.source,this.name,e,this.__meta,this.__extmap,null):new datascript.parser.RuleExpr(this.source,this.name,this.args,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.RuleExpr.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"name","name",1843675177),this.name],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"args","args",1315556576),this.args],null)],null),this.__extmap))},datascript.parser.RuleExpr.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.RuleExpr(this.source,this.name,this.args,l,this.__extmap,this.__hash)},datascript.parser.RuleExpr.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.RuleExpr.prototype.datascript$parser$ITraversable$=!0,datascript.parser.RuleExpr.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.RuleExpr(datascript.parser.postwalk.call(null,this.source,l),datascript.parser.postwalk.call(null,this.name,l),datascript.parser.postwalk.call(null,this.args,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.RuleExpr.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.args,datascript.parser.collect.call(null,l,this.name,datascript.parser.collect.call(null,l,this.source,e)))},datascript.parser.RuleExpr.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.source),this.name),this.args)},datascript.parser.RuleExpr.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"source","source",1206599988,null),new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"args","args",-1338879193,null)],null)},datascript.parser.RuleExpr.cljs$lang$type=!0,datascript.parser.RuleExpr.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/RuleExpr")},datascript.parser.RuleExpr.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/RuleExpr")},datascript.parser.__GT_RuleExpr=function(r,l,e){return new datascript.parser.RuleExpr(r,l,e,null,null,null)},datascript.parser.map__GT_RuleExpr=function(r){return new datascript.parser.RuleExpr(new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"args","args",1315556576)),null)},datascript.parser.Not=function(r,l,e,c,t,n){this.source=r,this.vars=l,this.clauses=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Not.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Not.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"source":return this.source;case"vars":return this.vars;case"clauses":return this.clauses;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Not.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Not{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"vars","vars",-2046957217),this.vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.Not.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Not.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Not(this.source,this.vars,this.clauses,this.__meta,this.__extmap,this.__hash)},datascript.parser.Not.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.parser.Not.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Not.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Not.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"source","source",-433931539),null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),null,new cljs.core.Keyword(null,"vars","vars",-2046957217),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Not(this.source,this.vars,this.clauses,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Not.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"source","source",-433931539),l))?new datascript.parser.Not(e,this.vars,this.clauses,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"vars","vars",-2046957217),l))?new datascript.parser.Not(this.source,e,this.clauses,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),l))?new datascript.parser.Not(this.source,this.vars,e,this.__meta,this.__extmap,null):new datascript.parser.Not(this.source,this.vars,this.clauses,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Not.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"vars","vars",-2046957217),this.vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.Not.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Not(this.source,this.vars,this.clauses,l,this.__extmap,this.__hash)},datascript.parser.Not.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Not.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Not.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Not(datascript.parser.postwalk.call(null,this.source,l),datascript.parser.postwalk.call(null,this.vars,l),datascript.parser.postwalk.call(null,this.clauses,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Not.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.clauses,datascript.parser.collect.call(null,l,this.vars,datascript.parser.collect.call(null,l,this.source,e)))},datascript.parser.Not.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.source),this.vars),this.clauses)},datascript.parser.Not.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"source","source",1206599988,null),new cljs.core.Symbol(null,"vars","vars",-406425690,null),new cljs.core.Symbol(null,"clauses","clauses",-1199594528,null)],null)},datascript.parser.Not.cljs$lang$type=!0,datascript.parser.Not.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Not")},datascript.parser.Not.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Not")},datascript.parser.__GT_Not=function(r,l,e){return new datascript.parser.Not(r,l,e,null,null,null)},datascript.parser.map__GT_Not=function(r){return new datascript.parser.Not(new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.Keyword(null,"vars","vars",-2046957217),new cljs.core.Keyword(null,"clauses","clauses",1454841241)),null)},datascript.parser.Or=function(r,l,e,c,t,n){this.source=r,this.rule_vars=l,this.clauses=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Or.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Or.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"source":return this.source;case"rule-vars":return this.rule_vars;case"clauses":return this.clauses;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Or.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Or{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520),this.rule_vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.Or.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Or.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Or(this.source,this.rule_vars,this.clauses,this.__meta,this.__extmap,this.__hash)},datascript.parser.Or.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.parser.Or.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Or.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Or.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520),null,new cljs.core.Keyword(null,"source","source",-433931539),null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Or(this.source,this.rule_vars,this.clauses,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Or.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"source","source",-433931539),l))?new datascript.parser.Or(e,this.rule_vars,this.clauses,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520),l))?new datascript.parser.Or(this.source,e,this.clauses,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),l))?new datascript.parser.Or(this.source,this.rule_vars,e,this.__meta,this.__extmap,null):new datascript.parser.Or(this.source,this.rule_vars,this.clauses,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Or.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"source","source",-433931539),this.source],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520),this.rule_vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.Or.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Or(this.source,this.rule_vars,this.clauses,l,this.__extmap,this.__hash)},datascript.parser.Or.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Or.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Or.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Or(datascript.parser.postwalk.call(null,this.source,l),datascript.parser.postwalk.call(null,this.rule_vars,l),datascript.parser.postwalk.call(null,this.clauses,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Or.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.clauses,datascript.parser.collect.call(null,l,this.rule_vars,datascript.parser.collect.call(null,l,this.source,e)))},datascript.parser.Or.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.source),this.rule_vars),this.clauses)},datascript.parser.Or.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"source","source",1206599988,null),new cljs.core.Symbol(null,"rule-vars","rule-vars",-988463249,null),new cljs.core.Symbol(null,"clauses","clauses",-1199594528,null)],null)},datascript.parser.Or.cljs$lang$type=!0,datascript.parser.Or.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Or")},datascript.parser.Or.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Or")},datascript.parser.__GT_Or=function(r,l,e){return new datascript.parser.Or(r,l,e,null,null,null)},datascript.parser.map__GT_Or=function(r){return new datascript.parser.Or(new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520),new cljs.core.Keyword(null,"clauses","clauses",1454841241)),null)},datascript.parser.And=function(r,l,e,c){this.clauses=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.And.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.And.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"clauses":return this.clauses;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.And.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.And{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.And.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.And.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.And(this.clauses,this.__meta,this.__extmap,this.__hash)},datascript.parser.And.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.parser.And.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.And.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.And.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.And(this.clauses,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.And.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),l))?new datascript.parser.And(e,this.__meta,this.__extmap,null):new datascript.parser.And(this.clauses,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.And.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.And.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.And(this.clauses,l,this.__extmap,this.__hash)},datascript.parser.And.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},
datascript.parser.And.prototype.datascript$parser$ITraversable$=!0,datascript.parser.And.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.And(datascript.parser.postwalk.call(null,this.clauses,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.And.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.clauses,e)},datascript.parser.And.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,l,this.clauses)},datascript.parser.And.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"clauses","clauses",-1199594528,null)],null)},datascript.parser.And.cljs$lang$type=!0,datascript.parser.And.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/And")},datascript.parser.And.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/And")},datascript.parser.__GT_And=function(r){return new datascript.parser.And(r,null,null,null)},datascript.parser.map__GT_And=function(r){return new datascript.parser.And(new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"clauses","clauses",1454841241)),null)},datascript.parser.parse_pattern_el=function(r){var l=datascript.parser.parse_placeholder.call(null,r);return cljs.core.truth_(l)?l:(l=datascript.parser.parse_variable.call(null,r),cljs.core.truth_(l)?l:datascript.parser.parse_constant.call(null,r))},datascript.parser.take_source=function(r){if(cljs.core.sequential_QMARK_.call(null,r)){var l=datascript.parser.parse_src_var.call(null,cljs.core.first.call(null,r));return cljs.core.truth_(l)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,cljs.core.next.call(null,r)],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new datascript.parser.DefaultSrc(null,null,null),r],null)}return null},datascript.parser.parse_pattern=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),l=cljs.core.nth.call(null,l,1,null),l=datascript.parser.parse_seq.call(null,datascript.parser.parse_pattern_el,l);if(cljs.core.truth_(l)){if(cljs.core.empty_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,""+cljs.core.str("Pattern could not be empty"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));return datascript.parser.with_source.call(null,new datascript.parser.Pattern(e,l,null,null,null),r)}}return null},datascript.parser.parse_call=function(r){if(cljs.core.sequential_QMARK_.call(null,r)){var l=cljs.core.nth.call(null,r,0,null);r=cljs.core.nthnext.call(null,r,1),r=null==r?cljs.core.PersistentVector.EMPTY:r;var e=datascript.parser.parse_plain_symbol.call(null,l),l=cljs.core.truth_(e)?e:datascript.parser.parse_variable.call(null,l);return r=datascript.parser.parse_seq.call(null,datascript.parser.parse_fn_arg,r),cljs.core.truth_(cljs.core.truth_(l)?r:l)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r],null):null}return null},datascript.parser.parse_pred=function(r){if(cljs.core.truth_(datascript.parser.of_size_QMARK_.call(null,r,1))){var l=datascript.parser.parse_call.call(null,cljs.core.first.call(null,r));if(cljs.core.truth_(l))return r=cljs.core.nth.call(null,l,0,null),l=cljs.core.nth.call(null,l,1,null),new datascript.parser.Predicate(r,l,null,null,null)}return null},datascript.parser.parse_fn=function(r){if(cljs.core.truth_(datascript.parser.of_size_QMARK_.call(null,r,2))){var l=cljs.core.nth.call(null,r,0,null);r=cljs.core.nth.call(null,r,1,null);var e=datascript.parser.parse_call.call(null,l);if(cljs.core.truth_(e))return l=cljs.core.nth.call(null,e,0,null),e=cljs.core.nth.call(null,e,1,null),r=datascript.parser.parse_binding.call(null,r),cljs.core.truth_(r)?new datascript.parser.Function(l,e,r,null,null,null):null}return null},datascript.parser.parse_rule_expr=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),l=cljs.core.nth.call(null,l,1,null),c=cljs.core.nth.call(null,l,0,null),l=cljs.core.nthnext.call(null,l,1),c=datascript.parser.parse_plain_symbol.call(null,c),t=datascript.parser.parse_seq.call(null,datascript.parser.parse_pattern_el,l);if(cljs.core.truth_(c)){if(cljs.core.empty_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,""+cljs.core.str("rule-expr requieres at least one argument"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));if(null==t)throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));return new datascript.parser.RuleExpr(e,c,t,null,null,null)}}return null},datascript.parser.collect_vars_acc=function r(l,e){return e instanceof datascript.parser.Variable?cljs.core.conj.call(null,l,e):e instanceof datascript.parser.Not?cljs.core.into.call(null,l,new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(e)):e instanceof datascript.parser.Or?r.call(null,l,new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520).cljs$core$IFn$_invoke$arity$1(e)):(e?cljs.core.truth_(cljs.core.truth_(null)?null:e.datascript$parser$ITraversable$)||(e.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,e)):cljs.core.native_satisfies_QMARK_.call(null,datascript.parser.ITraversable,e))?datascript.parser._collect_vars.call(null,e,l):cljs.core.sequential_QMARK_.call(null,e)?cljs.core.reduce.call(null,r,l,e):l},datascript.parser.collect_vars=function(r){return datascript.parser.collect_vars_acc.call(null,cljs.core.PersistentVector.EMPTY,r)},datascript.parser.collect_vars_distinct=function(r){return cljs.core.vec.call(null,cljs.core.distinct.call(null,datascript.parser.collect_vars.call(null,r)))},datascript.parser.validate_join_vars=function(r,l,e){if(l=clojure.set.difference.call(null,cljs.core.set.call(null,r),cljs.core.set.call(null,datascript.parser.collect_vars.call(null,l))),!cljs.core.empty_QMARK_.call(null,l))throw cljs.core.ex_info.call(null,[cljs.core.str("Join variable not declared inside clauses: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),l)))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),e],null));if(cljs.core.empty_QMARK_.call(null,r))throw cljs.core.ex_info.call(null,""+cljs.core.str("Join variables should not be empty"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),e],null));return null},datascript.parser.validate_not=function(r,l){return datascript.parser.validate_join_vars.call(null,new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),l),r},datascript.parser.parse_not=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),l=cljs.core.nth.call(null,c,0,null),c=cljs.core.nthnext.call(null,c,1);if(cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"not","not",1044554643,null),l)){if(l=datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,c),cljs.core.truth_(l))return datascript.parser.validate_not.call(null,new datascript.parser.Not(e,datascript.parser.collect_vars_distinct.call(null,l),l,null,null,null),r);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}}return null},datascript.parser.parse_not_join=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),l=cljs.core.nth.call(null,c,0,null),t=cljs.core.nth.call(null,c,1,null),c=cljs.core.nthnext.call(null,c,2);if(cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"not-join","not-join",-645515756,null),l)){if(l=datascript.parser.parse_seq.call(null,datascript.parser.parse_variable,t),t=datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,c),cljs.core.truth_(cljs.core.truth_(l)?t:l))return datascript.parser.validate_not.call(null,new datascript.parser.Not(e,l,t,null,null,null),r);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}}return null},datascript.parser.validate_or=function(r,l){for(var e=cljs.core.seq_QMARK_.call(null,r)?cljs.core.apply.call(null,cljs.core.hash_map,r):r,c=cljs.core.get.call(null,e,new cljs.core.Keyword(null,"rule-vars","rule-vars",1665972520)),t=cljs.core.seq_QMARK_.call(null,c)?cljs.core.apply.call(null,cljs.core.hash_map,c):c,c=cljs.core.get.call(null,t,new cljs.core.Keyword(null,"required","required",1807647006)),t=cljs.core.get.call(null,t,new cljs.core.Keyword(null,"free","free",801364328)),n=cljs.core.get.call(null,e,new cljs.core.Keyword(null,"clauses","clauses",1454841241)),e=cljs.core.concat.call(null,c,t),c=cljs.core.seq.call(null,n),t=null,s=n=0;;)if(s<n){var o=cljs.core._nth.call(null,t,s);datascript.parser.validate_join_vars.call(null,e,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[o],null),l),s+=1}else{if(!(c=cljs.core.seq.call(null,c)))break;t=c,cljs.core.chunked_seq_QMARK_.call(null,t)?(c=cljs.core.chunk_first.call(null,t),s=cljs.core.chunk_rest.call(null,t),t=c,n=cljs.core.count.call(null,c),c=s):(c=cljs.core.first.call(null,t),datascript.parser.validate_join_vars.call(null,e,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[c],null),l),c=cljs.core.next.call(null,t),t=null,n=0),s=0}return r},datascript.parser.parse_and=function(r){if(cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"and","and",668631710,null),cljs.core.first.call(null,r))){var l=datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,cljs.core.next.call(null,r));if(cljs.core.truth_(cljs.core.not_empty.call(null,l)))return new datascript.parser.And(l,null,null,null);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse 'and' clause, expected [ 'and' clause+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}return null},datascript.parser.parse_or=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),l=cljs.core.nth.call(null,c,0,null),c=cljs.core.nthnext.call(null,c,1);if(cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"or","or",1876275696,null),l)){if(l=datascript.parser.parse_seq.call(null,cljs.core.some_fn.call(null,datascript.parser.parse_and,datascript.parser.parse_clause),c),cljs.core.truth_(l))return datascript.parser.validate_or.call(null,new datascript.parser.Or(e,new datascript.parser.RuleVars(null,datascript.parser.collect_vars_distinct.call(null,l),null,null,null),l,null,null,null),r);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}}return null},datascript.parser.parse_or_join=function(r){var l=datascript.parser.take_source.call(null,r);if(cljs.core.truth_(l)){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),l=cljs.core.nth.call(null,c,0,null),t=cljs.core.nth.call(null,c,1,null),c=cljs.core.nthnext.call(null,c,2);if(cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"or-join","or-join",591375469,null),l)){if(l=datascript.parser.parse_rule_vars.call(null,t),t=datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,c),cljs.core.truth_(cljs.core.truth_(l)?t:l))return datascript.parser.validate_or.call(null,new datascript.parser.Or(e,l,t,null,null,null),r);throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}}return null},datascript.parser.parse_clause=function(r){var l=datascript.parser.parse_not.call(null,r);if(cljs.core.truth_(l))return l;if(l=datascript.parser.parse_not_join.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_or.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_or_join.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_pred.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_fn.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_rule_expr.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.parser.parse_pattern.call(null,r),cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.parse_where=function(r){var l=datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,r);if(cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse :where clause, expected [clause+]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","where","parser/where",-966053850),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.RuleBranch=function(r,l,e,c,t){this.vars=r,this.clauses=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.RuleBranch.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.RuleBranch.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"vars":return this.vars;case"clauses":return this.clauses;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.RuleBranch.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.RuleBranch{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"vars","vars",-2046957217),this.vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.RuleBranch.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.RuleBranch.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.RuleBranch(this.vars,this.clauses,this.__meta,this.__extmap,this.__hash)},datascript.parser.RuleBranch.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.RuleBranch.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.RuleBranch.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.RuleBranch.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),null,new cljs.core.Keyword(null,"vars","vars",-2046957217),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.RuleBranch(this.vars,this.clauses,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.RuleBranch.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"vars","vars",-2046957217),l))?new datascript.parser.RuleBranch(e,this.clauses,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"clauses","clauses",1454841241),l))?new datascript.parser.RuleBranch(this.vars,e,this.__meta,this.__extmap,null):new datascript.parser.RuleBranch(this.vars,this.clauses,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.RuleBranch.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"vars","vars",-2046957217),this.vars],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"clauses","clauses",1454841241),this.clauses],null)],null),this.__extmap))},datascript.parser.RuleBranch.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.RuleBranch(this.vars,this.clauses,l,this.__extmap,this.__hash)},datascript.parser.RuleBranch.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.RuleBranch.prototype.datascript$parser$ITraversable$=!0,datascript.parser.RuleBranch.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.RuleBranch(datascript.parser.postwalk.call(null,this.vars,l),datascript.parser.postwalk.call(null,this.clauses,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.RuleBranch.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.clauses,datascript.parser.collect.call(null,l,this.vars,e))},datascript.parser.RuleBranch.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.vars),this.clauses)},datascript.parser.RuleBranch.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"vars","vars",-406425690,null),new cljs.core.Symbol(null,"clauses","clauses",-1199594528,null)],null)},datascript.parser.RuleBranch.cljs$lang$type=!0,datascript.parser.RuleBranch.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/RuleBranch")},datascript.parser.RuleBranch.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/RuleBranch")},datascript.parser.__GT_RuleBranch=function(r,l){return new datascript.parser.RuleBranch(r,l,null,null,null)},datascript.parser.map__GT_RuleBranch=function(r){return new datascript.parser.RuleBranch(new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"vars","vars",-2046957217),new cljs.core.Keyword(null,"clauses","clauses",1454841241)),null)},datascript.parser.Rule=function(r,l,e,c,t){this.name=r,this.branches=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Rule.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Rule.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"name":return this.name;case"branches":return this.branches;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.parser.Rule.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Rule{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"name","name",1843675177),this.name],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"branches","branches",-1240337268),this.branches],null)],null),this.__extmap))},datascript.parser.Rule.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Rule.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Rule(this.name,this.branches,this.__meta,this.__extmap,this.__hash)},datascript.parser.Rule.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.parser.Rule.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Rule.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Rule.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"name","name",1843675177),null,new cljs.core.Keyword(null,"branches","branches",-1240337268),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Rule(this.name,this.branches,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Rule.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"name","name",1843675177),l))?new datascript.parser.Rule(e,this.branches,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"branches","branches",-1240337268),l))?new datascript.parser.Rule(this.name,e,this.__meta,this.__extmap,null):new datascript.parser.Rule(this.name,this.branches,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Rule.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"name","name",1843675177),this.name],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"branches","branches",-1240337268),this.branches],null)],null),this.__extmap))},datascript.parser.Rule.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Rule(this.name,this.branches,l,this.__extmap,this.__hash)},datascript.parser.Rule.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Rule.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Rule.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Rule(datascript.parser.postwalk.call(null,this.name,l),datascript.parser.postwalk.call(null,this.branches,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Rule.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.branches,datascript.parser.collect.call(null,l,this.name,e))},datascript.parser.Rule.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.name),this.branches)},datascript.parser.Rule.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"name","name",-810760592,null),new cljs.core.Symbol(null,"branches","branches",400194259,null)],null)},datascript.parser.Rule.cljs$lang$type=!0,datascript.parser.Rule.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Rule")},datascript.parser.Rule.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Rule")},datascript.parser.__GT_Rule=function(r,l){return new datascript.parser.Rule(r,l,null,null,null)},datascript.parser.map__GT_Rule=function(r){return new datascript.parser.Rule(new cljs.core.Keyword(null,"name","name",1843675177).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"branches","branches",-1240337268).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"branches","branches",-1240337268)),null)},datascript.parser.validate_vars=function(r,l,e){if(r=datascript.parser.collect.call(null,function(r){return r instanceof datascript.parser.Variable},r,cljs.core.PersistentHashSet.EMPTY),l=datascript.parser.collect.call(null,function(r){return function(r){return r instanceof datascript.parser.Variable}}(),l,cljs.core.PersistentHashSet.EMPTY),l=clojure.set.difference.call(null,l,r),cljs.core.empty_QMARK_.call(null,l))return null;throw cljs.core.ex_info.call(null,[cljs.core.str("Reference to the unknown variables: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),l)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"form","form",-1624062471),e,new cljs.core.Keyword(null,"vars","vars",-2046957217),l],null))},datascript.parser.parse_rule=function(r){if(cljs.core.sequential_QMARK_.call(null,r)){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nthnext.call(null,r,1);if(cljs.core.sequential_QMARK_.call(null,l)){var c=cljs.core.nth.call(null,l,0,null),t=cljs.core.nthnext.call(null,l,1),l=function(){var l=datascript.parser.parse_plain_symbol.call(null,c);if(cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule name, expected plain-symbol"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}(),t=datascript.parser.parse_rule_vars.call(null,t),n=function(){var l=cljs.core.not_empty.call(null,datascript.parser.parse_seq.call(null,datascript.parser.parse_clause,e));if(cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Rule branch should have clauses"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}();return datascript.parser.validate_vars.call(null,t,n,r),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"name","name",1843675177),l,new cljs.core.Keyword(null,"vars","vars",-2046957217),t,new cljs.core.Keyword(null,"clauses","clauses",1454841241),n],null)}throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule head, expected [rule-name rule-vars]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))}throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse rule, expected [rule-head clause+]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"form","form",-1624062471),r],null))},datascript.parser.validate_arity=function(r,l){for(var e=new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,l)),c=datascript.parser.rule_vars_arity.call(null,e),t=cljs.core.seq.call(null,cljs.core.next.call(null,l)),n=null,s=0,o=0;;)if(o<s){var a=cljs.core._nth.call(null,n,o),a=new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(a)
;if(cljs.core.not_EQ_.call(null,c,datascript.parser.rule_vars_arity.call(null,a)))throw cljs.core.ex_info.call(null,[cljs.core.str("Arity mismatch for rule '"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696).cljs$core$IFn$_invoke$arity$1(r))),cljs.core.str("': "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.flatten_rule_vars.call(null,e))),cljs.core.str(" vs. "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.flatten_rule_vars.call(null,a)))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"rule","rule",729973257),r],null));o+=1}else{if(!(t=cljs.core.seq.call(null,t)))return null;if(cljs.core.chunked_seq_QMARK_.call(null,t))s=cljs.core.chunk_first.call(null,t),t=cljs.core.chunk_rest.call(null,t),n=s,s=cljs.core.count.call(null,s);else{if(a=cljs.core.first.call(null,t),n=new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(a),cljs.core.not_EQ_.call(null,c,datascript.parser.rule_vars_arity.call(null,n)))throw cljs.core.ex_info.call(null,[cljs.core.str("Arity mismatch for rule '"),cljs.core.str(cljs.core.pr_str.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696).cljs$core$IFn$_invoke$arity$1(r))),cljs.core.str("': "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.flatten_rule_vars.call(null,e))),cljs.core.str(" vs. "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.flatten_rule_vars.call(null,n)))].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","rule","parser/rule",-464044566),new cljs.core.Keyword(null,"rule","rule",729973257),r],null));t=cljs.core.next.call(null,t),n=null,s=0}o=0}},datascript.parser.parse_rules=function(r){return cljs.core.vec.call(null,function(){return function r(l){return new cljs.core.LazySeq(null,function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){var c=e;if(cljs.core.chunked_seq_QMARK_.call(null,c)){var t=cljs.core.chunk_first.call(null,c),n=cljs.core.count.call(null,t),s=cljs.core.chunk_buffer.call(null,n);return function(){for(var r=0;;){if(!(r<n))return!0;var l=cljs.core._nth.call(null,t,r),e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),o=cljs.core.mapv.call(null,function(r,l,e,c,t,n,s,o,a){return function(r){return new datascript.parser.RuleBranch(new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,null,null)}}(),c);cljs.core.chunk_append.call(null,s,function(){return datascript.parser.validate_arity.call(null,e,o),new datascript.parser.Rule(e,o,null,null,null)}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),r.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),null)}var o=cljs.core.first.call(null,c),a=cljs.core.nth.call(null,o,0,null),i=cljs.core.nth.call(null,o,1,null),u=cljs.core.mapv.call(null,function(r,l,e,c,t){return function(r){return new datascript.parser.RuleBranch(new cljs.core.Keyword(null,"vars","vars",-2046957217).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(r),null,null,null)}}(),i);return cljs.core.cons.call(null,function(){return datascript.parser.validate_arity.call(null,a,u),new datascript.parser.Rule(a,u,null,null,null)}(),r.call(null,cljs.core.rest.call(null,c)))}return null}},null,null)}.call(null,cljs.core.group_by.call(null,new cljs.core.Keyword(null,"name","name",1843675177),datascript.parser.parse_seq.call(null,datascript.parser.parse_rule,r)))}())},datascript.parser.Query=function(r,l,e,c,t,n,s){this.find=r,this.with$=l,this.in$=e,this.where=c,this.__meta=t,this.__extmap=n,this.__hash=s,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.parser.Query.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.parser.Query.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"find":return this.find;case"with":return this.with$;case"in":return this.in$;case"where":return this.where;default:return cljs.core.get.call(null,this.__extmap,l,e)}};datascript.parser.Query.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.parser.Query{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),this.find],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"with","with",-1536296876),this.with$],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),this.in$],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"where","where",-2044795965),this.where],null)],null),this.__extmap))},datascript.parser.Query.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.parser.Query.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.parser.Query(this.find,this.with$,this.in$,this.where,this.__meta,this.__extmap,this.__hash)},datascript.parser.Query.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 4+cljs.core.count.call(null,this.__extmap)},datascript.parser.Query.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.parser.Query.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.parser.Query.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"find","find",496279456),null,new cljs.core.Keyword(null,"where","where",-2044795965),null,new cljs.core.Keyword(null,"with","with",-1536296876),null,new cljs.core.Keyword(null,"in","in",-1531184865),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.parser.Query(this.find,this.with$,this.in$,this.where,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.parser.Query.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"find","find",496279456),l))?new datascript.parser.Query(e,this.with$,this.in$,this.where,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"with","with",-1536296876),l))?new datascript.parser.Query(this.find,e,this.in$,this.where,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"in","in",-1531184865),l))?new datascript.parser.Query(this.find,this.with$,e,this.where,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"where","where",-2044795965),l))?new datascript.parser.Query(this.find,this.with$,this.in$,e,this.__meta,this.__extmap,null):new datascript.parser.Query(this.find,this.with$,this.in$,this.where,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.parser.Query.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),this.find],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"with","with",-1536296876),this.with$],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),this.in$],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"where","where",-2044795965),this.where],null)],null),this.__extmap))},datascript.parser.Query.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.parser.Query(this.find,this.with$,this.in$,this.where,l,this.__extmap,this.__hash)},datascript.parser.Query.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.parser.Query.prototype.datascript$parser$ITraversable$=!0,datascript.parser.Query.prototype.datascript$parser$ITraversable$_postwalk$arity$2=function(r,l){var e=new datascript.parser.Query(datascript.parser.postwalk.call(null,this.find,l),datascript.parser.postwalk.call(null,this.with$,l),datascript.parser.postwalk.call(null,this.in$,l),datascript.parser.postwalk.call(null,this.where,l),null,null,null);return e.__meta=cljs.core.meta.call(null,this),e},datascript.parser.Query.prototype.datascript$parser$ITraversable$_collect$arity$3=function(r,l,e){return datascript.parser.collect.call(null,l,this.where,datascript.parser.collect.call(null,l,this.in$,datascript.parser.collect.call(null,l,this.with$,datascript.parser.collect.call(null,l,this.find,e))))},datascript.parser.Query.prototype.datascript$parser$ITraversable$_collect_vars$arity$2=function(r,l){return datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,datascript.parser.collect_vars_acc.call(null,l,this.find),this.with$),this.in$),this.where)},datascript.parser.Query.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"find","find",2136810983,null),new cljs.core.Symbol(null,"with","with",104234651,null),new cljs.core.Symbol(null,"in","in",109346662,null),new cljs.core.Symbol(null,"where","where",-404264438,null)],null)},datascript.parser.Query.cljs$lang$type=!0,datascript.parser.Query.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.parser/Query")},datascript.parser.Query.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.parser/Query")},datascript.parser.__GT_Query=function(r,l,e,c){return new datascript.parser.Query(r,l,e,c,null,null,null)},datascript.parser.map__GT_Query=function(r){return new datascript.parser.Query(new cljs.core.Keyword(null,"find","find",496279456).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Keyword(null,"with","with",-1536296876),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Keyword(null,"where","where",-2044795965)),null)},datascript.parser.query__GT_map=function(r){for(var l=cljs.core.PersistentArrayMap.EMPTY,e=null;;){var c=cljs.core.first.call(null,r);if(!cljs.core.truth_(c))return l;c instanceof cljs.core.Keyword?e=c:l=cljs.core.update_in.call(null,l,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null),cljs.core.fnil.call(null,cljs.core.conj,cljs.core.PersistentVector.EMPTY),c),r=cljs.core.next.call(null,r)}},datascript.parser.validate_query=function(r,l){var e=cljs.core.set.call(null,datascript.parser.collect_vars.call(null,new cljs.core.Keyword(null,"find","find",496279456).cljs$core$IFn$_invoke$arity$1(r))),c=cljs.core.set.call(null,new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(r)),t=cljs.core.set.call(null,datascript.parser.collect_vars.call(null,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r))),n=cljs.core.set.call(null,datascript.parser.collect_vars.call(null,new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(r))),t=clojure.set.difference.call(null,clojure.set.union.call(null,e,c),clojure.set.union.call(null,n,t)),e=clojure.set.intersection.call(null,e,c);if(!cljs.core.empty_QMARK_.call(null,t))throw cljs.core.ex_info.call(null,[cljs.core.str("Query for unknown vars: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),t)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"vars","vars",-2046957217),t,new cljs.core.Keyword(null,"form","form",-1624062471),l],null));if(!cljs.core.empty_QMARK_.call(null,e))throw cljs.core.ex_info.call(null,[cljs.core.str(":in and :with should not use same variables: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),e)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"vars","vars",-2046957217),e,new cljs.core.Keyword(null,"form","form",-1624062471),l],null));var s=datascript.parser.collect_vars.call(null,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r)),o=datascript.parser.collect.call(null,function(r){return function(r){return r instanceof datascript.parser.SrcVar}}(),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r)),a=datascript.parser.collect.call(null,function(r,l){return function(r){return r instanceof datascript.parser.RulesVar}}(),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r));if(!cljs.core.truth_(function(){var r=datascript.parser.distinct_QMARK_.call(null,s);return cljs.core.truth_(r)?(r=datascript.parser.distinct_QMARK_.call(null,o),cljs.core.truth_(r)?datascript.parser.distinct_QMARK_.call(null,a):r):r}()))throw cljs.core.ex_info.call(null,""+cljs.core.str("Vars used in :in should be distinct"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"form","form",-1624062471),l],null));if(e=datascript.parser.collect_vars.call(null,new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(r)),!cljs.core.truth_(datascript.parser.distinct_QMARK_.call(null,e)))throw cljs.core.ex_info.call(null,""+cljs.core.str("Vars used in :with should be distinct"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"form","form",-1624062471),l],null));if(e=datascript.parser.collect.call(null,function(r){return r instanceof datascript.parser.SrcVar},new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r),cljs.core.PersistentHashSet.EMPTY),c=datascript.parser.collect.call(null,function(r){return function(r){return r instanceof datascript.parser.SrcVar}}(),new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(r),cljs.core.PersistentHashSet.EMPTY),e=clojure.set.difference.call(null,c,e),!cljs.core.empty_QMARK_.call(null,e))throw cljs.core.ex_info.call(null,[cljs.core.str("Where uses unknown source vars: "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.mapv.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),e)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"vars","vars",-2046957217),e,new cljs.core.Keyword(null,"form","form",-1624062471),l],null));if(e=datascript.parser.collect.call(null,function(r){return r instanceof datascript.parser.RuleExpr},new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(r)),c=datascript.parser.collect.call(null,function(r){return function(r){return r instanceof datascript.parser.RulesVar}}(),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(r)),!cljs.core.empty_QMARK_.call(null,e)&&cljs.core.empty_QMARK_.call(null,c))throw cljs.core.ex_info.call(null,""+cljs.core.str("Missing rules var '%' in :in"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"form","form",-1624062471),l],null));return null},datascript.parser.parse_query=function(r){var l;if(cljs.core.map_QMARK_.call(null,r))l=r;else{if(!cljs.core.sequential_QMARK_.call(null,r))throw cljs.core.ex_info.call(null,""+cljs.core.str("Query should be a vector or a map"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","query","parser/query",1877320671),new cljs.core.Keyword(null,"form","form",-1624062471),r],null));l=datascript.parser.query__GT_map.call(null,r)}var e=l;return l=datascript.parser.map__GT_Query.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"find","find",496279456),datascript.parser.parse_find.call(null,new cljs.core.Keyword(null,"find","find",496279456).cljs$core$IFn$_invoke$arity$1(e)),new cljs.core.Keyword(null,"with","with",-1536296876),function(){var r=new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(e);return cljs.core.truth_(r)?datascript.parser.parse_with.call(null,r):null}(),new cljs.core.Keyword(null,"in","in",-1531184865),datascript.parser.parse_in.call(null,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$2(e,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"$","$",-1580747756,null)],null))),new cljs.core.Keyword(null,"where","where",-2044795965),datascript.parser.parse_where.call(null,new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$2(e,cljs.core.PersistentVector.EMPTY))],null)),datascript.parser.validate_query.call(null,l,r),l},datascript.lru={},datascript.lru.LRU=function(r,l,e,c,t){this.key_value=r,this.gen_key=l,this.key_gen=e,this.gen=c,this.limit=t,this.cljs$lang$protocol_mask$partition0$=2147484416,this.cljs$lang$protocol_mask$partition1$=0},datascript.lru.LRU.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return datascript.lru.assoc_lru.call(null,this,l,e)},datascript.lru.LRU.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){return cljs.core._contains_key_QMARK_.call(null,this.key_value,l)},datascript.lru.LRU.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this.key_value,l,null)},datascript.lru.LRU.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core._lookup.call(null,this.key_value,l,e)},datascript.lru.LRU.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._pr_writer.call(null,cljs.core.persistent_BANG_.call(null,this.key_value),l,e)},datascript.lru.LRU.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"key-value","key-value",1605624688,null),new cljs.core.Symbol(null,"gen-key","gen-key",392707442,null),new cljs.core.Symbol(null,"key-gen","key-gen",415199034,null),new cljs.core.Symbol(null,"gen","gen",1783106829,null),new cljs.core.Symbol(null,"limit","limit",284709164,null)],null)},datascript.lru.LRU.cljs$lang$type=!0,datascript.lru.LRU.cljs$lang$ctorStr="datascript.lru/LRU",datascript.lru.LRU.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.lru/LRU")},datascript.lru.__GT_LRU=function(r,l,e,c,t){return new datascript.lru.LRU(r,l,e,c,t)},datascript.lru.assoc_lru=function(r,l,e){var c=r.key_value,t=r.gen_key,n=r.key_gen,s=r.gen;r=r.limit;var o=n.call(null,l,null);return cljs.core.truth_(o)?datascript.lru.__GT_LRU.call(null,c,cljs.core.assoc.call(null,cljs.core.dissoc.call(null,t,o),s,l),cljs.core.assoc.call(null,n,l,s),s+1,r):datascript.lru.cleanup_lru.call(null,datascript.lru.__GT_LRU.call(null,cljs.core.assoc.call(null,c,l,e),cljs.core.assoc.call(null,t,s,l),cljs.core.assoc.call(null,n,l,s),s+1,r))},datascript.lru.cleanup_lru=function(r){if(cljs.core.count.call(null,r.key_value)>r.limit){var l=r.key_value,e=r.gen_key,c=r.key_gen,t=r.gen;r=r.limit;var n=cljs.core.first.call(null,e),s=cljs.core.nth.call(null,n,0,null),n=cljs.core.nth.call(null,n,1,null);return datascript.lru.__GT_LRU.call(null,cljs.core.dissoc.call(null,l,n),cljs.core.dissoc.call(null,e,s),cljs.core.dissoc.call(null,c,n),t,r)}return r},datascript.lru.lru=function(r){return datascript.lru.__GT_LRU.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.sorted_map.call(null),cljs.core.PersistentArrayMap.EMPTY,0,r)},datascript.pull_parser={},datascript.pull_parser.PullSpec=function(r,l,e,c,t){this.wildcard_QMARK_=r,this.attrs=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullSpec.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullSpec.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"wildcard?":return this.wildcard_QMARK_;case"attrs":return this.attrs;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullSpec.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullSpec{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),this.wildcard_QMARK_],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",-2090668713),this.attrs],null)],null),this.__extmap))},datascript.pull_parser.PullSpec.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullSpec.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullSpec(this.wildcard_QMARK_,this.attrs,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullSpec.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullSpec.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullSpec.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullSpec.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"attrs","attrs",-2090668713),null,new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullSpec(this.wildcard_QMARK_,this.attrs,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullSpec.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),l))?new datascript.pull_parser.PullSpec(e,this.attrs,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),l))?new datascript.pull_parser.PullSpec(this.wildcard_QMARK_,e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullSpec(this.wildcard_QMARK_,this.attrs,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullSpec.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),this.wildcard_QMARK_],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",-2090668713),this.attrs],null)],null),this.__extmap))},datascript.pull_parser.PullSpec.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullSpec(this.wildcard_QMARK_,this.attrs,l,this.__extmap,this.__hash)},datascript.pull_parser.PullSpec.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullSpec.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"wildcard?","wildcard?",954487426,null),new cljs.core.Symbol(null,"attrs","attrs",-450137186,null)],null)},datascript.pull_parser.PullSpec.cljs$lang$type=!0,datascript.pull_parser.PullSpec.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullSpec")},datascript.pull_parser.PullSpec.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullSpec")},datascript.pull_parser.__GT_PullSpec=function(r,l){return new datascript.pull_parser.PullSpec(r,l,null,null,null)},datascript.pull_parser.map__GT_PullSpec=function(r){return new datascript.pull_parser.PullSpec(new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),new cljs.core.Keyword(null,"attrs","attrs",-2090668713)),null)},datascript.pull_parser.IPullSpecComponent=function(){return{}}(),datascript.pull_parser._as_spec=function(r){if(r?r.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1:r)return r.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1(r);var l;if(!(l=datascript.pull_parser._as_spec[goog.typeOf(null==r?null:r)])&&!(l=datascript.pull_parser._as_spec._))throw cljs.core.missing_protocol.call(null,"IPullSpecComponent.-as-spec",r);return l.call(null,r)},datascript.pull_parser.PullAttrName=function(r,l,e,c){this.attr=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullAttrName.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullAttrName.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attr":return this.attr;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullAttrName.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullAttrName{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null)],null),this.__extmap))},datascript.pull_parser.PullAttrName.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullAttrName.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullAttrName(this.attr,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullAttrName.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullAttrName.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullAttrName.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullAttrName.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullAttrName.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.attr,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null)],null)},datascript.pull_parser.PullAttrName.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"attr","attr",-604132353),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullAttrName(this.attr,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullAttrName.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"attr","attr",-604132353),l))?new datascript.pull_parser.PullAttrName(e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullAttrName(this.attr,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullAttrName.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){
return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null)],null),this.__extmap))},datascript.pull_parser.PullAttrName.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullAttrName(this.attr,l,this.__extmap,this.__hash)},datascript.pull_parser.PullAttrName.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullAttrName.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attr","attr",1036399174,null)],null)},datascript.pull_parser.PullAttrName.cljs$lang$type=!0,datascript.pull_parser.PullAttrName.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullAttrName")},datascript.pull_parser.PullAttrName.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullAttrName")},datascript.pull_parser.__GT_PullAttrName=function(r){return new datascript.pull_parser.PullAttrName(r,null,null,null)},datascript.pull_parser.map__GT_PullAttrName=function(r){return new datascript.pull_parser.PullAttrName(new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attr","attr",-604132353)),null)},datascript.pull_parser.PullReverseAttrName=function(r,l,e,c,t){this.attr=r,this.rattr=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attr":return this.attr;case"rattr":return this.rattr;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullReverseAttrName{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rattr","rattr",-1122345563),this.rattr],null)],null),this.__extmap))},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullReverseAttrName(this.attr,this.rattr,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullReverseAttrName.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullReverseAttrName.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[this.rattr,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null)],null)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"rattr","rattr",-1122345563),null,new cljs.core.Keyword(null,"attr","attr",-604132353),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullReverseAttrName(this.attr,this.rattr,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attr","attr",-604132353),l))?new datascript.pull_parser.PullReverseAttrName(e,this.rattr,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"rattr","rattr",-1122345563),l))?new datascript.pull_parser.PullReverseAttrName(this.attr,e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullReverseAttrName(this.attr,this.rattr,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rattr","rattr",-1122345563),this.rattr],null)],null),this.__extmap))},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullReverseAttrName(this.attr,this.rattr,l,this.__extmap,this.__hash)},datascript.pull_parser.PullReverseAttrName.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullReverseAttrName.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attr","attr",1036399174,null),new cljs.core.Symbol(null,"rattr","rattr",518185964,null)],null)},datascript.pull_parser.PullReverseAttrName.cljs$lang$type=!0,datascript.pull_parser.PullReverseAttrName.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullReverseAttrName")},datascript.pull_parser.PullReverseAttrName.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullReverseAttrName")},datascript.pull_parser.__GT_PullReverseAttrName=function(r,l){return new datascript.pull_parser.PullReverseAttrName(r,l,null,null,null)},datascript.pull_parser.map__GT_PullReverseAttrName=function(r){return new datascript.pull_parser.PullReverseAttrName(new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"rattr","rattr",-1122345563).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"rattr","rattr",-1122345563)),null)},datascript.pull_parser.PullLimitExpr=function(r,l,e,c,t){this.attr=r,this.limit=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attr":return this.attr;case"limit":return this.limit;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullLimitExpr{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"limit","limit",-1355822363),this.limit],null)],null),this.__extmap))},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullLimitExpr(this.attr,this.limit,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullLimitExpr.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullLimitExpr.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return cljs.core.assoc_in.call(null,datascript.pull_parser._as_spec.call(null,this.attr),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[1,new cljs.core.Keyword(null,"limit","limit",-1355822363)],null),this.limit)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"limit","limit",-1355822363),null,new cljs.core.Keyword(null,"attr","attr",-604132353),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullLimitExpr(this.attr,this.limit,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attr","attr",-604132353),l))?new datascript.pull_parser.PullLimitExpr(e,this.limit,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"limit","limit",-1355822363),l))?new datascript.pull_parser.PullLimitExpr(this.attr,e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullLimitExpr(this.attr,this.limit,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"limit","limit",-1355822363),this.limit],null)],null),this.__extmap))},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullLimitExpr(this.attr,this.limit,l,this.__extmap,this.__hash)},datascript.pull_parser.PullLimitExpr.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullLimitExpr.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attr","attr",1036399174,null),new cljs.core.Symbol(null,"limit","limit",284709164,null)],null)},datascript.pull_parser.PullLimitExpr.cljs$lang$type=!0,datascript.pull_parser.PullLimitExpr.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullLimitExpr")},datascript.pull_parser.PullLimitExpr.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullLimitExpr")},datascript.pull_parser.__GT_PullLimitExpr=function(r,l){return new datascript.pull_parser.PullLimitExpr(r,l,null,null,null)},datascript.pull_parser.map__GT_PullLimitExpr=function(r){return new datascript.pull_parser.PullLimitExpr(new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"limit","limit",-1355822363).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"limit","limit",-1355822363)),null)},datascript.pull_parser.PullDefaultExpr=function(r,l,e,c,t){this.attr=r,this.value=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attr":return this.attr;case"value":return this.value;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullDefaultExpr{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"value","value",305978217),this.value],null)],null),this.__extmap))},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullDefaultExpr(this.attr,this.value,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullDefaultExpr.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullDefaultExpr.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return cljs.core.assoc_in.call(null,datascript.pull_parser._as_spec.call(null,this.attr),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[1,new cljs.core.Keyword(null,"default","default",-1987822328)],null),this.value)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"value","value",305978217),null,new cljs.core.Keyword(null,"attr","attr",-604132353),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullDefaultExpr(this.attr,this.value,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attr","attr",-604132353),l))?new datascript.pull_parser.PullDefaultExpr(e,this.value,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"value","value",305978217),l))?new datascript.pull_parser.PullDefaultExpr(this.attr,e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullDefaultExpr(this.attr,this.value,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"value","value",305978217),this.value],null)],null),this.__extmap))},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullDefaultExpr(this.attr,this.value,l,this.__extmap,this.__hash)},datascript.pull_parser.PullDefaultExpr.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullDefaultExpr.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attr","attr",1036399174,null),new cljs.core.Symbol(null,"value","value",1946509744,null)],null)},datascript.pull_parser.PullDefaultExpr.cljs$lang$type=!0,datascript.pull_parser.PullDefaultExpr.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullDefaultExpr")},datascript.pull_parser.PullDefaultExpr.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullDefaultExpr")},datascript.pull_parser.__GT_PullDefaultExpr=function(r,l){return new datascript.pull_parser.PullDefaultExpr(r,l,null,null,null)},datascript.pull_parser.map__GT_PullDefaultExpr=function(r){return new datascript.pull_parser.PullDefaultExpr(new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"value","value",305978217).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"value","value",305978217)),null)},datascript.pull_parser.PullWildcard=function(r,l,e){this.__meta=r,this.__extmap=l,this.__hash=e,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullWildcard.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullWildcard.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return cljs.core.get.call(null,this.__extmap,l,e)},datascript.pull_parser.PullWildcard.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullWildcard{",", ","}",e,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.pull_parser.PullWildcard.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullWildcard.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullWildcard(this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullWildcard.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullWildcard.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullWildcard.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullWildcard.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.PersistentHashSet.EMPTY,l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullWildcard(this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullWildcard.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return new datascript.pull_parser.PullWildcard(this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullWildcard.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,cljs.core.PersistentVector.EMPTY,this.__extmap))},datascript.pull_parser.PullWildcard.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullWildcard(l,this.__extmap,this.__hash)},datascript.pull_parser.PullWildcard.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullWildcard.getBasis=function(){return cljs.core.PersistentVector.EMPTY},datascript.pull_parser.PullWildcard.cljs$lang$type=!0,datascript.pull_parser.PullWildcard.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullWildcard")},datascript.pull_parser.PullWildcard.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullWildcard")},datascript.pull_parser.__GT_PullWildcard=function(){return new datascript.pull_parser.PullWildcard(null,null,null)},datascript.pull_parser.map__GT_PullWildcard=function(r){return new datascript.pull_parser.PullWildcard(null,cljs.core.dissoc.call(null,r),null)},datascript.pull_parser.PullRecursionLimit=function(r,l,e,c){this.limit=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"limit":return this.limit;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullRecursionLimit{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"limit","limit",-1355822363),this.limit],null)],null),this.__extmap))},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullRecursionLimit(this.limit,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullRecursionLimit.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullRecursionLimit.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"recursion","recursion",-749738765),this.limit],null)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"limit","limit",-1355822363),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullRecursionLimit(this.limit,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"limit","limit",-1355822363),l))?new datascript.pull_parser.PullRecursionLimit(e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullRecursionLimit(this.limit,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"limit","limit",-1355822363),this.limit],null)],null),this.__extmap))},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullRecursionLimit(this.limit,l,this.__extmap,this.__hash)},datascript.pull_parser.PullRecursionLimit.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullRecursionLimit.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"limit","limit",284709164,null)],null)},datascript.pull_parser.PullRecursionLimit.cljs$lang$type=!0,datascript.pull_parser.PullRecursionLimit.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullRecursionLimit")},datascript.pull_parser.PullRecursionLimit.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullRecursionLimit")},datascript.pull_parser.__GT_PullRecursionLimit=function(r){return new datascript.pull_parser.PullRecursionLimit(r,null,null,null)},datascript.pull_parser.map__GT_PullRecursionLimit=function(r){return new datascript.pull_parser.PullRecursionLimit(new cljs.core.Keyword(null,"limit","limit",-1355822363).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"limit","limit",-1355822363)),null)},datascript.pull_parser.PullMapSpecEntry=function(r,l,e,c,t){this.attr=r,this.porrl=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attr":return this.attr;case"porrl":return this.porrl;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullMapSpecEntry{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"porrl","porrl",-1693905102),this.porrl],null)],null),this.__extmap))},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullMapSpecEntry(this.attr,this.porrl,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,
null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)};datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullMapSpecEntry.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullMapSpecEntry.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return cljs.core.update.call(null,datascript.pull_parser._as_spec.call(null,this.attr),1,cljs.core.conj,datascript.pull_parser._as_spec.call(null,this.porrl))},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"porrl","porrl",-1693905102),null,new cljs.core.Keyword(null,"attr","attr",-604132353),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullMapSpecEntry(this.attr,this.porrl,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attr","attr",-604132353),l))?new datascript.pull_parser.PullMapSpecEntry(e,this.porrl,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"porrl","porrl",-1693905102),l))?new datascript.pull_parser.PullMapSpecEntry(this.attr,e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullMapSpecEntry(this.attr,this.porrl,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attr","attr",-604132353),this.attr],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"porrl","porrl",-1693905102),this.porrl],null)],null),this.__extmap))},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullMapSpecEntry(this.attr,this.porrl,l,this.__extmap,this.__hash)},datascript.pull_parser.PullMapSpecEntry.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullMapSpecEntry.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attr","attr",1036399174,null),new cljs.core.Symbol(null,"porrl","porrl",-53373575,null)],null)},datascript.pull_parser.PullMapSpecEntry.cljs$lang$type=!0,datascript.pull_parser.PullMapSpecEntry.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullMapSpecEntry")},datascript.pull_parser.PullMapSpecEntry.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullMapSpecEntry")},datascript.pull_parser.__GT_PullMapSpecEntry=function(r,l){return new datascript.pull_parser.PullMapSpecEntry(r,l,null,null,null)},datascript.pull_parser.map__GT_PullMapSpecEntry=function(r){return new datascript.pull_parser.PullMapSpecEntry(new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"porrl","porrl",-1693905102).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"porrl","porrl",-1693905102)),null)},datascript.pull_parser.aggregate_specs=function(r,l){return l instanceof datascript.pull_parser.PullWildcard?cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),!0):cljs.core.update.call(null,r,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),cljs.core.conj_BANG_,datascript.pull_parser._as_spec.call(null,l))},datascript.pull_parser.PullPattern=function(r,l,e,c){this.specs=r,this.__meta=l,this.__extmap=e,this.__hash=c,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.pull_parser.PullPattern.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.pull_parser.PullPattern.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"specs":return this.specs;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.pull_parser.PullPattern.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.pull-parser.PullPattern{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"specs","specs",1426570741),this.specs],null)],null),this.__extmap))},datascript.pull_parser.PullPattern.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.pull_parser.PullPattern.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.pull_parser.PullPattern(this.specs,this.__meta,this.__extmap,this.__hash)},datascript.pull_parser.PullPattern.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1+cljs.core.count.call(null,this.__extmap)},datascript.pull_parser.PullPattern.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.pull_parser.PullPattern.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.pull_parser.PullPattern.prototype.datascript$pull_parser$IPullSpecComponent$=!0,datascript.pull_parser.PullPattern.prototype.datascript$pull_parser$IPullSpecComponent$_as_spec$arity$1=function(r){return r=new datascript.pull_parser.PullSpec(!1,cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY),null,null,null),r=cljs.core.reduce.call(null,datascript.pull_parser.aggregate_specs,r,this.specs),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"subpattern","subpattern",45002743),cljs.core.update.call(null,r,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),cljs.core.persistent_BANG_)],null)},datascript.pull_parser.PullPattern.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"specs","specs",1426570741),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.pull_parser.PullPattern(this.specs,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.pull_parser.PullPattern.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return cljs.core.truth_(cljs.core.keyword_identical_QMARK_.call(null,new cljs.core.Keyword(null,"specs","specs",1426570741),l))?new datascript.pull_parser.PullPattern(e,this.__meta,this.__extmap,null):new datascript.pull_parser.PullPattern(this.specs,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.pull_parser.PullPattern.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"specs","specs",1426570741),this.specs],null)],null),this.__extmap))},datascript.pull_parser.PullPattern.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.pull_parser.PullPattern(this.specs,l,this.__extmap,this.__hash)},datascript.pull_parser.PullPattern.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.pull_parser.PullPattern.getBasis=function(){return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"specs","specs",-1227865028,null)],null)},datascript.pull_parser.PullPattern.cljs$lang$type=!0,datascript.pull_parser.PullPattern.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.pull-parser/PullPattern")},datascript.pull_parser.PullPattern.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.pull-parser/PullPattern")},datascript.pull_parser.__GT_PullPattern=function(r){return new datascript.pull_parser.PullPattern(r,null,null,null)},datascript.pull_parser.map__GT_PullPattern=function(r){return new datascript.pull_parser.PullPattern(new cljs.core.Keyword(null,"specs","specs",1426570741).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"specs","specs",1426570741)),null)},datascript.pull_parser.wildcard_QMARK_=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"*","*",-1294732318),null,"*",null,new cljs.core.Symbol(null,"*","*",345799209,null),null],null),null),datascript.pull_parser.parse_wildcard=function(r){return cljs.core.truth_(datascript.pull_parser.wildcard_QMARK_.call(null,r))?new datascript.pull_parser.PullWildcard(null,null,null):null},datascript.pull_parser.parse_attr_name=function(r){return r instanceof cljs.core.Keyword||"string"==typeof r?datascript.core.reverse_ref_QMARK_.call(null,r)?new datascript.pull_parser.PullReverseAttrName(datascript.core.reverse_ref.call(null,r),r,null,null,null):new datascript.pull_parser.PullAttrName(r,null,null,null):null},datascript.pull_parser.unlimited_recursion_QMARK_=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,["...",null,new cljs.core.Symbol(null,"...","...",-1926939749,null),null],null),null),datascript.pull_parser.parse_recursion_limit=function(r){return cljs.core.truth_(datascript.pull_parser.unlimited_recursion_QMARK_.call(null,r))?new datascript.pull_parser.PullRecursionLimit(null,null,null,null):"number"==typeof r&&0<r?new datascript.pull_parser.PullRecursionLimit(r,null,null,null):null},datascript.pull_parser.maybe_attr_expr_QMARK_=function(r){return cljs.core.sequential_QMARK_.call(null,r)&&cljs.core._EQ_.call(null,3,cljs.core.count.call(null,r))},datascript.pull_parser.limit_QMARK_=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Symbol(null,"limit","limit",284709164,null),null,new cljs.core.Keyword(null,"limit","limit",-1355822363),null,"limit",null],null),null),datascript.pull_parser.parse_limit_expr=function(r){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null),c=cljs.core.nth.call(null,r,2,null);if(cljs.core.truth_(datascript.pull_parser.limit_QMARK_.call(null,l))){if(e=(l=null==c||"number"==typeof c&&0<c)?datascript.pull_parser.parse_attr_name.call(null,e):l,cljs.core.truth_(e))return new datascript.pull_parser.PullLimitExpr(e,c,null,null,null);throw cljs.core.ex_info.call(null,""+cljs.core.str('Expected ["limit" attr-name (positive-number | nil)]'),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))}return null},datascript.pull_parser.default_QMARK_=new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Symbol(null,"default","default",-347290801,null),null,new cljs.core.Keyword(null,"default","default",-1987822328),null,"default",null],null),null),datascript.pull_parser.parse_default_expr=function(r){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null),c=cljs.core.nth.call(null,r,2,null);if(cljs.core.truth_(datascript.pull_parser.default_QMARK_.call(null,l))){if(l=datascript.pull_parser.default_QMARK_.call(null,l),e=cljs.core.truth_(l)?datascript.pull_parser.parse_attr_name.call(null,e):l,cljs.core.truth_(e))return new datascript.pull_parser.PullDefaultExpr(e,c,null,null,null);throw cljs.core.ex_info.call(null,""+cljs.core.str('Expected ["default" attr-name any-value]'),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))}return null},datascript.pull_parser.parse_map_spec_entry=function(r){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null);if(r=function(){var r=datascript.pull_parser.parse_attr_name.call(null,l);return cljs.core.truth_(r)?r:cljs.core.truth_(datascript.pull_parser.maybe_attr_expr_QMARK_.call(null,l))?datascript.pull_parser.parse_limit_expr.call(null,l):null}(),cljs.core.truth_(r)){var c=function(){var r=datascript.pull_parser.parse_recursion_limit.call(null,e);return cljs.core.truth_(r)?r:datascript.pull_parser.parse_pattern.call(null,e)}();if(cljs.core.truth_(c))return new datascript.pull_parser.PullMapSpecEntry(r,c,null,null,null);throw cljs.core.ex_info.call(null,""+cljs.core.str("Expected (pattern | recursion-limit)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,e],null)],null))}throw cljs.core.ex_info.call(null,""+cljs.core.str("Expected (attr-name | limit-expr)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,e],null)],null))},datascript.pull_parser.parse_map_spec=function(r){return cljs.core.map_QMARK_.call(null,r)?datascript.pull_parser.parse_map_spec_entry.call(null,cljs.core.first.call(null,r)):null},datascript.pull_parser.parse_attr_expr=function(r){if(cljs.core.truth_(datascript.pull_parser.maybe_attr_expr_QMARK_.call(null,r))){var l=datascript.pull_parser.parse_limit_expr.call(null,r);return cljs.core.truth_(l)?l:datascript.pull_parser.parse_default_expr.call(null,r)}return null},datascript.pull_parser.parse_attr_spec=function(r){var l=datascript.pull_parser.parse_attr_name.call(null,r);if(cljs.core.truth_(l))return l;if(l=datascript.pull_parser.parse_wildcard.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.pull_parser.parse_map_spec.call(null,r),cljs.core.truth_(l))return l;if(l=datascript.pull_parser.parse_attr_expr.call(null,r),cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))},datascript.pull_parser.pattern_clause_type=function(r){return cljs.core.map_QMARK_.call(null,r)?new cljs.core.Keyword(null,"map","map",1371690461):cljs.core.truth_(datascript.pull_parser.wildcard_QMARK_.call(null,r))?new cljs.core.Keyword(null,"wildcard","wildcard",-622473020):new cljs.core.Keyword(null,"other","other",995793544)},datascript.pull_parser.expand_map_clause=function(r){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,function(r){return cljs.core.conj.call(null,cljs.core.PersistentArrayMap.EMPTY,r)}),r)},datascript.pull_parser.simplify_pattern_clauses=function(r){r=cljs.core.group_by.call(null,datascript.pull_parser.pattern_clause_type,r);var l=cljs.core.truth_(cljs.core.not_empty.call(null,cljs.core.get.call(null,r,new cljs.core.Keyword(null,"wildcard","wildcard",-622473020))))?new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"*","*",345799209,null)],null):cljs.core.PersistentVector.EMPTY;return cljs.core.into.call(null,cljs.core.into.call(null,l,cljs.core.get.call(null,r,new cljs.core.Keyword(null,"other","other",995793544))),cljs.core.mapcat.call(null,datascript.pull_parser.expand_map_clause),cljs.core.get.call(null,r,new cljs.core.Keyword(null,"map","map",1371690461)))},datascript.pull_parser.parse_pattern=function(r){return cljs.core.sequential_QMARK_.call(null,r)?new datascript.pull_parser.PullPattern(cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,datascript.pull_parser.parse_attr_spec),datascript.pull_parser.simplify_pattern_clauses.call(null,r)),null,null,null):null},datascript.pull_parser.pattern__GT_spec=function(r){return cljs.core.nth.call(null,datascript.pull_parser._as_spec.call(null,r),1)},datascript.pull_parser.parse_pull=function(r){var l;if(l=null==r?null:datascript.pull_parser.parse_pattern.call(null,r),l=null==l?null:datascript.pull_parser.pattern__GT_spec.call(null,l),cljs.core.truth_(l))return l;throw cljs.core.ex_info.call(null,""+cljs.core.str("Cannot parse pull pattern, expected: [attr-spec+]"),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("parser","pull","parser/pull",-2147427204),new cljs.core.Keyword(null,"fragment","fragment",826775688),r],null))},datascript.pull_api={},datascript.pull_api.into_BANG_=function(r,l){return cljs.core.reduce.call(null,cljs.core.conj_BANG_,r,l)},datascript.pull_api._PLUS_default_limit_PLUS_=1e3,datascript.pull_api.initial_frame=function(r,l,e){return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"multi?","multi?",-749311069),new cljs.core.Keyword(null,"eids","eids",1546550700),new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"recursion","recursion",-749738765),new cljs.core.Keyword(null,"specs","specs",1426570741),new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),new cljs.core.Keyword(null,"kvps","kvps",65308317),new cljs.core.Keyword(null,"pattern","pattern",242135423),new cljs.core.Keyword(null,"results","results",-1134170113)],[e,l,new cljs.core.Keyword(null,"pattern","pattern",242135423),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"depth","depth",1768663640),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"seen","seen",-518999789),cljs.core.PersistentHashSet.EMPTY],null),cljs.core.seq.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r)),new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101).cljs$core$IFn$_invoke$arity$1(r),cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY),r,cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY)])},datascript.pull_api.subpattern_frame=function(r,l,e,c){return cljs.core.assoc.call(null,datascript.pull_api.initial_frame.call(null,r,l,e),new cljs.core.Keyword(null,"attr","attr",-604132353),c)},datascript.pull_api.reset_frame=function(r,l,e){var c=new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(r);return cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"eids","eids",1546550700),l,new cljs.core.Keyword(null,"specs","specs",1426570741),cljs.core.seq.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(c)),new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101).cljs$core$IFn$_invoke$arity$1(c),new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY),new cljs.core.Keyword(null,"results","results",-1134170113),function(){var l=new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(r);return cljs.core.seq.call(null,e)?cljs.core.conj_BANG_.call(null,l,e):l}())},datascript.pull_api.push_recursion=function(r,l,e){var c=cljs.core.seq_QMARK_.call(null,r)?cljs.core.apply.call(null,cljs.core.hash_map,r):r,t=cljs.core.get.call(null,c,new cljs.core.Keyword(null,"depth","depth",1768663640)),c=cljs.core.get.call(null,c,new cljs.core.Keyword(null,"seen","seen",-518999789));return cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"depth","depth",1768663640),cljs.core.update.call(null,t,l,cljs.core.fnil.call(null,cljs.core.inc,0)),new cljs.core.Keyword(null,"seen","seen",-518999789),cljs.core.conj.call(null,c,e))},datascript.pull_api.seen_eid_QMARK_=function(r,l){return cljs.core.contains_QMARK_.call(null,cljs.core.get_in.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"recursion","recursion",-749738765),new cljs.core.Keyword(null,"seen","seen",-518999789)],null),cljs.core.PersistentHashSet.EMPTY),l)},datascript.pull_api.pull_seen_eid=function(r,l,e){return cljs.core.truth_(datascript.pull_api.seen_eid_QMARK_.call(null,r,e))?cljs.core.conj.call(null,l,cljs.core.update.call(null,r,new cljs.core.Keyword(null,"results","results",-1134170113),cljs.core.conj_BANG_,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword("db","id","db/id",-1388397098),e],null))):null},datascript.pull_api.single_frame_result=function(r,l){var e=new cljs.core.Keyword(null,"kvps","kvps",65308317).cljs$core$IFn$_invoke$arity$1(l),e=null==e?null:cljs.core.persistent_BANG_.call(null,e);return null==e?null:cljs.core.get.call(null,e,r)},datascript.pull_api.recursion_result=cljs.core.partial.call(null,datascript.pull_api.single_frame_result,new cljs.core.Keyword("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534)),datascript.pull_api.recursion_frame=function(r,l){var e=new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r),e=datascript.pull_api.push_recursion.call(null,new cljs.core.Keyword(null,"recursion","recursion",-749738765).cljs$core$IFn$_invoke$arity$1(r),e,l);return cljs.core.assoc.call(null,datascript.pull_api.subpattern_frame.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null),!1,new cljs.core.Keyword("datascript.pull-api","recursion","datascript.pull-api/recursion",-1897884534)),new cljs.core.Keyword(null,"recursion","recursion",-749738765),e)},datascript.pull_api.pull_recursion_frame=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nthnext.call(null,l,1),t=cljs.core.seq.call(null,new cljs.core.Keyword(null,"eids","eids",1546550700).cljs$core$IFn$_invoke$arity$1(e));if(t){var e=datascript.pull_api.reset_frame.call(null,e,cljs.core.rest.call(null,t),datascript.pull_api.recursion_result.call(null,e)),t=cljs.core.first.call(null,t),n=datascript.pull_api.pull_seen_eid.call(null,e,c,t);return cljs.core.truth_(n)?n:cljs.core.conj.call(null,c,e,datascript.pull_api.recursion_frame.call(null,e,t))}return t=datascript.pull_api.recursion_result.call(null,e),n=new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(e),t=cljs.core.seq.call(null,t)?cljs.core.conj_BANG_.call(null,n,t):n,cljs.core.conj.call(null,c,cljs.core.assoc.call(null,e,new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"done","done",-889844188),new cljs.core.Keyword(null,"results","results",-1134170113),t))},datascript.pull_api.recurse_attr=function(r,l,e,c,t,n,s){var o=cljs.core.seq_QMARK_.call(null,n)?cljs.core.apply.call(null,cljs.core.hash_map,n):n;t=cljs.core.get.call(null,o,new cljs.core.Keyword(null,"recursion","recursion",-749738765));var o=cljs.core.get.call(null,o,new cljs.core.Keyword(null,"pattern","pattern",242135423)),a=cljs.core.get.call(null,cljs.core.get.call(null,t,new cljs.core.Keyword(null,"depth","depth",1768663640)),l,0);return cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"recursion","recursion",-749738765).cljs$core$IFn$_invoke$arity$1(cljs.core.get.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(o),l)),a)?cljs.core.conj.call(null,s,n):datascript.pull_api.pull_recursion_frame.call(null,r,cljs.core.conj.call(null,s,n,new cljs.core.PersistentArrayMap(null,7,[new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"recursion","recursion",-749738765),new cljs.core.Keyword(null,"pattern","pattern",242135423),o,new cljs.core.Keyword(null,"attr","attr",-604132353),l,new cljs.core.Keyword(null,"multi?","multi?",-749311069),e,new cljs.core.Keyword(null,"eids","eids",1546550700),c,new cljs.core.Keyword(null,"recursion","recursion",-749738765),t,new cljs.core.Keyword(null,"results","results",-1134170113),cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY)],null)))};var pattern_23719=new datascript.pull_parser.PullSpec(!0,cljs.core.PersistentArrayMap.EMPTY,null,null,null);datascript.pull_api.expand_frame=function(r){return function(l,e,c,t,n){return l=datascript.pull_api.push_recursion.call(null,new cljs.core.Keyword(null,"recursion","recursion",-749738765).cljs$core$IFn$_invoke$arity$1(l),c,e),cljs.core.assoc.call(null,datascript.pull_api.subpattern_frame.call(null,r,n,t,c),new cljs.core.Keyword(null,"recursion","recursion",-749738765),l)}}(pattern_23719),datascript.pull_api.pull_attr_datoms=function(r,l,e,c,t,n,s,o){var a=cljs.core.nth.call(null,o,0,null),i=cljs.core.nthnext.call(null,o,1),u=cljs.core.get.call(null,s,new cljs.core.Keyword(null,"limit","limit",-1355822363),datascript.pull_api._PLUS_default_limit_PLUS_),$=cljs.core.not_empty.call(null,cljs.core.truth_(u)?cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.take.call(null,u),n):n);if(cljs.core.truth_($)){var j=datascript.core.multival_QMARK_.call(null,r,e),_=datascript.core.ref_QMARK_.call(null,r,e),p=_&&datascript.core.component_QMARK_.call(null,r,e),d=cljs.core.truth_(t)?function(r,l,e,c,t,n,s,o){return function(r){return r.v}}():function(r,l,e,c,t,n,s,o){return function(r){return r.e}}();if(cljs.core.contains_QMARK_.call(null,s,new cljs.core.Keyword(null,"subpattern","subpattern",45002743)))return cljs.core.conj.call(null,i,a,datascript.pull_api.subpattern_frame.call(null,new cljs.core.Keyword(null,"subpattern","subpattern",45002743).cljs$core$IFn$_invoke$arity$1(s),cljs.core.mapv.call(null,d,$),j,l));if(cljs.core.contains_QMARK_.call(null,s,new cljs.core.Keyword(null,"recursion","recursion",-749738765)))return datascript.pull_api.recurse_attr.call(null,r,l,j,cljs.core.mapv.call(null,d,$),c,a,i);if(cljs.core.truth_(p?t:p))return cljs.core.conj.call(null,i,a,datascript.pull_api.expand_frame.call(null,a,c,l,j,cljs.core.mapv.call(null,d,$)));var y=function(){return _?cljs.core.comp.call(null,function(r,l,e,c,t,n,s,o,a,i){return function(r){return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("db","id","db/id",-1388397098)],[r])}}(),d):d}(),f=cljs.core.truth_(t)?!j:p;return cljs.core.conj.call(null,i,cljs.core.update.call(null,a,new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.assoc_BANG_,l,function(){var r=cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,y),$);return f?cljs.core.first.call(null,r):r}()))}return cljs.core.conj.call(null,i,cljs.core.contains_QMARK_.call(null,s,new cljs.core.Keyword(null,"default","default",-1987822328))?cljs.core.update.call(null,a,new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.assoc_BANG_,l,new cljs.core.Keyword(null,"default","default",-1987822328).cljs$core$IFn$_invoke$arity$1(s)):a)},datascript.pull_api.pull_attr=function(r,l,e,c){var t=cljs.core.nth.call(null,l,0,null);if(l=cljs.core.nth.call(null,l,1,null),cljs.core._EQ_.call(null,new cljs.core.Keyword("db","id","db/id",-1388397098),t))return cljs.core.truth_(cljs.core.not_empty.call(null,datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null))))?cljs.core.conj.call(null,cljs.core.rest.call(null,c),cljs.core.update.call(null,cljs.core.first.call(null,c),new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.assoc_BANG_,new cljs.core.Keyword("db","id","db/id",-1388397098),e)):c;var n=new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(l),s=cljs.core._EQ_.call(null,t,n),o=s?datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,n],null)):datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"avet","avet",1383857032),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[n,e],null));return datascript.pull_api.pull_attr_datoms.call(null,r,t,n,e,s,o,l,c)},datascript.pull_api.filter_reverse_attrs=cljs.core.filter.call(null,function(r){var l=cljs.core.nth.call(null,r,0,null);return r=cljs.core.nth.call(null,r,1,null),cljs.core.not_EQ_.call(null,l,new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(r))}),datascript.pull_api.expand_reverse_subpattern_frame=function(r,l,e){return datascript.pull_api.subpattern_frame.call(null,cljs.core.assoc.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"attrs","attrs",-2090668713),e,new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),!1),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null),!1,new cljs.core.Keyword("datascript.pull-api","expand-rev","datascript.pull-api/expand-rev",2143627459))},datascript.pull_api.expand_result=function(r,l){return cljs.core.conj.call(null,cljs.core.rest.call(null,r),cljs.core.update.call(null,cljs.core.first.call(null,r),new cljs.core.Keyword(null,"kvps","kvps",65308317),datascript.pull_api.into_BANG_,cljs.core.persistent_BANG_.call(null,l)))},datascript.pull_api.pull_expand_reverse_frame=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nthnext.call(null,l,1);return datascript.pull_api.expand_result.call(null,c,datascript.pull_api.into_BANG_.call(null,new cljs.core.Keyword(null,"expand-kvps","expand-kvps",44141154).cljs$core$IFn$_invoke$arity$1(e),function(){var r=datascript.pull_api.single_frame_result.call(null,new cljs.core.Keyword("datascript.pull-api","expand-rev","datascript.pull-api/expand-rev",2143627459),e);return cljs.core.truth_(r)?r:cljs.core.PersistentArrayMap.EMPTY}()))},datascript.pull_api.pull_expand_frame=function(r,l){
var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nthnext.call(null,l,1),t=cljs.core.seq.call(null,new cljs.core.Keyword(null,"datoms","datoms",-290874434).cljs$core$IFn$_invoke$arity$1(e));if(t){var n=cljs.core.first.call(null,t),t=cljs.core.nth.call(null,n,0,null),n=cljs.core.nth.call(null,n,1,null),s=cljs.core.get.call(null,cljs.core.get_in.call(null,e,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),new cljs.core.Keyword(null,"attrs","attrs",-2090668713)],null)),t,cljs.core.PersistentArrayMap.EMPTY);return datascript.pull_api.pull_attr_datoms.call(null,r,t,t,new cljs.core.Keyword(null,"eid","eid",559519930).cljs$core$IFn$_invoke$arity$1(e),!0,n,s,cljs.core.conj.call(null,c,cljs.core.update.call(null,e,new cljs.core.Keyword(null,"datoms","datoms",-290874434),cljs.core.rest)))}return t=cljs.core.not_empty.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,datascript.pull_api.filter_reverse_attrs,cljs.core.get_in.call(null,e,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"pattern","pattern",242135423),new cljs.core.Keyword(null,"attrs","attrs",-2090668713)],null)))),cljs.core.truth_(t)?(e=cljs.core.assoc.call(null,e,new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"expand-rev","expand-rev",1249112650),new cljs.core.Keyword(null,"expand-kvps","expand-kvps",44141154),new cljs.core.Keyword(null,"kvps","kvps",65308317).cljs$core$IFn$_invoke$arity$1(e),new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY)),cljs.core.conj.call(null,c,e,datascript.pull_api.expand_reverse_subpattern_frame.call(null,e,new cljs.core.Keyword(null,"eid","eid",559519930).cljs$core$IFn$_invoke$arity$1(e),t))):datascript.pull_api.expand_result.call(null,c,new cljs.core.Keyword(null,"kvps","kvps",65308317).cljs$core$IFn$_invoke$arity$1(e))},datascript.pull_api.pull_wildcard_expand=function(r,l,e,c,t){var n=cljs.core.group_by.call(null,function(r){return r.a},datascript.core._datoms.call(null,r,new cljs.core.Keyword(null,"eavt","eavt",-666437073),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[c],null))),s=cljs.core.seq_QMARK_.call(null,l)?cljs.core.apply.call(null,cljs.core.hash_map,l):l,o=cljs.core.get.call(null,s,new cljs.core.Keyword(null,"attr","attr",-604132353)),s=cljs.core.get.call(null,s,new cljs.core.Keyword(null,"recursion","recursion",-749738765)),o=cljs.core.some_QMARK_.call(null,o)?datascript.pull_api.push_recursion.call(null,s,o,c):s;return datascript.pull_api.pull_expand_frame.call(null,r,cljs.core.conj.call(null,e,l,new cljs.core.PersistentArrayMap(null,6,[new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"expand","expand",595248157),new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.transient$.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword("db","id","db/id",-1388397098),c],null)),new cljs.core.Keyword(null,"eid","eid",559519930),c,new cljs.core.Keyword(null,"pattern","pattern",242135423),t,new cljs.core.Keyword(null,"datoms","datoms",-290874434),cljs.core.seq.call(null,n),new cljs.core.Keyword(null,"recursion","recursion",-749738765),o],null)))},datascript.pull_api.pull_wildcard=function(r,l,e){var c=cljs.core.seq_QMARK_.call(null,l)?cljs.core.apply.call(null,cljs.core.hash_map,l):l,t=cljs.core.get.call(null,c,new cljs.core.Keyword(null,"eid","eid",559519930)),c=cljs.core.get.call(null,c,new cljs.core.Keyword(null,"pattern","pattern",242135423)),n=datascript.pull_api.pull_seen_eid.call(null,l,e,t);return cljs.core.truth_(n)?n:datascript.pull_api.pull_wildcard_expand.call(null,r,l,e,t,c)},datascript.pull_api.pull_pattern_frame=function(r,l){for(;;){var e=l,c=cljs.core.nth.call(null,e,0,null),e=cljs.core.nthnext.call(null,e,1),t=cljs.core.seq.call(null,new cljs.core.Keyword(null,"eids","eids",1546550700).cljs$core$IFn$_invoke$arity$1(c));if(!t)return cljs.core.conj.call(null,e,cljs.core.assoc.call(null,c,new cljs.core.Keyword(null,"state","state",-1988618099),new cljs.core.Keyword(null,"done","done",-889844188)));if(cljs.core.truth_(new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101).cljs$core$IFn$_invoke$arity$1(c)))return datascript.pull_api.pull_wildcard.call(null,r,cljs.core.assoc.call(null,c,new cljs.core.Keyword(null,"specs","specs",1426570741),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"eid","eid",559519930),cljs.core.first.call(null,t),new cljs.core.Keyword(null,"wildcard?","wildcard?",-686044101),!1),e);var n=cljs.core.seq.call(null,new cljs.core.Keyword(null,"specs","specs",1426570741).cljs$core$IFn$_invoke$arity$1(c));if(n){var s=n,n=cljs.core.first.call(null,s);return new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(c),c=cljs.core.conj.call(null,e,cljs.core.assoc.call(null,c,new cljs.core.Keyword(null,"specs","specs",1426570741),cljs.core.rest.call(null,s))),datascript.pull_api.pull_attr.call(null,r,n,cljs.core.first.call(null,t),c)}n=r,c=cljs.core.conj.call(null,e,datascript.pull_api.reset_frame.call(null,c,cljs.core.rest.call(null,t),cljs.core.not_empty.call(null,cljs.core.persistent_BANG_.call(null,new cljs.core.Keyword(null,"kvps","kvps",65308317).cljs$core$IFn$_invoke$arity$1(c))))),r=n,l=c}},datascript.pull_api.pull_pattern=function(r,l){for(;;)switch(new cljs.core.Keyword(null,"state","state",-1988618099).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,l))instanceof cljs.core.Keyword?new cljs.core.Keyword(null,"state","state",-1988618099).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,l)).fqn:null){case"expand":var e=r,c=datascript.pull_api.pull_expand_frame.call(null,r,l);r=e,l=c;continue;case"expand-rev":e=r,c=datascript.pull_api.pull_expand_reverse_frame.call(null,r,l),r=e,l=c;continue;case"pattern":e=r,c=datascript.pull_api.pull_pattern_frame.call(null,r,l),r=e,l=c;continue;case"recursion":e=r,c=datascript.pull_api.pull_recursion_frame.call(null,r,l),r=e,l=c;continue;case"done":var e=l,t=cljs.core.nth.call(null,e,0,null),n=cljs.core.nthnext.call(null,e,1),s=function(){var r=cljs.core.persistent_BANG_.call(null,new cljs.core.Keyword(null,"results","results",-1134170113).cljs$core$IFn$_invoke$arity$1(t));return cljs.core.not.call(null,new cljs.core.Keyword(null,"multi?","multi?",-749311069).cljs$core$IFn$_invoke$arity$1(t))?cljs.core.first.call(null,r):r}();if(cljs.core.seq.call(null,n)){e=r,c=cljs.core.conj.call(null,cljs.core.rest.call(null,n),function(){var r=cljs.core.first.call(null,n);return cljs.core.truth_(s)?cljs.core.update.call(null,r,new cljs.core.Keyword(null,"kvps","kvps",65308317),cljs.core.assoc_BANG_,new cljs.core.Keyword(null,"attr","attr",-604132353).cljs$core$IFn$_invoke$arity$1(t),s):r}()),r=e,l=c;continue}return s;default:throw Error([cljs.core.str("No matching clause: "),cljs.core.str(new cljs.core.Keyword(null,"state","state",-1988618099).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,l)))].join(""))}},datascript.pull_api.pull_spec=function(r,l,e,c){return e=cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,function(l){return datascript.core.entid_strict.call(null,r,l)}),e),datascript.pull_api.pull_pattern.call(null,r,cljs.core._conj.call(null,cljs.core.List.EMPTY,datascript.pull_api.initial_frame.call(null,l,e,c)))},datascript.pull_api.pull=function(r,l,e){return datascript.pull_api.pull_spec.call(null,r,datascript.pull_parser.parse_pull.call(null,l),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null),!1)},datascript.pull_api.pull_many=function(r,l,e){return datascript.pull_api.pull_spec.call(null,r,datascript.pull_parser.parse_pull.call(null,l),e,!0)},cljs.reader={},cljs.reader.PushbackReader=function(){return{}}(),cljs.reader.read_char=function(r){if(r?r.cljs$reader$PushbackReader$read_char$arity$1:r)return r.cljs$reader$PushbackReader$read_char$arity$1(r);var l;if(!(l=cljs.reader.read_char[goog.typeOf(null==r?null:r)])&&!(l=cljs.reader.read_char._))throw cljs.core.missing_protocol.call(null,"PushbackReader.read-char",r);return l.call(null,r)},cljs.reader.unread=function(r,l){if(r?r.cljs$reader$PushbackReader$unread$arity$2:r)return r.cljs$reader$PushbackReader$unread$arity$2(r,l);var e;if(!(e=cljs.reader.unread[goog.typeOf(null==r?null:r)])&&!(e=cljs.reader.unread._))throw cljs.core.missing_protocol.call(null,"PushbackReader.unread",r);return e.call(null,r,l)},cljs.reader.StringPushbackReader=function(r,l,e){this.s=r,this.buffer=l,this.idx=e},cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$=!0,cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$read_char$arity$1=function(r){return 0===this.buffer.length?(this.idx+=1,this.s[this.idx]):this.buffer.pop()},cljs.reader.StringPushbackReader.prototype.cljs$reader$PushbackReader$unread$arity$2=function(r,l){return this.buffer.push(l)},cljs.reader.StringPushbackReader.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"s","s",-948495851,null),new cljs.core.Symbol(null,"buffer","buffer",-2037140571,null),new cljs.core.Symbol(null,"idx","idx",-1600747296,null)],null)},cljs.reader.StringPushbackReader.cljs$lang$type=!0,cljs.reader.StringPushbackReader.cljs$lang$ctorStr="cljs.reader/StringPushbackReader",cljs.reader.StringPushbackReader.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"cljs.reader/StringPushbackReader")},cljs.reader.__GT_StringPushbackReader=function(r,l,e){return new cljs.reader.StringPushbackReader(r,l,e)},cljs.reader.push_back_reader=function(r){return new cljs.reader.StringPushbackReader(r,[],-1)},cljs.reader.whitespace_QMARK_=function(r){var l=goog.string.isBreakingWhitespace(r);return cljs.core.truth_(l)?l:","===r},cljs.reader.numeric_QMARK_=function(r){return goog.string.isNumeric(r)},cljs.reader.comment_prefix_QMARK_=function(r){return";"===r},cljs.reader.number_literal_QMARK_=function(r,l){return cljs.reader.numeric_QMARK_.call(null,l)||("+"===l||"-"===l)&&cljs.reader.numeric_QMARK_.call(null,function(){var l=cljs.reader.read_char.call(null,r);return cljs.reader.unread.call(null,r,l),l}())},cljs.reader.reader_error=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic=function(r,l){throw Error(cljs.core.apply.call(null,cljs.core.str,l))},cljs.reader.reader_error.cljs$lang$maxFixedArity=1,cljs.reader.reader_error.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),cljs.reader.reader_error.cljs$core$IFn$_invoke$arity$variadic(l,r)},cljs.reader.macro_terminating_QMARK_=function(r){var l="#"!==r;return l&&(l="'"!==r)&&(l=":"!==r)?cljs.reader.macros.call(null,r):l},cljs.reader.read_token=function(r,l){for(var e=new goog.string.StringBuffer(l),c=cljs.reader.read_char.call(null,r);;){if(null==c||cljs.reader.whitespace_QMARK_.call(null,c)||cljs.reader.macro_terminating_QMARK_.call(null,c))return cljs.reader.unread.call(null,r,c),e.toString();e.append(c),c=cljs.reader.read_char.call(null,r)}},cljs.reader.skip_line=function(r,l){for(;;){var e=cljs.reader.read_char.call(null,r);if("\n"===e||"\r"===e||null==e)return r}},cljs.reader.int_pattern=cljs.core.re_pattern.call(null,"^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+))(N)?$"),cljs.reader.ratio_pattern=cljs.core.re_pattern.call(null,"^([-+]?[0-9]+)/([0-9]+)$"),cljs.reader.float_pattern=cljs.core.re_pattern.call(null,"^([-+]?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?$"),cljs.reader.symbol_pattern=cljs.core.re_pattern.call(null,"^[:]?([^0-9/].*/)?([^0-9/][^/]*)$"),cljs.reader.re_matches_STAR_=function(r,l){var e=r.exec(l);return null!=e&&e[0]===l?1===e.length?e[0]:e:null},cljs.reader.match_int=function(r){r=cljs.reader.re_matches_STAR_.call(null,cljs.reader.int_pattern,r);var l=r[2];if(null!=(cljs.core._EQ_.call(null,l,"")?null:l))return 0;var l=cljs.core.truth_(r[3])?[r[3],10]:cljs.core.truth_(r[4])?[r[4],16]:cljs.core.truth_(r[5])?[r[5],8]:cljs.core.truth_(r[6])?[r[7],parseInt(r[6],10)]:[null,null],e=l[0];return null==e?null:(l=parseInt(e,l[1]),"-"===r[1]?-l:l)},cljs.reader.match_ratio=function(r){r=cljs.reader.re_matches_STAR_.call(null,cljs.reader.ratio_pattern,r);var l=r[2];return parseInt(r[1],10)/parseInt(l,10)},cljs.reader.match_float=function(r){return parseFloat(r)},cljs.reader.match_number=function(r){return cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.int_pattern,r))?cljs.reader.match_int.call(null,r):cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.ratio_pattern,r))?cljs.reader.match_ratio.call(null,r):cljs.core.truth_(cljs.reader.re_matches_STAR_.call(null,cljs.reader.float_pattern,r))?cljs.reader.match_float.call(null,r):null},cljs.reader.escape_char_map=function(r){return"t"===r?"\t":"r"===r?"\r":"n"===r?"\n":"\\"===r?"\\":'"'===r?'"':"b"===r?"\b":"f"===r?"\f":null},cljs.reader.read_2_chars=function(r){return new goog.string.StringBuffer(cljs.reader.read_char.call(null,r),cljs.reader.read_char.call(null,r)).toString()},cljs.reader.read_4_chars=function(r){return new goog.string.StringBuffer(cljs.reader.read_char.call(null,r),cljs.reader.read_char.call(null,r),cljs.reader.read_char.call(null,r),cljs.reader.read_char.call(null,r)).toString()},cljs.reader.unicode_2_pattern=cljs.core.re_pattern.call(null,"^[0-9A-Fa-f]{2}$"),cljs.reader.unicode_4_pattern=cljs.core.re_pattern.call(null,"^[0-9A-Fa-f]{4}$"),cljs.reader.validate_unicode_escape=function(r,l,e,c){return cljs.core.truth_(cljs.core.re_matches.call(null,r,c))?c:cljs.reader.reader_error.call(null,l,"Unexpected unicode escape \\",e,c)},cljs.reader.make_unicode_char=function(r){return r=parseInt(r,16),String.fromCharCode(r)},cljs.reader.escape_char=function(r,l){var e=cljs.reader.read_char.call(null,l),c=cljs.reader.escape_char_map.call(null,e);return cljs.core.truth_(c)?c:"x"===e?cljs.reader.make_unicode_char.call(null,cljs.reader.validate_unicode_escape.call(null,cljs.reader.unicode_2_pattern,l,e,cljs.reader.read_2_chars.call(null,l))):"u"===e?cljs.reader.make_unicode_char.call(null,cljs.reader.validate_unicode_escape.call(null,cljs.reader.unicode_4_pattern,l,e,cljs.reader.read_4_chars.call(null,l))):cljs.reader.numeric_QMARK_.call(null,e)?String.fromCharCode(e):cljs.reader.reader_error.call(null,l,"Unexpected unicode escape \\",e)},cljs.reader.read_past=function(r,l){for(var e=cljs.reader.read_char.call(null,l);;){if(!cljs.core.truth_(r.call(null,e)))return e;e=cljs.reader.read_char.call(null,l)}},cljs.reader.read_delimited_list=function(r,l,e){for(var c=cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY);;){var t=cljs.reader.read_past.call(null,cljs.reader.whitespace_QMARK_,l);if(cljs.core.truth_(t)||cljs.reader.reader_error.call(null,l,"EOF while reading"),r===t)return cljs.core.persistent_BANG_.call(null,c);var n=cljs.reader.macros.call(null,t);cljs.core.truth_(n)?t=n.call(null,l,t):(cljs.reader.unread.call(null,l,t),t=cljs.reader.read.call(null,l,!0,null,e)),c=t===l?c:cljs.core.conj_BANG_.call(null,c,t)}},cljs.reader.not_implemented=function(r,l){return cljs.reader.reader_error.call(null,r,"Reader for ",l," not implemented yet")},cljs.reader.read_dispatch=function(r,l){var e=cljs.reader.read_char.call(null,r),c=cljs.reader.dispatch_macros.call(null,e);return cljs.core.truth_(c)?c.call(null,r,l):(c=cljs.reader.maybe_read_tagged_type.call(null,r,e),cljs.core.truth_(c)?c:cljs.reader.reader_error.call(null,r,"No dispatch macro for ",e))},cljs.reader.read_unmatched_delimiter=function(r,l){return cljs.reader.reader_error.call(null,r,"Unmatched delimiter ",l)},cljs.reader.read_list=function(r,l){return cljs.core.apply.call(null,cljs.core.list,cljs.reader.read_delimited_list.call(null,")",r,!0))},cljs.reader.read_comment=cljs.reader.skip_line,cljs.reader.read_vector=function(r,l){return cljs.reader.read_delimited_list.call(null,"]",r,!0)},cljs.reader.read_map=function(r,l){var e=cljs.reader.read_delimited_list.call(null,"}",r,!0);return cljs.core.odd_QMARK_.call(null,cljs.core.count.call(null,e))&&cljs.reader.reader_error.call(null,r,"Map literal must contain an even number of forms"),cljs.core.apply.call(null,cljs.core.hash_map,e)},cljs.reader.read_number=function(r,l){for(var e=new goog.string.StringBuffer(l),c=cljs.reader.read_char.call(null,r);;){if(cljs.core.truth_(function(){var r=null==c;return r||((r=cljs.reader.whitespace_QMARK_.call(null,c))?r:cljs.reader.macros.call(null,c))}())){cljs.reader.unread.call(null,r,c);var t=e.toString(),e=cljs.reader.match_number.call(null,t);return cljs.core.truth_(e)?e:cljs.reader.reader_error.call(null,r,"Invalid number format [",t,"]")}e.append(c),c=t=cljs.reader.read_char.call(null,r)}},cljs.reader.read_string_STAR_=function(r,l){for(var e=new goog.string.StringBuffer,c=cljs.reader.read_char.call(null,r);;){if(null==c)return cljs.reader.reader_error.call(null,r,"EOF while reading");if("\\"===c)e.append(cljs.reader.escape_char.call(null,e,r));else{if('"'===c)return e.toString();e.append(c)}c=cljs.reader.read_char.call(null,r)}},cljs.reader.read_raw_string_STAR_=function(r,l){for(var e=new goog.string.StringBuffer,c=cljs.reader.read_char.call(null,r);;){if(null==c)return cljs.reader.reader_error.call(null,r,"EOF while reading");if("\\"===c){e.append(c);var t=cljs.reader.read_char.call(null,r);if(null==t)return cljs.reader.reader_error.call(null,r,"EOF while reading");var n=function(){var r=e;return r.append(t),r}(),s=cljs.reader.read_char.call(null,r)}else{if('"'===c)return e.toString();n=function(){var r=e;return r.append(c),r}(),s=cljs.reader.read_char.call(null,r)}e=n,c=s}},cljs.reader.special_symbols=function(r,l){return"nil"===r?null:"true"===r||"false"!==r&&("/"===r?new cljs.core.Symbol(null,"/","/",-1371932971,null):l)},cljs.reader.read_symbol=function(r,l){var e=cljs.reader.read_token.call(null,r,l);return cljs.core.truth_(function(){var r=goog.string.contains(e,"/");return cljs.core.truth_(r)?1!==e.length:r}())?cljs.core.symbol.call(null,cljs.core.subs.call(null,e,0,e.indexOf("/")),cljs.core.subs.call(null,e,e.indexOf("/")+1,e.length)):cljs.reader.special_symbols.call(null,e,cljs.core.symbol.call(null,e))},cljs.reader.read_keyword=function(r,l){var e=cljs.reader.read_token.call(null,r,cljs.reader.read_char.call(null,r)),c=cljs.reader.re_matches_STAR_.call(null,cljs.reader.symbol_pattern,e),e=c[0],t=c[1],c=c[2];return void 0!==t&&":/"===t.substring(t.length-2,t.length)||":"===c[c.length-1]||-1!==e.indexOf("::",1)?cljs.reader.reader_error.call(null,r,"Invalid token: ",e):null!=t&&0<t.length?cljs.core.keyword.call(null,t.substring(0,t.indexOf("/")),c):cljs.core.keyword.call(null,e)},cljs.reader.desugar_meta=function(r){return r instanceof cljs.core.Symbol?new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),r],null):"string"==typeof r?new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"tag","tag",-1290361223),r],null):r instanceof cljs.core.Keyword?new cljs.core.PersistentArrayMap.fromArray([r,!0],!0,!1):r},cljs.reader.wrapping_reader=function(r){return function(l,e){return cljs.core._conj.call(null,cljs.core._conj.call(null,cljs.core.List.EMPTY,cljs.reader.read.call(null,l,!0,null,!0)),r)}},cljs.reader.throwing_reader=function(r){return function(l,e){return cljs.reader.reader_error.call(null,l,r)}},cljs.reader.read_meta=function(r,l){var e=cljs.reader.desugar_meta.call(null,cljs.reader.read.call(null,r,!0,null,!0));cljs.core.map_QMARK_.call(null,e)||cljs.reader.reader_error.call(null,r,"Metadata must be Symbol,Keyword,String or Map");var c=cljs.reader.read.call(null,r,!0,null,!0);return(c?262144&c.cljs$lang$protocol_mask$partition0$||c.cljs$core$IWithMeta$||(c.cljs$lang$protocol_mask$partition0$?0:cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,c)):cljs.core.native_satisfies_QMARK_.call(null,cljs.core.IWithMeta,c))?cljs.core.with_meta.call(null,c,cljs.core.merge.call(null,cljs.core.meta.call(null,c),e)):cljs.reader.reader_error.call(null,r,"Metadata can only be applied to IWithMetas")},cljs.reader.read_set=function(r,l){return cljs.core.set.call(null,cljs.reader.read_delimited_list.call(null,"}",r,!0))},cljs.reader.read_regex=function(r,l){return cljs.core.re_pattern.call(null,cljs.reader.read_raw_string_STAR_.call(null,r,l))},cljs.reader.read_discard=function(r,l){return cljs.reader.read.call(null,r,!0,null,!0),r},cljs.reader.macros=function(r){return'"'===r?cljs.reader.read_string_STAR_:":"===r?cljs.reader.read_keyword:";"===r?cljs.reader.read_comment:"'"===r?cljs.reader.wrapping_reader.call(null,new cljs.core.Symbol(null,"quote","quote",1377916282,null)):"@"===r?cljs.reader.wrapping_reader.call(null,new cljs.core.Symbol(null,"deref","deref",1494944732,null)):"^"===r?cljs.reader.read_meta:"`"===r?cljs.reader.not_implemented:"~"===r?cljs.reader.not_implemented:"("===r?cljs.reader.read_list:")"===r?cljs.reader.read_unmatched_delimiter:"["===r?cljs.reader.read_vector:"]"===r?cljs.reader.read_unmatched_delimiter:"{"===r?cljs.reader.read_map:"}"===r?cljs.reader.read_unmatched_delimiter:"\\"===r?cljs.reader.read_char:"#"===r?cljs.reader.read_dispatch:null},cljs.reader.dispatch_macros=function(r){return"{"===r?cljs.reader.read_set:"<"===r?cljs.reader.throwing_reader.call(null,"Unreadable form"):'"'===r?cljs.reader.read_regex:"!"===r?cljs.reader.read_comment:"_"===r?cljs.reader.read_discard:null},cljs.reader.read=function(r,l,e,c){for(;;){if(null==(c=cljs.reader.read_char.call(null,r)))return cljs.core.truth_(l)?cljs.reader.reader_error.call(null,r,"EOF while reading"):e;if(!cljs.reader.whitespace_QMARK_.call(null,c))if(cljs.reader.comment_prefix_QMARK_.call(null,c))r=cljs.reader.read_comment.call(null,r,c);else{var t=cljs.reader.macros.call(null,c);if((c=cljs.core.truth_(t)?t.call(null,r,c):cljs.reader.number_literal_QMARK_.call(null,r,c)?cljs.reader.read_number.call(null,r,c):cljs.reader.read_symbol.call(null,r,c))!==r)return c}}},cljs.reader.read_string=function(r){return r=cljs.reader.push_back_reader.call(null,r),cljs.reader.read.call(null,r,!1,null,!1)},cljs.reader.zero_fill_right_and_truncate=function(r,l){if(cljs.core._EQ_.call(null,l,cljs.core.count.call(null,r)))return r;if(l<cljs.core.count.call(null,r))return cljs.core.subs.call(null,r,0,l);for(var e=new goog.string.StringBuffer(r);;){if(!(e.getLength()<l))return e.toString();e=e.append("0")}},cljs.reader.divisible_QMARK_=function(r,l){return 0===cljs.core.mod.call(null,r,l)},cljs.reader.indivisible_QMARK_=function(r,l){return cljs.core.not.call(null,cljs.reader.divisible_QMARK_.call(null,r,l))},cljs.reader.leap_year_QMARK_=function(r){var l=cljs.reader.divisible_QMARK_.call(null,r,4);return cljs.core.truth_(l)?(l=cljs.reader.indivisible_QMARK_.call(null,r,100),cljs.core.truth_(l)?l:cljs.reader.divisible_QMARK_.call(null,r,400)):l},cljs.reader.days_in_month=function(){var r=new cljs.core.PersistentVector(null,13,5,cljs.core.PersistentVector.EMPTY_NODE,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),l=new cljs.core.PersistentVector(null,13,5,cljs.core.PersistentVector.EMPTY_NODE,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(r,l){return function(e,c){return cljs.core.get.call(null,cljs.core.truth_(c)?l:r,e)}}(r,l)}(),cljs.reader.timestamp_regex=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/,cljs.reader.parse_int=function(r){return r=parseInt(r,10),cljs.core.not.call(null,isNaN(r))?r:null},cljs.reader.check=function(r,l,e,c){return r<=l&&l<=e||cljs.reader.reader_error.call(null,null,[cljs.core.str(c),cljs.core.str(" Failed:  "),cljs.core.str(r),cljs.core.str("<="),cljs.core.str(l),cljs.core.str("<="),cljs.core.str(e)].join("")),l},cljs.reader.parse_and_validate_timestamp=function(r){var l=cljs.core.re_matches.call(null,cljs.reader.timestamp_regex,r);cljs.core.nth.call(null,l,0,null);var e=cljs.core.nth.call(null,l,1,null),c=cljs.core.nth.call(null,l,2,null),t=cljs.core.nth.call(null,l,3,null),n=cljs.core.nth.call(null,l,4,null),s=cljs.core.nth.call(null,l,5,null),o=cljs.core.nth.call(null,l,6,null),a=cljs.core.nth.call(null,l,7,null),i=cljs.core.nth.call(null,l,8,null),u=cljs.core.nth.call(null,l,9,null),$=cljs.core.nth.call(null,l,10,null);if(cljs.core.not.call(null,l))return cljs.reader.reader_error.call(null,null,[cljs.core.str("Unrecognized date/time syntax: "),cljs.core.str(r)].join(""));r=cljs.reader.parse_int.call(null,e);var l=function(){var r=cljs.reader.parse_int.call(null,c);return cljs.core.truth_(r)?r:1}(),e=function(){var r=cljs.reader.parse_int.call(null,t);return cljs.core.truth_(r)?r:1}(),j=function(){var r=cljs.reader.parse_int.call(null,n);return cljs.core.truth_(r)?r:0}(),_=function(){var r=cljs.reader.parse_int.call(null,s);return cljs.core.truth_(r)?r:0}(),p=function(){var r=cljs.reader.parse_int.call(null,o);return cljs.core.truth_(r)?r:0}(),d=function(){var r=cljs.reader.parse_int.call(null,cljs.reader.zero_fill_right_and_truncate.call(null,a,3));return cljs.core.truth_(r)?r:0}(),i=cljs.core._EQ_.call(null,i,"-")?-1:1,y=function(){var r=cljs.reader.parse_int.call(null,u);return cljs.core.truth_(r)?r:0}(),f=function(){var r=cljs.reader.parse_int.call(null,$);return cljs.core.truth_(r)?r:0}(),i=i*(60*y+f);return new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[r,cljs.reader.check.call(null,1,l,12,"timestamp month field must be in range 1..12"),cljs.reader.check.call(null,1,e,cljs.reader.days_in_month.call(null,l,cljs.reader.leap_year_QMARK_.call(null,r)),"timestamp day field must be in range 1..last day in month"),cljs.reader.check.call(null,0,j,23,"timestamp hour field must be in range 0..23"),cljs.reader.check.call(null,0,_,59,"timestamp minute field must be in range 0..59"),cljs.reader.check.call(null,0,p,cljs.core._EQ_.call(null,_,59)?60:59,"timestamp second field must be in range 0..60"),cljs.reader.check.call(null,0,d,999,"timestamp millisecond field must be in range 0..999"),i],null)},cljs.reader.parse_timestamp=function(r){var l=cljs.reader.parse_and_validate_timestamp.call(null,r);if(cljs.core.truth_(l)){r=cljs.core.nth.call(null,l,0,null);var e=cljs.core.nth.call(null,l,1,null),c=cljs.core.nth.call(null,l,2,null),t=cljs.core.nth.call(null,l,3,null),n=cljs.core.nth.call(null,l,4,null),s=cljs.core.nth.call(null,l,5,null),o=cljs.core.nth.call(null,l,6,null),l=cljs.core.nth.call(null,l,7,null);return new Date(Date.UTC(r,e-1,c,t,n,s,o)-6e4*l)}return cljs.reader.reader_error.call(null,null,[cljs.core.str("Unrecognized date/time syntax: "),cljs.core.str(r)].join(""))},cljs.reader.read_date=function(r){return"string"==typeof r?cljs.reader.parse_timestamp.call(null,r):cljs.reader.reader_error.call(null,null,"Instance literal expects a string for its timestamp.")},cljs.reader.read_queue=function(r){return cljs.core.vector_QMARK_.call(null,r)?cljs.core.into.call(null,cljs.core.PersistentQueue.EMPTY,r):cljs.reader.reader_error.call(null,null,"Queue literal expects a vector for its elements.")},cljs.reader.read_js=function(r){if(cljs.core.vector_QMARK_.call(null,r)){var l=[];r=cljs.core.seq.call(null,r);for(var e=null,c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t);l.push(n),t+=1}else{if(!(r=cljs.core.seq.call(null,r)))break;e=r,cljs.core.chunked_seq_QMARK_.call(null,e)?(r=cljs.core.chunk_first.call(null,e),t=cljs.core.chunk_rest.call(null,e),e=r,c=cljs.core.count.call(null,r),r=t):(r=cljs.core.first.call(null,e),l.push(r),r=cljs.core.next.call(null,e),e=null,c=0),t=0}return l}if(cljs.core.map_QMARK_.call(null,r)){for(l={},r=cljs.core.seq.call(null,r),e=null,t=c=0;;)if(t<c){var s=cljs.core._nth.call(null,e,t),n=cljs.core.nth.call(null,s,0,null),s=cljs.core.nth.call(null,s,1,null);l[cljs.core.name.call(null,n)]=s,t+=1}else{if(!(r=cljs.core.seq.call(null,r)))break;cljs.core.chunked_seq_QMARK_.call(null,r)?(c=cljs.core.chunk_first.call(null,r),r=cljs.core.chunk_rest.call(null,r),e=c,c=cljs.core.count.call(null,c)):(c=cljs.core.first.call(null,r),e=cljs.core.nth.call(null,c,0,null),c=cljs.core.nth.call(null,c,1,null),l[cljs.core.name.call(null,e)]=c,r=cljs.core.next.call(null,r),e=null,c=0),t=0}return l}return cljs.reader.reader_error.call(null,null,[cljs.core.str("JS literal expects a vector or map containing "),cljs.core.str("only string or unqualified keyword keys")].join(""))},cljs.reader.read_uuid=function(r){return"string"==typeof r?cljs.core.uuid.call(null,r):cljs.reader.reader_error.call(null,null,"UUID literal expects a string as its representation.")},cljs.reader._STAR_tag_table_STAR_=cljs.core.atom.call(null,new cljs.core.PersistentArrayMap(null,4,["inst",cljs.reader.read_date,"uuid",cljs.reader.read_uuid,"queue",cljs.reader.read_queue,"js",cljs.reader.read_js],null)),cljs.reader._STAR_default_data_reader_fn_STAR_=cljs.core.atom.call(null,null),cljs.reader.maybe_read_tagged_type=function(r,l){var e=cljs.reader.read_symbol.call(null,r,l),c=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),""+cljs.core.str(e)),t=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);return cljs.core.truth_(c)?c.call(null,cljs.reader.read.call(null,r,!0,null,!1)):cljs.core.truth_(t)?t.call(null,e,cljs.reader.read.call(null,r,!0,null,!1)):cljs.reader.reader_error.call(null,r,"Could not find tag parser for ",""+cljs.core.str(e)," in ",cljs.core.pr_str.call(null,cljs.core.keys.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_))))},cljs.reader.register_tag_parser_BANG_=function(r,l){var e=""+cljs.core.str(r),c=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),e);return cljs.core.swap_BANG_.call(null,cljs.reader._STAR_tag_table_STAR_,cljs.core.assoc,e,l),c},cljs.reader.deregister_tag_parser_BANG_=function(r){r=""+cljs.core.str(r);var l=cljs.core.get.call(null,cljs.core.deref.call(null,cljs.reader._STAR_tag_table_STAR_),r);return cljs.core.swap_BANG_.call(null,cljs.reader._STAR_tag_table_STAR_,cljs.core.dissoc,r),l},cljs.reader.register_default_tag_parser_BANG_=function(r){var l=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);return cljs.core.swap_BANG_.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_,function(l){return function(l){return r}}()),l},cljs.reader.deregister_default_tag_parser_BANG_=function(){var r=cljs.core.deref.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_);return cljs.core.swap_BANG_.call(null,cljs.reader._STAR_default_data_reader_fn_STAR_,function(r){return function(r){return null}}()),r},datascript.impl={},datascript.impl.entity={},datascript.impl.entity.entid=function(r,l){return"number"==typeof l||cljs.core.sequential_QMARK_.call(null,l)?datascript.core.entid.call(null,r,l):null},datascript.impl.entity.entity=function(r,l){var e=datascript.impl.entity.entid.call(null,r,l);return cljs.core.truth_(e)?datascript.impl.entity.__GT_Entity.call(null,r,e,cljs.core.volatile_BANG_.call(null,!1),cljs.core.volatile_BANG_.call(null,cljs.core.PersistentArrayMap.EMPTY)):null},datascript.impl.entity.entity_attr=function(r,l,e){return datascript.core.multival_QMARK_.call(null,r,l)?datascript.core.ref_QMARK_.call(null,r,l)?cljs.core.reduce.call(null,function(l,e){return cljs.core.conj.call(null,l,datascript.impl.entity.entity.call(null,r,new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(e)))},cljs.core.PersistentHashSet.EMPTY,e):cljs.core.reduce.call(null,function(r,l){return cljs.core.conj.call(null,r,new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(l))
},cljs.core.PersistentHashSet.EMPTY,e):datascript.core.ref_QMARK_.call(null,r,l)?datascript.impl.entity.entity.call(null,r,new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,e))):new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,e))},datascript.impl.entity._lookup_backwards=function(r,l,e,c){return l=cljs.core.not_empty.call(null,datascript.core._search.call(null,r,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[null,e,l],null))),cljs.core.truth_(l)?datascript.core.component_QMARK_.call(null,r,e)?datascript.impl.entity.entity.call(null,r,new cljs.core.Keyword(null,"e","e",1381269198).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,l))):cljs.core.reduce.call(null,function(l,e){return function(l,e){return cljs.core.conj.call(null,l,datascript.impl.entity.entity.call(null,r,new cljs.core.Keyword(null,"e","e",1381269198).cljs$core$IFn$_invoke$arity$1(e)))}}(),cljs.core.PersistentHashSet.EMPTY,l):c},datascript.impl.entity.multival__GT_js=function(r){return cljs.core.truth_(r)?cljs.core.to_array.call(null,r):null},datascript.impl.entity.js_seq=function(r){return datascript.impl.entity.touch.call(null,r),function l(e){return new cljs.core.LazySeq(null,function(){for(;;){var c=cljs.core.seq.call(null,e);if(c){if(cljs.core.chunked_seq_QMARK_.call(null,c)){var t=cljs.core.chunk_first.call(null,c),n=cljs.core.count.call(null,t),s=cljs.core.chunk_buffer.call(null,n);r:for(var o=0;;){if(!(o<n)){t=!0;break r}var a=cljs.core._nth.call(null,t,o),i=cljs.core.nth.call(null,a,0,null),a=cljs.core.nth.call(null,a,1,null);cljs.core.chunk_append.call(null,s,datascript.core.multival_QMARK_.call(null,r.db,i)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[i,datascript.impl.entity.multival__GT_js.call(null,a)],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[i,a],null)),o+=1}return t?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),l.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),null)}return t=cljs.core.first.call(null,c),s=cljs.core.nth.call(null,t,0,null),t=cljs.core.nth.call(null,t,1,null),cljs.core.cons.call(null,datascript.core.multival_QMARK_.call(null,r.db,s)?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[s,datascript.impl.entity.multival__GT_js.call(null,t)],null):new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[s,t],null),l.call(null,cljs.core.rest.call(null,c)))}return null}},null,null)}.call(null,cljs.core.deref.call(null,r.cache))},datascript.impl.entity.Entity=function(r,l,e,c){this.db=r,this.eid=l,this.touched=e,this.cache=c,this.cljs$lang$protocol_mask$partition0$=2162164483,this.cljs$lang$protocol_mask$partition1$=0},datascript.impl.entity.Entity.prototype.entry_set=function(){return cljs.core.to_array.call(null,cljs.core.map.call(null,cljs.core.to_array,datascript.impl.entity.js_seq.call(null,this)))},datascript.impl.entity.Entity.prototype.forEach=function(){var r=null,l=function(r){for(var l=cljs.core.seq.call(null,datascript.impl.entity.js_seq.call(null,this)),e=null,c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t),s=cljs.core.nth.call(null,n,0,null),n=cljs.core.nth.call(null,n,1,null);r.call(null,n,s,this),t+=1}else{if(!(l=cljs.core.seq.call(null,l)))return null;cljs.core.chunked_seq_QMARK_.call(null,l)?(e=cljs.core.chunk_first.call(null,l),l=cljs.core.chunk_rest.call(null,l),s=e,c=cljs.core.count.call(null,e),e=s):(e=cljs.core.first.call(null,l),s=cljs.core.nth.call(null,e,0,null),n=cljs.core.nth.call(null,e,1,null),r.call(null,n,s,this),l=cljs.core.next.call(null,l),e=null,c=0),t=0}},e=function(r,l){for(var e=cljs.core.seq.call(null,datascript.impl.entity.js_seq.call(null,this)),c=null,t=0,n=0;;)if(n<t){var s=cljs.core._nth.call(null,c,n),o=cljs.core.nth.call(null,s,0,null),s=cljs.core.nth.call(null,s,1,null);r.call(l,s,o,this),n+=1}else{if(!(e=cljs.core.seq.call(null,e)))return null;cljs.core.chunked_seq_QMARK_.call(null,e)?(c=cljs.core.chunk_first.call(null,e),e=cljs.core.chunk_rest.call(null,e),o=c,t=cljs.core.count.call(null,c),c=o):(c=cljs.core.first.call(null,e),o=cljs.core.nth.call(null,c,0,null),s=cljs.core.nth.call(null,c,1,null),r.call(l,s,o,this),e=cljs.core.next.call(null,e),c=null,t=0),n=0}},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}(),datascript.impl.entity.Entity.prototype.get=function(r){if(cljs.core._EQ_.call(null,r,":db/id"))return this.eid;if(datascript.core.reverse_ref_QMARK_.call(null,r))return datascript.impl.entity.multival__GT_js.call(null,datascript.impl.entity._lookup_backwards.call(null,this.db,this.eid,datascript.core.reverse_ref.call(null,r),null));var l=datascript.impl.entity.lookup_entity.call(null,this,r);return datascript.core.multival_QMARK_.call(null,this.db,r)?datascript.impl.entity.multival__GT_js.call(null,l):l},datascript.impl.entity.Entity.prototype.key_set=function(){return cljs.core.to_array.call(null,cljs.core.keys.call(null,this))},datascript.impl.entity.Entity.prototype.entries=function(){return cljs.core.es6_entries_iterator.call(null,datascript.impl.entity.js_seq.call(null,this))},datascript.impl.entity.Entity.prototype.value_set=function(){return cljs.core.to_array.call(null,cljs.core.map.call(null,cljs.core.second,datascript.impl.entity.js_seq.call(null,this)))},datascript.impl.entity.Entity.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.impl.entity.Entity.prototype.keys=function(){return cljs.core.es6_iterator.call(null,cljs.core.keys.call(null,this))},datascript.impl.entity.Entity.prototype.values=function(){return cljs.core.es6_iterator.call(null,cljs.core.map.call(null,cljs.core.second,datascript.impl.entity.js_seq.call(null,this)))},datascript.impl.entity.Entity.prototype.equiv=function(r){return datascript.impl.entity.equiv_entity.call(null,this,r)},datascript.impl.entity.Entity.prototype.has=function(r){return null!=this.get(r)},datascript.impl.entity.Entity.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){return datascript.impl.entity.equiv_entity.call(null,this,l)},datascript.impl.entity.Entity.prototype.cljs$core$IHash$_hash$arity$1=function(r){return cljs.core.hash.call(null,this.eid)},datascript.impl.entity.Entity.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return datascript.impl.entity.touch.call(null,this),cljs.core.seq.call(null,cljs.core.deref.call(null,this.cache))},datascript.impl.entity.Entity.prototype.cljs$core$ICounted$_count$arity$1=function(r){return datascript.impl.entity.touch.call(null,this),cljs.core.count.call(null,cljs.core.deref.call(null,this.cache))},datascript.impl.entity.Entity.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return datascript.impl.entity.lookup_entity.call(null,this,l,null)},datascript.impl.entity.Entity.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){return datascript.impl.entity.lookup_entity.call(null,this,l,e)},datascript.impl.entity.Entity.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2=function(r,l){return cljs.core.not_EQ_.call(null,new cljs.core.Keyword("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),datascript.impl.entity.lookup_entity.call(null,this,l,new cljs.core.Keyword("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353)))},datascript.impl.entity.Entity.prototype.call=function(){var r=null,l=function(r,l){return datascript.impl.entity.lookup_entity.call(null,this,l)},e=function(r,l,e){return datascript.impl.entity.lookup_entity.call(null,this,l,e)},r=function(r,c,t){switch(arguments.length){case 2:return l.call(this,r,c);case 3:return e.call(this,r,c,t)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$2=l,r.cljs$core$IFn$_invoke$arity$3=e,r}(),datascript.impl.entity.Entity.prototype.apply=function(r,l){return this.call.apply(this,[this].concat(cljs.core.aclone.call(null,l)))},datascript.impl.entity.Entity.prototype.cljs$core$IFn$_invoke$arity$1=function(r){return datascript.impl.entity.lookup_entity.call(null,this,r)},datascript.impl.entity.Entity.prototype.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.impl.entity.lookup_entity.call(null,this,r,l)},datascript.impl.entity.Entity.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._pr_writer.call(null,cljs.core.assoc.call(null,cljs.core.deref.call(null,this.cache),new cljs.core.Keyword("db","id","db/id",-1388397098),this.eid),l,e)},datascript.impl.entity.Entity.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"db","db",-1661185010,null),new cljs.core.Symbol(null,"eid","eid",-2094915839,null),new cljs.core.Symbol(null,"touched","touched",1031397108,null),new cljs.core.Symbol(null,"cache","cache",403508473,null)],null)},datascript.impl.entity.Entity.cljs$lang$type=!0,datascript.impl.entity.Entity.cljs$lang$ctorStr="datascript.impl.entity/Entity",datascript.impl.entity.Entity.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.impl.entity/Entity")},datascript.impl.entity.__GT_Entity=function(r,l,e,c){return new datascript.impl.entity.Entity(r,l,e,c)},datascript.impl.entity.entity_QMARK_=function(r){return r instanceof datascript.impl.entity.Entity},datascript.impl.entity.equiv_entity=function(r,l){return l instanceof datascript.impl.entity.Entity&&cljs.core._EQ_.call(null,r.eid,l.eid)},datascript.impl.entity.lookup_entity=function(){switch(arguments.length){case 2:return datascript.impl.entity.lookup_entity.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.impl.entity.lookup_entity.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.impl.entity.lookup_entity.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.impl.entity.lookup_entity.call(null,r,l,null)},datascript.impl.entity.lookup_entity.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(cljs.core._EQ_.call(null,l,new cljs.core.Keyword("db","id","db/id",-1388397098)))return r.eid;if(datascript.core.reverse_ref_QMARK_.call(null,l))return datascript.impl.entity._lookup_backwards.call(null,r.db,r.eid,datascript.core.reverse_ref.call(null,l),e);var c=cljs.core.deref.call(null,r.cache).call(null,l);return cljs.core.truth_(c)?c:cljs.core.truth_(cljs.core.deref.call(null,r.touched))?e:(c=cljs.core.not_empty.call(null,datascript.core._search.call(null,r.db,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[r.eid,l],null))),cljs.core.truth_(c)&&(e=datascript.impl.entity.entity_attr.call(null,r.db,l,c),cljs.core.vreset_BANG_.call(null,r.cache,cljs.core.assoc.call(null,cljs.core.deref.call(null,r.cache),l,e))),e)},datascript.impl.entity.lookup_entity.cljs$lang$maxFixedArity=3,datascript.impl.entity.touch_components=function(r,l){return cljs.core.reduce_kv.call(null,function(l,e,c){return cljs.core.assoc.call(null,l,e,datascript.core.component_QMARK_.call(null,r,e)?datascript.core.multival_QMARK_.call(null,r,e)?cljs.core.set.call(null,cljs.core.map.call(null,datascript.impl.entity.touch,c)):datascript.impl.entity.touch.call(null,c):c)},cljs.core.PersistentArrayMap.EMPTY,l)},datascript.impl.entity.datoms__GT_cache=function(r,l){return cljs.core.reduce.call(null,function(l,e){var c=new cljs.core.Keyword(null,"a","a",-2123407586).cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,e));return cljs.core.assoc.call(null,l,c,datascript.impl.entity.entity_attr.call(null,r,c,e))},cljs.core.PersistentArrayMap.EMPTY,cljs.core.partition_by.call(null,new cljs.core.Keyword(null,"a","a",-2123407586),l))},datascript.impl.entity.touch=function(r){if(!cljs.core.truth_(cljs.core.deref.call(null,r.touched))){var l=cljs.core.not_empty.call(null,datascript.core._search.call(null,r.db,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r.eid],null)));cljs.core.truth_(l)&&(cljs.core.vreset_BANG_.call(null,r.cache,datascript.impl.entity.touch_components.call(null,r.db,datascript.impl.entity.datoms__GT_cache.call(null,r.db,l))),cljs.core.vreset_BANG_.call(null,r.touched,!0))}return r},goog.exportSymbol("datascript.impl.entity.Entity.prototype.get",datascript.impl.entity.Entity.prototype.get),goog.exportSymbol("datascript.impl.entity.Entity.prototype.has",datascript.impl.entity.Entity.prototype.has),goog.exportSymbol("datascript.impl.entity.Entity.prototype.forEach",datascript.impl.entity.Entity.prototype.forEach),goog.exportSymbol("datascript.impl.entity.Entity.prototype.key_set",datascript.impl.entity.Entity.prototype.key_set),goog.exportSymbol("datascript.impl.entity.Entity.prototype.value_set",datascript.impl.entity.Entity.prototype.value_set),goog.exportSymbol("datascript.impl.entity.Entity.prototype.entry_set",datascript.impl.entity.Entity.prototype.entry_set),goog.exportSymbol("datascript.impl.entity.Entity.prototype.keys",datascript.impl.entity.Entity.prototype.keys),goog.exportSymbol("datascript.impl.entity.Entity.prototype.values",datascript.impl.entity.Entity.prototype.values),goog.exportSymbol("datascript.impl.entity.Entity.prototype.entries",datascript.impl.entity.Entity.prototype.entries),goog.exportSymbol("cljs.core.ES6Iterator.prototype.next",cljs.core.ES6Iterator.prototype.next),goog.exportSymbol("cljs.core.ES6EntriesIterator.prototype.next",cljs.core.ES6EntriesIterator.prototype.next),datascript.query={},datascript.query.lru_cache_size=100,datascript.query.Context=function(r,l,e,c,t,n){this.rels=r,this.sources=l,this.rules=e,this.__meta=c,this.__extmap=t,this.__hash=n,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.query.Context.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.query.Context.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"rels":return this.rels;case"sources":return this.sources;case"rules":return this.rules;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.query.Context.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.query.Context{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185),this.rels],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"sources","sources",-321166424),this.sources],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rules","rules",1198912366),this.rules],null)],null),this.__extmap))},datascript.query.Context.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.query.Context.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.query.Context(this.rels,this.sources,this.rules,this.__meta,this.__extmap,this.__hash)},datascript.query.Context.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 3+cljs.core.count.call(null,this.__extmap)},datascript.query.Context.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.query.Context.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.query.Context.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"sources","sources",-321166424),null,new cljs.core.Keyword(null,"rules","rules",1198912366),null,new cljs.core.Keyword(null,"rels","rels",1770187185),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.query.Context(this.rels,this.sources,this.rules,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.query.Context.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"rels","rels",1770187185),l))?new datascript.query.Context(e,this.sources,this.rules,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"sources","sources",-321166424),l))?new datascript.query.Context(this.rels,e,this.rules,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"rules","rules",1198912366),l))?new datascript.query.Context(this.rels,this.sources,e,this.__meta,this.__extmap,null):new datascript.query.Context(this.rels,this.sources,this.rules,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.query.Context.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185),this.rels],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"sources","sources",-321166424),this.sources],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rules","rules",1198912366),this.rules],null)],null),this.__extmap))},datascript.query.Context.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.query.Context(this.rels,this.sources,this.rules,l,this.__extmap,this.__hash)},datascript.query.Context.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.query.Context.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"rels","rels",-884248584,null),new cljs.core.Symbol(null,"sources","sources",1319365103,null),new cljs.core.Symbol(null,"rules","rules",-1455523403,null)],null)},datascript.query.Context.cljs$lang$type=!0,datascript.query.Context.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.query/Context")},datascript.query.Context.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.query/Context")},datascript.query.__GT_Context=function(r,l,e){return new datascript.query.Context(r,l,e,null,null,null)},datascript.query.map__GT_Context=function(r){return new datascript.query.Context(new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"sources","sources",-321166424).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"rules","rules",1198912366).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"rels","rels",1770187185),new cljs.core.Keyword(null,"sources","sources",-321166424),new cljs.core.Keyword(null,"rules","rules",1198912366)),null)},datascript.query.Relation=function(r,l,e,c,t){this.attrs=r,this.tuples=l,this.__meta=e,this.__extmap=c,this.__hash=t,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.query.Relation.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.query.Relation.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"attrs":return this.attrs;case"tuples":return this.tuples;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.query.Relation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.query.Relation{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",-2090668713),this.attrs],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tuples","tuples",-676032639),this.tuples],null)],null),this.__extmap))},datascript.query.Relation.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.query.Relation.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.query.Relation(this.attrs,this.tuples,this.__meta,this.__extmap,this.__hash)},datascript.query.Relation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 2+cljs.core.count.call(null,this.__extmap)},datascript.query.Relation.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.query.Relation.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.query.Relation.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"tuples","tuples",-676032639),null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.query.Relation(this.attrs,this.tuples,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.query.Relation.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),l))?new datascript.query.Relation(e,this.tuples,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639),l))?new datascript.query.Relation(this.attrs,e,this.__meta,this.__extmap,null):new datascript.query.Relation(this.attrs,this.tuples,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.query.Relation.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"attrs","attrs",-2090668713),this.attrs],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tuples","tuples",-676032639),this.tuples],null)],null),this.__extmap))},datascript.query.Relation.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.query.Relation(this.attrs,this.tuples,l,this.__extmap,this.__hash)},datascript.query.Relation.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.query.Relation.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"attrs","attrs",-450137186,null),new cljs.core.Symbol(null,"tuples","tuples",964498888,null)],null)},datascript.query.Relation.cljs$lang$type=!0,datascript.query.Relation.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.query/Relation")};datascript.query.Relation.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.query/Relation")},datascript.query.__GT_Relation=function(r,l){return new datascript.query.Relation(r,l,null,null,null)},datascript.query.map__GT_Relation=function(r){return new datascript.query.Relation(new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"attrs","attrs",-2090668713),new cljs.core.Keyword(null,"tuples","tuples",-676032639)),null)},datascript.query.intersect_keys=function(r,l){return clojure.set.intersection.call(null,cljs.core.set.call(null,cljs.core.keys.call(null,r)),cljs.core.set.call(null,cljs.core.keys.call(null,l)))},datascript.query.concatv=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.query.concatv.cljs$core$IFn$_invoke$arity$variadic(r)},datascript.query.concatv.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.cat,r)},datascript.query.concatv.cljs$lang$maxFixedArity=0,datascript.query.concatv.cljs$lang$applyTo=function(r){return datascript.query.concatv.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.query.looks_like_QMARK_=function r(l,e){return!!cljs.core._EQ_.call(null,new cljs.core.Symbol(null,"_","_",-1201019570,null),l)||(cljs.core._EQ_.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"*","*",345799209,null)],null),l)?cljs.core.sequential_QMARK_.call(null,e):l instanceof cljs.core.Symbol?cljs.core._EQ_.call(null,e,l):cljs.core.sequential_QMARK_.call(null,l)?cljs.core._EQ_.call(null,cljs.core.last.call(null,l),new cljs.core.Symbol(null,"*","*",345799209,null))?cljs.core.sequential_QMARK_.call(null,e)&&cljs.core.every_QMARK_.call(null,function(l){var e=cljs.core.nth.call(null,l,0,null);return l=cljs.core.nth.call(null,l,1,null),r.call(null,e,l)},cljs.core.map.call(null,cljs.core.vector,cljs.core.butlast.call(null,l),e)):cljs.core.sequential_QMARK_.call(null,e)&&cljs.core._EQ_.call(null,cljs.core.count.call(null,e),cljs.core.count.call(null,l))&&cljs.core.every_QMARK_.call(null,function(l){var e=cljs.core.nth.call(null,l,0,null);return l=cljs.core.nth.call(null,l,1,null),r.call(null,e,l)},cljs.core.map.call(null,cljs.core.vector,l,e)):l.call(null,e))},datascript.query.source_QMARK_=function(r){return r instanceof cljs.core.Symbol&&cljs.core._EQ_.call(null,"$",cljs.core.first.call(null,cljs.core.name.call(null,r)))},datascript.query.free_var_QMARK_=function(r){return r instanceof cljs.core.Symbol&&cljs.core._EQ_.call(null,"?",cljs.core.first.call(null,cljs.core.name.call(null,r)))},datascript.query.attr_QMARK_=function(r){return r instanceof cljs.core.Keyword||"string"==typeof r},datascript.query.lookup_ref_QMARK_=function(r){return datascript.query.looks_like_QMARK_.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.query.attr_QMARK_,new cljs.core.Symbol(null,"_","_",-1201019570,null)],null),r)},datascript.query.async_reduce=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];if(1===t){var t=l,n=e;return c[7]=n,c[8]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(2===t){var n=c[7],s=c[9],t=cljs.core.first.call(null,n);return c[9]=t,cljs.core.truth_(null==t)?c[1]=4:c[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 3===t?(t=c[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t)):4===t?(t=c[8],c[2]=t,c[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===t?(s=c[9],t=c[8],t=r.call(null,t,s),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,c,7,t)):6===t?(t=c[2],c[2]=t,c[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)):7===t?(n=c[7],t=c[2],n=cljs.core.rest.call(null,n),c[7]=n,c[8]=t,c[2]=null,c[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),c},datascript.query.join_tuples=function(r,l,e,c){for(var t=l.length,n=c.length,s=datascript.shim.make_array.call(null,t+n),o=0;o<t;)s[o]=r[l[o]],o+=1;for(r=0;r<n;)s[t+r]=e[c[r]],r+=1;return s},datascript.query.sum_rel=function(r,l){return new datascript.query.Relation(new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),cljs.core.concat.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(l)),null,null,null)},datascript.query.prod_rel=function(){switch(arguments.length){case 0:return datascript.query.prod_rel.cljs$core$IFn$_invoke$arity$0();case 2:return datascript.query.prod_rel.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.query.prod_rel.cljs$core$IFn$_invoke$arity$0=function(){return new datascript.query.Relation(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.shim.make_array.call(null,0)],null),null,null,null)},datascript.query.prod_rel.cljs$core$IFn$_invoke$arity$2=function(r,l){
var e=cljs.core.keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r)),c=cljs.core.keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(l)),t=cljs.core.to_array.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),e)),n=cljs.core.to_array.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(l),c));return new datascript.query.Relation(cljs.core.zipmap.call(null,cljs.core.concat.call(null,e,c),cljs.core.range.call(null)),cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,function(r,e,c,t){return function(r,e){return cljs.core.reduce.call(null,function(r,l,c,t){return function(r,l){return cljs.core.conj_BANG_.call(null,r,datascript.query.join_tuples.call(null,e,c,l,t))}}(0,0,c,t),r,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(l))}}(0,0,t,n),cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(r))),null,null,null)},datascript.query.prod_rel.cljs$lang$maxFixedArity=2,datascript.query._differ_QMARK_=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.query._differ_QMARK_.cljs$core$IFn$_invoke$arity$variadic(r)},datascript.query._differ_QMARK_.cljs$core$IFn$_invoke$arity$variadic=function(r){var l=cljs.core.count.call(null,r);return cljs.core.not_EQ_.call(null,cljs.core.take.call(null,l/2,r),cljs.core.drop.call(null,l/2,r))},datascript.query._differ_QMARK_.cljs$lang$maxFixedArity=0,datascript.query._differ_QMARK_.cljs$lang$applyTo=function(r){return datascript.query._differ_QMARK_.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.query._get_else=function(r,l,e,c){return r=cljs.core.first.call(null,datascript.core._search.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,e],null))),cljs.core.truth_(r)?new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(r):c},datascript.query._get_some=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.query._get_some.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},datascript.query._get_some.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.reduce.call(null,function(e,c){var t=cljs.core.first.call(null,datascript.core._search.call(null,r,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,c],null)));return cljs.core.truth_(t)?cljs.core.reduced.call(null,new cljs.core.Keyword(null,"v","v",21465059).cljs$core$IFn$_invoke$arity$1(t)):null},null,e)},datascript.query._get_some.cljs$lang$maxFixedArity=2,datascript.query._get_some.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.query._get_some.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.query._missing_QMARK_=function(r,l,e){return null==cljs.core.get.call(null,datascript.impl.entity.entity.call(null,r,l),e)},datascript.query.built_ins=cljs.core.PersistentHashMap.fromArrays([new cljs.core.Symbol(null,"true?","true?",-1600332395,null),new cljs.core.Symbol(null,"odd?","odd?",-1458588199,null),new cljs.core.Symbol(null,"get-else","get-else",1312024065,null),new cljs.core.Symbol(null,">=",">=",1016916022,null),new cljs.core.Symbol(null,">",">",1085014381,null),new cljs.core.Symbol(null,"get-some","get-some",409442058,null),new cljs.core.Symbol(null,"nil?","nil?",1612038930,null),new cljs.core.Symbol(null,"inc","inc",324505433,null),new cljs.core.Symbol(null,"/","/",-1371932971,null),new cljs.core.Symbol(null,"quot","quot",-1125214196,null),new cljs.core.Symbol(null,"false?","false?",-1522377573,null),new cljs.core.Symbol(null,"identity","identity",-1007039734,null),new cljs.core.Symbol(null,"-differ?","-differ?",1465687357,null),new cljs.core.Symbol(null,"<=","<=",1244895369,null),new cljs.core.Symbol(null,"=","=",-1501502141,null),new cljs.core.Symbol(null,"min","min",2085523049,null),new cljs.core.Symbol(null,"+","+",-740910886,null),new cljs.core.Symbol(null,"missing?","missing?",-1710383910,null),new cljs.core.Symbol(null,"ground","ground",-1460862835,null),new cljs.core.Symbol(null,"==","==",-234118149,null),new cljs.core.Symbol(null,"max","max",1701898075,null),new cljs.core.Symbol(null,"*","*",345799209,null),new cljs.core.Symbol(null,"zero?","zero?",325758897,null),new cljs.core.Symbol(null,"!=","!=",-201205829,null),new cljs.core.Symbol(null,"dec","dec",-766002333,null),new cljs.core.Symbol(null,"vector","vector",-751469611,null),new cljs.core.Symbol(null,"not=","not=",1466536204,null),new cljs.core.Symbol(null,"str","str",-1564826950,null),new cljs.core.Symbol(null,"<","<",993667236,null),new cljs.core.Symbol(null,"-","-",-471816912,null),new cljs.core.Symbol(null,"pos?","pos?",-244377722,null),new cljs.core.Symbol(null,"mod","mod",1510044207,null),new cljs.core.Symbol(null,"rem","rem",664046770,null),new cljs.core.Symbol(null,"even?","even?",-1827825394,null),new cljs.core.Symbol(null,"neg?","neg?",-1902175577,null)],[cljs.core.true_QMARK_,cljs.core.odd_QMARK_,datascript.query._get_else,cljs.core._GT__EQ_,cljs.core._GT_,datascript.query._get_some,cljs.core.nil_QMARK_,cljs.core.inc,cljs.core._SLASH_,cljs.core.quot,cljs.core.false_QMARK_,cljs.core.identity,datascript.query._differ_QMARK_,cljs.core._LT__EQ_,cljs.core._EQ_,cljs.core.min,cljs.core._PLUS_,datascript.query._missing_QMARK_,cljs.core.identity,cljs.core._EQ__EQ_,cljs.core.max,cljs.core._STAR_,cljs.core.zero_QMARK_,cljs.core.not_EQ_,cljs.core.dec,cljs.core.vector,cljs.core.not_EQ_,cljs.core.str,cljs.core._LT_,cljs.core._,cljs.core.pos_QMARK_,cljs.core.mod,cljs.core.rem,cljs.core.even_QMARK_,cljs.core.neg_QMARK_]),datascript.query.built_in_aggregates=function(){var r=function(r){return cljs.core.reduce.call(null,cljs.core._PLUS_,0,r)},l=function(l){return r.call(null,l)/cljs.core.count.call(null,l)},e=function(e){var c=l.call(null,e);return r.call(null,function(){return function(r){return function l(e){return new cljs.core.LazySeq(null,function(r){return function(){for(;;){var c=cljs.core.seq.call(null,e);if(c){if(cljs.core.chunked_seq_QMARK_.call(null,c)){var t=cljs.core.chunk_first.call(null,c),n=cljs.core.count.call(null,t),s=cljs.core.chunk_buffer.call(null,n);r:for(var o=0;;){if(!(o<n)){t=!0;break r}var a=cljs.core._nth.call(null,t,o)-r;cljs.core.chunk_append.call(null,s,a*a),o+=1}return t?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),l.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),null)}return s=cljs.core.first.call(null,c)-r,cljs.core.cons.call(null,s*s,l.call(null,cljs.core.rest.call(null,c)))}return null}}}(r),null,null)}}(c).call(null,e)}())/cljs.core.count.call(null,e)};return cljs.core.PersistentHashMap.fromArrays([new cljs.core.Symbol(null,"variance","variance",-1522424942,null),new cljs.core.Symbol(null,"count","count",-514511684,null),new cljs.core.Symbol(null,"median","median",-2084869638,null),new cljs.core.Symbol(null,"sum","sum",1777518341,null),new cljs.core.Symbol(null,"min","min",2085523049,null),new cljs.core.Symbol(null,"max","max",1701898075,null),new cljs.core.Symbol(null,"count-distinct","count-distinct",-1566572514,null),new cljs.core.Symbol(null,"distinct","distinct",-148347594,null),new cljs.core.Symbol(null,"avg","avg",1837937727,null),new cljs.core.Symbol(null,"stddev","stddev",775056588,null),new cljs.core.Symbol(null,"rand","rand",-1745930995,null),new cljs.core.Symbol(null,"sample","sample",1719555128,null)],[e,cljs.core.count,function(r){var l=cljs.core.sort.call(null,r);r=cljs.core.count.call(null,r);var e=r>>1,c=cljs.core.nth.call(null,l,e);return cljs.core.even_QMARK_.call(null,r)?(c+cljs.core.nth.call(null,l,e-1))/2:c},r,function(){var r=null,l=function(r){return cljs.core.reduce.call(null,function(r,l){return 0>datascript.core.cmp_val.call(null,l,r)?l:r},cljs.core.first.call(null,r),cljs.core.next.call(null,r))},e=function(r,l){return cljs.core.vec.call(null,cljs.core.reduce.call(null,function(l,e){return cljs.core.count.call(null,l)<r?cljs.core.sort.call(null,datascript.core.cmp_val,cljs.core.conj.call(null,l,e)):0>datascript.core.cmp_val.call(null,e,cljs.core.last.call(null,l))?cljs.core.sort.call(null,datascript.core.cmp_val,cljs.core.conj.call(null,cljs.core.butlast.call(null,l),e)):l},cljs.core.PersistentVector.EMPTY,l))},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}(),function(){var r=null,l=function(r){return cljs.core.reduce.call(null,function(r,l){return 0<datascript.core.cmp_val.call(null,l,r)?l:r},cljs.core.first.call(null,r),cljs.core.next.call(null,r))},e=function(r,l){return cljs.core.vec.call(null,cljs.core.reduce.call(null,function(l,e){return cljs.core.count.call(null,l)<r?cljs.core.sort.call(null,datascript.core.cmp_val,cljs.core.conj.call(null,l,e)):0<datascript.core.cmp_val.call(null,e,cljs.core.first.call(null,l))?cljs.core.sort.call(null,datascript.core.cmp_val,cljs.core.conj.call(null,cljs.core.next.call(null,l),e)):l},cljs.core.PersistentVector.EMPTY,l))},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}(),function(r){return cljs.core.count.call(null,cljs.core.distinct.call(null,r))},cljs.core.comp.call(null,cljs.core.vec,cljs.core.distinct),l,function(r){return Math.sqrt(e.call(null,r))},function(){var r=null,l=function(r){return cljs.core.rand_nth.call(null,r)},e=function(r,l){return cljs.core.vec.call(null,cljs.core.repeatedly.call(null,r,function(){return cljs.core.rand_nth.call(null,l)}))},r=function(r,c){switch(arguments.length){case 1:return l.call(this,r);case 2:return e.call(this,r,c)}throw Error("Invalid arity: "+arguments.length)};return r.cljs$core$IFn$_invoke$arity$1=l,r.cljs$core$IFn$_invoke$arity$2=e,r}(),function(r,l){return cljs.core.vec.call(null,cljs.core.take.call(null,r,cljs.core.shuffle.call(null,l)))}])}(),datascript.query.parse_rules=function(r){return r="string"==typeof r?cljs.reader.read_string.call(null,r):r,cljs.core.group_by.call(null,cljs.core.ffirst,r)},datascript.query.bindable_to_seq_QMARK_=function(r){var l=datascript.shim.seqable_QMARK_.call(null,r);return cljs.core.truth_(l)?l:datascript.shim.array_QMARK_.call(null,r)},datascript.query.empty_rel=function(r){return r=cljs.core.map.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),datascript.parser.collect_vars_distinct.call(null,r)),new datascript.query.Relation(cljs.core.zipmap.call(null,r,cljs.core.range.call(null)),cljs.core.PersistentVector.EMPTY,null,null,null)},datascript.query.IBinding=function(){return{}}(),datascript.query.in__GT_rel=function(r,l){if(r?r.datascript$query$IBinding$in__GT_rel$arity$2:r)return r.datascript$query$IBinding$in__GT_rel$arity$2(r,l);var e;if(!(e=datascript.query.in__GT_rel[goog.typeOf(null==r?null:r)])&&!(e=datascript.query.in__GT_rel._))throw cljs.core.missing_protocol.call(null,"IBinding.in->rel",r);return e.call(null,r,l)},datascript.parser.BindIgnore.prototype.datascript$query$IBinding$=!0,datascript.parser.BindIgnore.prototype.datascript$query$IBinding$in__GT_rel$arity$2=function(r,l){return datascript.query.prod_rel.call(null)},datascript.parser.BindScalar.prototype.datascript$query$IBinding$=!0,datascript.parser.BindScalar.prototype.datascript$query$IBinding$in__GT_rel$arity$2=function(r,l){return new datascript.query.Relation(new cljs.core.PersistentArrayMap.fromArray([cljs.core.get_in.call(null,this,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),new cljs.core.Keyword(null,"symbol","symbol",-1038572696)],null)),0],!0,!1),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.into_array.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null))],null),null,null,null)},datascript.parser.BindColl.prototype.datascript$query$IBinding$=!0,datascript.parser.BindColl.prototype.datascript$query$IBinding$in__GT_rel$arity$2=function(r,l){if(cljs.core.not.call(null,datascript.query.bindable_to_seq_QMARK_.call(null,l)))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot bind value "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to collection "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));return cljs.core.empty_QMARK_.call(null,l)?datascript.query.empty_rel.call(null,this):cljs.core.reduce.call(null,datascript.query.sum_rel,cljs.core.map.call(null,function(r){return function(l){return datascript.query.in__GT_rel.call(null,new cljs.core.Keyword(null,"binding","binding",539932593).cljs$core$IFn$_invoke$arity$1(r),l)}}(this),l))},datascript.parser.BindTuple.prototype.datascript$query$IBinding$=!0,datascript.parser.BindTuple.prototype.datascript$query$IBinding$in__GT_rel$arity$2=function(r,l){if(cljs.core.not.call(null,datascript.query.bindable_to_seq_QMARK_.call(null,l)))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot bind value "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to tuple "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));if(cljs.core.count.call(null,l)<cljs.core.count.call(null,new cljs.core.Keyword(null,"bindings","bindings",1271397192).cljs$core$IFn$_invoke$arity$1(this)))throw cljs.core.ex_info.call(null,[cljs.core.str("Not enough elements in a collection "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to bind tuple "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));return cljs.core.reduce.call(null,datascript.query.prod_rel,cljs.core.map.call(null,function(r){return function(r,l){return datascript.query.in__GT_rel.call(null,r,l)}}(),new cljs.core.Keyword(null,"bindings","bindings",1271397192).cljs$core$IFn$_invoke$arity$1(this),l))},datascript.query.resolve_in=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null);return e instanceof datascript.parser.BindScalar&&new cljs.core.Keyword(null,"variable","variable",-281346492).cljs$core$IFn$_invoke$arity$1(e)instanceof datascript.parser.SrcVar?cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"sources","sources",-321166424)],null),cljs.core.assoc,cljs.core.get_in.call(null,e,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"variable","variable",-281346492),new cljs.core.Keyword(null,"symbol","symbol",-1038572696)],null)),c):e instanceof datascript.parser.BindScalar&&new cljs.core.Keyword(null,"variable","variable",-281346492).cljs$core$IFn$_invoke$arity$1(e)instanceof datascript.parser.RulesVar?cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"rules","rules",1198912366),datascript.query.parse_rules.call(null,c)):cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185)],null),cljs.core.conj,datascript.query.in__GT_rel.call(null,e,c))},datascript.query.resolve_ins=function(r,l,e){return cljs.core.reduce.call(null,datascript.query.resolve_in,r,cljs.core.zipmap.call(null,l,e))},datascript.query._STAR_lookup_attrs_STAR_=null,datascript.query._STAR_lookup_source_STAR_=null,datascript.query.getter_fn=function(r,l){var e=r.call(null,l);return null!=datascript.query._STAR_lookup_attrs_STAR_&&cljs.core.contains_QMARK_.call(null,datascript.query._STAR_lookup_attrs_STAR_,l)?function(r){return function(l){return l=l[r],"number"==typeof l?l:datascript.core.entid.call(null,datascript.query._STAR_lookup_source_STAR_,l)}}(e):function(r){return function(l){return l[r]}}(e)},datascript.query.tuple_key_fn=function(r){return 1===cljs.core.count.call(null,r)?cljs.core.first.call(null,r):function(r){return function(l){return cljs.core.list_STAR_.call(null,r.map(function(r){return function(r){return r.call(null,l)}}()))}}(cljs.core.to_array.call(null,r))},datascript.query.hash_attrs=function(r,l){for(var e=l,c=cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY);;){var t=cljs.core.first.call(null,e);if(!cljs.core.truth_(t))return cljs.core.persistent_BANG_.call(null,c);var n=r.call(null,t),e=cljs.core.next.call(null,e),c=cljs.core.assoc_BANG_.call(null,c,n,cljs.core.conj.call(null,cljs.core.get.call(null,c,n,cljs.core.List.EMPTY),t))}},datascript.query.hash_join=function(r,l){var e=new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(r),c=new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(l),t=new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),n=new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(l),s=cljs.core.vec.call(null,datascript.query.intersect_keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(l))),o=cljs.core.map.call(null,function(r,l,e,c,t){return function(r){return datascript.query.getter_fn.call(null,e,r)}}(0,0,t),s),a=cljs.core.map.call(null,function(r,l,e,c,t,n){return function(r){return datascript.query.getter_fn.call(null,c,r)}}(0,0,0,n),s),i=cljs.core.keys.call(null,t),u=cljs.core.vec.call(null,clojure.set.difference.call(null,cljs.core.set.call(null,cljs.core.keys.call(null,n)),cljs.core.set.call(null,cljs.core.keys.call(null,t)))),$=cljs.core.to_array.call(null,cljs.core.map.call(null,t,i)),j=cljs.core.to_array.call(null,cljs.core.map.call(null,n,u)),_=datascript.query.tuple_key_fn.call(null,o),p=datascript.query.hash_attrs.call(null,_,e),d=datascript.query.tuple_key_fn.call(null,a),e=cljs.core.persistent_BANG_.call(null,cljs.core.reduce.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return function(r,l){var e=_.call(null,l),c=cljs.core.get.call(null,j,e);return cljs.core.truth_(c)?cljs.core.reduce.call(null,function(r,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r,e){return cljs.core.conj_BANG_.call(null,r,datascript.query.join_tuples.call(null,e,_,l,p))}}(0,0,0,0,0,0,0,0,0,0,0,0,i,u),r,c):r}}(0,0,0,0,0,0,0,0,0,$,j,0,p,d),cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),c));return new datascript.query.Relation(cljs.core.zipmap.call(null,cljs.core.concat.call(null,i,u),cljs.core.range.call(null)),e,null,null,null)},datascript.query.lookup_pattern_db=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(1===c){var t=(e[7],function(){return function(r,l,e){return function(r){return r instanceof cljs.core.Symbol?null:r}}()}()),t=cljs.core.mapv.call(null,t,l),n=datascript.core._search.call(null,r,t);return e[7]=t,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,2,n)}if(2===c){var s=(e[7],e[2]),o=cljs.core.PersistentHashMap.EMPTY,t=function(){return function(r,l,e,c,t,n,s){return function(r){var l=cljs.core.nth.call(null,r,0,null);return cljs.core.nth.call(null,r,1,null),datascript.query.free_var_QMARK_.call(null,l)}}()}(),n=new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,["e","a","v","tx"],null),n=cljs.core.map.call(null,cljs.core.vector,l,n),t=cljs.core.filter.call(null,t,n),t=cljs.core.into.call(null,o,t),t=new datascript.query.Relation(t,s,null,null,null);return cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,t)}return null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query.matches_pattern_QMARK_=function(r,l){for(var e=l,c=r;;){if(!cljs.core.truth_(function(){var r=e;return cljs.core.truth_(r)?c:r}()))return!0;var t=cljs.core.first.call(null,e),n=cljs.core.first.call(null,c);if(!(n instanceof cljs.core.Symbol||cljs.core._EQ_.call(null,t,n)))return!1;t=cljs.core.next.call(null,e),n=cljs.core.next.call(null,c),e=t,c=n}},datascript.query.lookup_pattern_coll=function(r,l){var e=cljs.core.filter.call(null,function(r){return datascript.query.matches_pattern_QMARK_.call(null,l,r)},r),c=cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.filter.call(null,function(r){return function(r){var l=cljs.core.nth.call(null,r,0,null);return cljs.core.nth.call(null,r,1,null),datascript.query.free_var_QMARK_.call(null,l)}}(),cljs.core.map.call(null,cljs.core.vector,l,cljs.core.range.call(null))));return new datascript.query.Relation(c,cljs.core.map.call(null,cljs.core.to_array,e),null,null,null)},datascript.query.normalize_pattern_clause=function(r){return cljs.core.truth_(datascript.query.source_QMARK_.call(null,cljs.core.first.call(null,r)))?r:cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"$","$",-1580747756,null)],null),r)},datascript.query.lookup_pattern=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(7===c)return c=e,cljs.core.truth_(e[2])?c[1]=8:c[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===c)return c=e[2],e[2]=c,e[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268);if(1===c)return c=e,cljs.core.truth_(r)?c[1]=2:c[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===c){var t=e[2],c=e;return cljs.core.truth_(t)?c[1]=14:c[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 15===c?(e[1]=18,new cljs.core.Keyword(null,"recur","recur",-437573268)):13===c?(c=e[2],e[2]=c,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===c?(c=r.datascript$core$ISearch$,e[2]=c,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):17===c?(c=e[2],e[2]=c,e[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268)):3===c?(c=cljs.core.native_satisfies_QMARK_.call(null,datascript.core.ISearch,r),e[2]=c,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):12===c?(e[2]=!1,e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===c?(e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268)):19===c?(e[2]=null,e[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===c?(c=cljs.core.native_satisfies_QMARK_.call(null,datascript.core.ISearch,r),e[2]=c,e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(t=!r.cljs$lang$protocol_mask$partition$,c=e,cljs.core.truth_(t)?c[1]=11:c[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===c?(e[2]=null,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===c?(c=datascript.query.lookup_pattern_db.call(null,r,l),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,17,c)):16===c?(c=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,c)):10===c?(c=e[2],e[2]=c,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):18===c?(c=datascript.query.lookup_pattern_coll.call(null,r,l),e[2]=c,e[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(e[2]=!0,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query.collapse_rels=function(r,l){for(var e=r,c=l,t=cljs.core.PersistentVector.EMPTY;;){var n=cljs.core.first.call(null,e);if(!cljs.core.truth_(n))return cljs.core.conj.call(null,t,c);cljs.core.truth_(cljs.core.not_empty.call(null,datascript.query.intersect_keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(c),new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(n))))?(e=cljs.core.next.call(null,e),c=datascript.query.hash_join.call(null,n,c)):(e=cljs.core.next.call(null,e),t=cljs.core.conj.call(null,t,n))}},datascript.query.context_resolve_val=function(r,l){var e=cljs.core.some.call(null,function(r){return cljs.core.contains_QMARK_.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r),l)?r:null},new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r));if(cljs.core.truth_(e)){var c=cljs.core.first.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(e));return cljs.core.truth_(c)?c[new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(e).call(null,l)]:null}return null},datascript.query.rel_contains_attrs_QMARK_=function(r,l){return!cljs.core.empty_QMARK_.call(null,clojure.set.intersection.call(null,cljs.core.set.call(null,l),cljs.core.set.call(null,cljs.core.keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(r)))))},datascript.query.rel_prod_by_attrs=function(r,l){var e=cljs.core.filter.call(null,function(r){return datascript.query.rel_contains_attrs_QMARK_.call(null,r,l)},new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r)),c=cljs.core.reduce.call(null,datascript.query.prod_rel,e);return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185)],null),function(r,l){return function(l){return cljs.core.remove.call(null,cljs.core.set.call(null,r),l)}}(e)),c],null)},datascript.query._call_fn=function(r,l,e,c){return function(t){var n=cljs.core.map.call(null,function(e){if(e instanceof cljs.core.Symbol){var c=cljs.core.get.call(null,new cljs.core.Keyword(null,"sources","sources",-321166424).cljs$core$IFn$_invoke$arity$1(r),e);return cljs.core.truth_(c)?c:t[cljs.core.get.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(l),e)]}return e},c);return cljs.core.apply.call(null,e,n)}},datascript.query.filter_by_pred=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nthnext.call(null,e,1),n=function(){var l=cljs.core.get.call(null,datascript.query.built_ins,c);return cljs.core.truth_(l)?l:datascript.query.context_resolve_val.call(null,r,c)}(),s=datascript.query.rel_prod_by_attrs.call(null,r,cljs.core.filter.call(null,cljs.core.symbol_QMARK_,t)),o=cljs.core.nth.call(null,s,0,null),a=cljs.core.nth.call(null,s,1,null),i=cljs.core.truth_(n)?function(){var r=datascript.query._call_fn.call(null,o,a,n,t);return cljs.core.update_in.call(null,a,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tuples","tuples",-676032639)],null),function(r,l,e,c,t,n,s,o,a){return function(l){return cljs.core.filter.call(null,r,l)}}(r))}():cljs.core.assoc.call(null,a,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tuples","tuples",-676032639)],null),cljs.core.PersistentVector.EMPTY);return cljs.core.update_in.call(null,o,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185)],null),cljs.core.conj,i)},datascript.query.bind_by_fn=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,e,0,null),t=cljs.core.nthnext.call(null,e,1),n=cljs.core.nth.call(null,l,1,null),s=datascript.parser.parse_binding.call(null,n),o=function(){var l=cljs.core.get.call(null,datascript.query.built_ins,c);return cljs.core.truth_(l)?l:datascript.query.context_resolve_val.call(null,r,c)}(),a=datascript.query.rel_prod_by_attrs.call(null,r,cljs.core.filter.call(null,cljs.core.symbol_QMARK_,t)),i=cljs.core.nth.call(null,a,0,null),u=cljs.core.nth.call(null,a,1,null),$=cljs.core.truth_(o)?function(){var r=datascript.query._call_fn.call(null,i,u,o,t),l=cljs.core.not_empty.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(u));return cljs.core.truth_(l)?cljs.core.reduce.call(null,datascript.query.sum_rel,cljs.core.map.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j){return function(r){var l=e.call(null,r),l=datascript.query.in__GT_rel.call(null,a,l)
;return datascript.query.prod_rel.call(null,new datascript.query.Relation(new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(j),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r],null),null,null,null),l)}}(0,0,r,0,0,0,0,0,s,0,0,0,u),l)):datascript.query.prod_rel.call(null,u,datascript.query.empty_rel.call(null,s))}():datascript.query.prod_rel.call(null,cljs.core.assoc.call(null,u,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tuples","tuples",-676032639)],null),cljs.core.PersistentVector.EMPTY),datascript.query.empty_rel.call(null,s));return cljs.core.update_in.call(null,i,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185)],null),cljs.core.conj,$)},datascript.query.rule_QMARK_=function(r,l){return cljs.core.sequential_QMARK_.call(null,l)&&cljs.core.contains_QMARK_.call(null,new cljs.core.Keyword(null,"rules","rules",1198912366).cljs$core$IFn$_invoke$arity$1(r),cljs.core.truth_(datascript.query.source_QMARK_.call(null,cljs.core.first.call(null,l)))?cljs.core.second.call(null,l):cljs.core.first.call(null,l))},datascript.query.rule_seqid=cljs.core.atom.call(null,0),datascript.query.expand_rule=function(r,l,e){e=cljs.core.nth.call(null,r,0,null);var c=cljs.core.nthnext.call(null,r,1),t=cljs.core.swap_BANG_.call(null,datascript.query.rule_seqid,cljs.core.inc);return l=cljs.core.get.call(null,new cljs.core.Keyword(null,"rules","rules",1198912366).cljs$core$IFn$_invoke$arity$1(l),e),function(r,l,e,c,t){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){var c=e;if(cljs.core.chunked_seq_QMARK_.call(null,c)){var s=cljs.core.chunk_first.call(null,c),o=cljs.core.count.call(null,s),a=cljs.core.chunk_buffer.call(null,o);return function(){for(var r=0;;){if(!(r<o))return!0;var l=cljs.core._nth.call(null,s,r),e=l,c=cljs.core.nth.call(null,e,0,null),i=(cljs.core.nth.call(null,c,0,null),cljs.core.nthnext.call(null,c,1)),u=cljs.core.nthnext.call(null,e,1),$=cljs.core.zipmap.call(null,i,t);cljs.core.chunk_append.call(null,a,clojure.walk.postwalk.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f){return function(r){if(cljs.core.truth_(datascript.query.free_var_QMARK_.call(null,r))){var l=s.call(null,r);return cljs.core.truth_(l)?l:cljs.core.symbol.call(null,[cljs.core.str(cljs.core.name.call(null,r)),cljs.core.str("__auto__"),cljs.core.str(y)].join(""))}return r}}(0,0,0,0,0,0,$,0,0,0,0,0,0,0,0,0,n),u)),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,a),r.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,a),null)}var i=cljs.core.first.call(null,c),u=i,$=cljs.core.nth.call(null,u,0,null),j=(cljs.core.nth.call(null,$,0,null),cljs.core.nthnext.call(null,$,1)),_=cljs.core.nthnext.call(null,u,1),p=cljs.core.zipmap.call(null,j,t);return cljs.core.cons.call(null,clojure.walk.postwalk.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$,j,_){return function(r){if(cljs.core.truth_(datascript.query.free_var_QMARK_.call(null,r))){var l=n.call(null,r);return cljs.core.truth_(l)?l:cljs.core.symbol.call(null,[cljs.core.str(cljs.core.name.call(null,r)),cljs.core.str("__auto__"),cljs.core.str(j)].join(""))}return r}}(0,0,0,0,0,p,0,0,0,0,0,0,n),_),r.call(null,cljs.core.rest.call(null,c)))}return null}}}(0,0,e,c),null,null)}}(0,0,c,t).call(null,l)},datascript.query.remove_pairs=function(r,l){var e=cljs.core.remove.call(null,function(r){var l=cljs.core.nth.call(null,r,0,null);return r=cljs.core.nth.call(null,r,1,null),cljs.core._EQ_.call(null,l,r)},cljs.core.map.call(null,cljs.core.vector,r,l));return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.map.call(null,cljs.core.first,e),cljs.core.map.call(null,cljs.core.second,e)],null)},datascript.query.rule_gen_guards=function(r,l){var e=cljs.core.nth.call(null,r,0,null),c=cljs.core.nthnext.call(null,r,1),t=cljs.core.get.call(null,l,e);return function(r,l,e,c){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),n=cljs.core.count.call(null,c),s=cljs.core.chunk_buffer.call(null,n);r:for(var o=0;;){if(!(o<n)){c=!0;break r}var a=cljs.core._nth.call(null,c,o),i=datascript.query.remove_pairs.call(null,t,a),a=cljs.core.nth.call(null,i,0,null),i=cljs.core.nth.call(null,i,1,null);cljs.core.chunk_append.call(null,s,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"-differ?","-differ?",1465687357,null)],null),a,i)],null)),o+=1}return c?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),null)}return s=cljs.core.first.call(null,e),c=datascript.query.remove_pairs.call(null,t,s),s=cljs.core.nth.call(null,c,0,null),c=cljs.core.nth.call(null,c,1,null),cljs.core.cons.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"-differ?","-differ?",1465687357,null)],null),s,c)],null),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,e),null,null)}}(0,0,c).call(null,t)},datascript.query.walk_collect=function(r,l){var e=cljs.core.atom.call(null,cljs.core.PersistentVector.EMPTY);return clojure.walk.postwalk.call(null,function(r){return function(e){return cljs.core.truth_(l.call(null,e))&&cljs.core.swap_BANG_.call(null,r,cljs.core.conj,e),e}}(e),r),cljs.core.deref.call(null,e)},datascript.query.split_guards=function(r,l){var e=function(r){return function(l){return l=cljs.core.nth.call(null,l,0,null),cljs.core.nth.call(null,l,0,null),l=cljs.core.nthnext.call(null,l,1),cljs.core.every_QMARK_.call(null,r,l)}}(cljs.core.set.call(null,datascript.query.walk_collect.call(null,r,datascript.query.free_var_QMARK_)));return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.filter.call(null,e,l),cljs.core.remove.call(null,e,l)],null)},datascript.query.solve_rule=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(7===c){var t=e[7],n=e[8],s=e[9],o=new cljs.core.Keyword(null,"prefix-context","prefix-context",-1269613591).cljs$core$IFn$_invoke$arity$1(n),o=s.call(null,o,t);return cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,10,o)}if(1===c){var a=e[10],i=e[11],s=e[9],u=cljs.core.filter.call(null,datascript.query.free_var_QMARK_,l),$=cljs.core.range.call(null),j=cljs.core.zipmap.call(null,u,$),_=function(){return function(r,l,e,c,t,n,s,o,a,i){return function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e,c,t,n,s,o,a,i,u,$,j){return function(){var c=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e,c,t,n,s,o,a,i,u,$,j){return function(e){var c=e[1];return 1===c?(c=datascript.query.async_reduce.call(null,datascript.query._resolve_clause,r,l),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,2,c)):2===c?(c=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,c)):null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e}}()}(),p=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$){return function(r){return cljs.core.some.call(null,function(r,l,e,c,t,n,s,o,a,i,u,$){return function(r){return cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(r))}}(),new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r))}}()}(),o=cljs.core.List.EMPTY,d=[new cljs.core.Keyword(null,"prefix-clauses","prefix-clauses",1294180028),new cljs.core.Keyword(null,"prefix-context","prefix-context",-1269613591),new cljs.core.Keyword(null,"clauses","clauses",1454841241),new cljs.core.Keyword(null,"used-args","used-args",23596256),new cljs.core.Keyword(null,"pending-guards","pending-guards",-1255527308)],y=cljs.core.PersistentVector.EMPTY,f=new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null),d=cljs.core.PersistentHashMap.fromArrays(d,[y,r,f,cljs.core.PersistentHashMap.EMPTY,cljs.core.PersistentHashMap.EMPTY]),o=cljs.core._conj.call(null,o,d),d=new datascript.query.Relation(j,cljs.core.PersistentVector.EMPTY,null,null,null),h=o,v=d;return e[10]=j,e[12]=h,e[13]=p,e[11]=u,e[14]=v,e[9]=_,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(4===c){var a=e[10],h=e[12],p=(e[15],e[13]),w=e[16],n=(e[17],e[8]),i=e[11],v=e[14],s=e[9],o=function(){return function(l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(l){return cljs.core.not.call(null,datascript.query.rule_QMARK_.call(null,r,l))}}()}(),d=new cljs.core.Keyword(null,"clauses","clauses",1454841241).cljs$core$IFn$_invoke$arity$1(n),d=cljs.core.split_with.call(null,o,d),t=cljs.core.nth.call(null,d,0,null),y=cljs.core.nth.call(null,d,1,null),o=cljs.core.nth.call(null,y,0,null),m=cljs.core.nthnext.call(null,y,1);return e[15]=d,e[7]=t,e[18]=m,e[16]=o,e[17]=y,cljs.core.truth_(null==o)?e[1]=7:e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(15===c)return h=e[12],v=e[14],o=cljs.core.next.call(null,h),e[12]=o,e[14]=v,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===c)return o=e[2],e[2]=o,e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===c)return o=e[2],e[2]=o,e[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(17===c)return o=e[2],e[2]=o,e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===c)return o=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,o);if(12===c){var t=e[7],g=e[19],n=e[8],I=e[20],s=e[9],o=cljs.core.concat.call(null,t,g),d=new cljs.core.Keyword(null,"prefix-context","prefix-context",-1269613591).cljs$core$IFn$_invoke$arity$1(n),d=s.call(null,d,o);return e[20]=o,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,14,d)}if(2===c)return h=e[12],n=e[8],o=cljs.core.first.call(null,h),e[8]=o,cljs.core.truth_(o)?e[1]=4:e[1]=5,new cljs.core.Keyword(null,"recur","recur",-437573268);if(11===c)return h=e[12],v=e[14],d=cljs.core.next.call(null,h),o=v,e[12]=d,e[14]=o,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(9===c)return o=e[2],e[2]=o,e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(5===c)return v=e[14],e[2]=v,e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(14===c){var p=e[13],k=e[21],d=e[2],o=p.call(null,d);return e[21]=d,cljs.core.truth_(o)?e[1]=15:e[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(16===c){var a=e[10],h=e[12],p=(e[22],e[15],e[13]),t=e[7],A=e[23],m=e[18],w=e[16],g=(e[17],e[19]),n=e[8],b=e[24],i=(e[25],e[11]),v=e[14],I=e[20],F=e[26],k=e[21],s=e[9],P=new cljs.core.Keyword(null,"used-args","used-args",23596256).cljs$core$IFn$_invoke$arity$1(n),S=new cljs.core.Keyword(null,"used-args","used-args",23596256).cljs$core$IFn$_invoke$arity$1(n),T=cljs.core.PersistentVector.EMPTY,R=cljs.core.get.call(null,S,b,T),E=cljs.core.conj.call(null,R,A),M=cljs.core.assoc.call(null,P,b,E),x=datascript.query.expand_rule.call(null,w,r,M),o=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y,C,L,G,W,H,U,z,X,J){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y,C,L,G,W,H,U,z,X,J,Z,rr){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),o=cljs.core.chunk_buffer.call(null,t);r:for(var i=0;;){if(!(i<t)){c=!0;break r}var u=cljs.core._nth.call(null,c,i);cljs.core.chunk_append.call(null,o,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"prefix-clauses","prefix-clauses",1294180028),s,new cljs.core.Keyword(null,"prefix-context","prefix-context",-1269613591),f,new cljs.core.Keyword(null,"clauses","clauses",1454841241),datascript.query.concatv.call(null,u,n),new cljs.core.Keyword(null,"used-args","used-args",23596256),a,new cljs.core.Keyword(null,"pending-guards","pending-guards",-1255527308),d],null)),i+=1}return c?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),null)}return o=cljs.core.first.call(null,e),cljs.core.cons.call(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"prefix-clauses","prefix-clauses",1294180028),s,new cljs.core.Keyword(null,"prefix-context","prefix-context",-1269613591),f,new cljs.core.Keyword(null,"clauses","clauses",1454841241),datascript.query.concatv.call(null,o,n),new cljs.core.Keyword(null,"used-args","used-args",23596256),a,new cljs.core.Keyword(null,"pending-guards","pending-guards",-1255527308),d],null),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,c,t,0,s,0,0,0,0,0,0,_,0,d),null,null)}}(0,0,0,m,I,0,M,0,0,0,0,0,0,F,0,k)}().call(null,x),d=cljs.core.next.call(null,h),d=cljs.core.concat.call(null,o,d),o=v;return e[12]=d,e[14]=o,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(10===c)return a=e[10],h=e[12],i=e[11],v=e[14],o=datascript.query._collect.call(null,e[2],i),d=new datascript.query.Relation(a,o,null,null,null),o=cljs.core.next.call(null,h),d=datascript.query.sum_rel.call(null,v,d),e[12]=o,e[14]=d,e[2]=null,e[1]=2,new cljs.core.Keyword(null,"recur","recur",-437573268);if(8===c){var a=e[10],h=e[12],p=(e[22],e[15],e[13]),t=e[7],A=e[23],m=e[18],w=e[16],g=(e[17],e[19]),n=e[8],b=e[24],i=(e[25],e[11]),v=e[14],F=e[26],s=e[9],K=cljs.core.nth.call(null,w,0,null),q=cljs.core.nthnext.call(null,w,1),N=new cljs.core.Keyword(null,"used-args","used-args",23596256).cljs$core$IFn$_invoke$arity$1(n),V=datascript.query.rule_gen_guards.call(null,w,N),B=new cljs.core.Keyword(null,"prefix-clauses","prefix-clauses",1294180028).cljs$core$IFn$_invoke$arity$1(n),O=cljs.core.concat.call(null,B,t),Q=new cljs.core.Keyword(null,"pending-guards","pending-guards",-1255527308).cljs$core$IFn$_invoke$arity$1(n),D=cljs.core.concat.call(null,V,Q),Y=datascript.query.split_guards.call(null,O,D),C=cljs.core.nth.call(null,Y,0,null),L=cljs.core.nth.call(null,Y,1,null),o=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g,I,k,A,b,F,P,S,T,R,E,M,x,K,q,N,V,B,O,Q,D,Y,C,L,G,W,H,U,z){return function(r){return cljs.core._EQ_.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"-differ?","-differ?",1465687357,null))],null))}}()}(),o=cljs.core.some.call(null,o,C);return e[22]=Y,e[23]=q,e[19]=C,e[24]=K,e[25]=V,e[26]=L,cljs.core.truth_(o)?e[1]=11:e[1]=12,new cljs.core.Keyword(null,"recur","recur",-437573268)}return null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query.resolve_pattern_lookup_refs=function(r,l){if(r?cljs.core.truth_(cljs.core.truth_(null)?null:r.datascript$core$IDB$)||(r.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_.call(null,datascript.core.IDB,r)):cljs.core.native_satisfies_QMARK_.call(null,datascript.core.IDB,r)){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),t=cljs.core.nth.call(null,l,2,null),n=cljs.core.nth.call(null,l,3,null);return cljs.core.subvec.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.truth_(datascript.query.lookup_ref_QMARK_.call(null,e))?datascript.core.entid_strict.call(null,r,e):e,c,cljs.core.truth_(function(){if(cljs.core.truth_(t)){var l=datascript.query.attr_QMARK_.call(null,c);return cljs.core.truth_(l)&&(l=datascript.core.ref_QMARK_.call(null,r,c))?datascript.query.lookup_ref_QMARK_.call(null,t):l}return t}())?datascript.core.entid_strict.call(null,r,t):t,cljs.core.truth_(datascript.query.lookup_ref_QMARK_.call(null,n))?datascript.core.entid_strict.call(null,r,n):n],null),0,cljs.core.count.call(null,l))}return l},datascript.query.dynamic_lookup_attrs=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null),t=cljs.core.nth.call(null,l,2,null),n=cljs.core.nth.call(null,l,3,null),s=cljs.core.PersistentHashSet.EMPTY,e=cljs.core.truth_(datascript.query.free_var_QMARK_.call(null,e))?cljs.core.conj.call(null,s,e):s,n=cljs.core.truth_(datascript.query.free_var_QMARK_.call(null,n))?cljs.core.conj.call(null,e,n):e;return cljs.core.truth_(function(){var l=datascript.query.free_var_QMARK_.call(null,t);return cljs.core.truth_(l)?cljs.core.not.call(null,datascript.query.free_var_QMARK_.call(null,c))&&datascript.core.ref_QMARK_.call(null,r,c):l}())?cljs.core.conj.call(null,n,t):n},datascript.query._resolve_clause=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(7===c)return c=e,c[2]=e[2],c[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268);if(20===c)return c=e[2],e[2]=c,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(27===c){var t=e[7],c=datascript.query.dynamic_lookup_attrs.call(null,t,e[8]);return e[2]=c,e[1]=29,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===c){var t=c=cljs.core.PersistentVector.EMPTY_NODE,n=new cljs.core.Symbol(null,"*","*",345799209,null),t=[new cljs.core.PersistentVector(null,2,5,t,[cljs.core.symbol_QMARK_,n],null)],c=new cljs.core.PersistentVector(null,1,5,c,t,null),c=datascript.query.looks_like_QMARK_.call(null,c,l);return cljs.core.truth_(c)?e[1]=2:e[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(24===c)return t=e[7],e[2]=t,e[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268);if(4===c)return c=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,c);if(15===c)return e[2]=null,e[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268);if(21===c)return t=e[7],c=cljs.core.native_satisfies_QMARK_.call(null,datascript.core.IDB,t),e[2]=c,e[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268);if(31===c)return c=e[2],t=datascript.query._STAR_lookup_attrs_STAR_=datascript.query._STAR_lookup_attrs_STAR_,n=datascript.query._STAR_lookup_source_STAR_=datascript.query._STAR_lookup_source_STAR_,e[9]=t,e[10]=n,e[11]=c,cljs.core.async.impl.ioc_helpers.process_exception.call(null,e),new cljs.core.Keyword(null,"recur","recur",-437573268);if(32===c)return c=e[12],cljs.core.async.impl.ioc_helpers.add_exception_frame.call(null,e,null,null,31,30),t=cljs.core.PersistentVector.EMPTY_NODE,n=[new cljs.core.Keyword(null,"rels","rels",1770187185)],t=new cljs.core.PersistentVector(null,1,5,t,n,null),c=cljs.core.update_in.call(null,r,t,datascript.query.collapse_rels,c),e[2]=c,cljs.core.async.impl.ioc_helpers.process_exception.call(null,e),new cljs.core.Keyword(null,"recur","recur",-437573268);if(13===c)return t=e[7],c=cljs.core.native_satisfies_QMARK_.call(null,datascript.core.IDB,t),e[2]=c,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268);if(22===c)return e[2]=!1,e[1]=23,new cljs.core.Keyword(null,"recur","recur",-437573268);if(29===c)return c=datascript.query._STAR_lookup_attrs_STAR_=e[2],e[13]=c,e[2]=null,e[1]=32,new cljs.core.Keyword(null,"recur","recur",-437573268);if(6===c)return c=cljs.core.PersistentVector.EMPTY_NODE,t=[new cljs.core.Symbol(null,"*","*",345799209,null)],c=new cljs.core.PersistentVector(null,1,5,c,t,null),c=datascript.query.looks_like_QMARK_.call(null,c,l),cljs.core.truth_(c)?e[1]=8:e[1]=9,new cljs.core.Keyword(null,"recur","recur",-437573268);if(28===c)return e[2]=null,e[1]=29,new cljs.core.Keyword(null,"recur","recur",-437573268);if(25===c)return e[2]=null,e[1]=26,new cljs.core.Keyword(null,"recur","recur",-437573268);if(17===c)return c=e[2],cljs.core.truth_(c)?e[1]=18:e[1]=19,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===c)return t=c=cljs.core.PersistentVector.EMPTY_NODE,n=new cljs.core.Symbol(null,"*","*",345799209,null),t=new cljs.core.PersistentVector(null,2,5,t,[cljs.core.symbol_QMARK_,n],null),n=new cljs.core.Symbol(null,"_","_",-1201019570,null),c=new cljs.core.PersistentVector(null,2,5,c,[t,n],null),c=datascript.query.looks_like_QMARK_.call(null,c,l),cljs.core.truth_(c)?e[1]=5:e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(12===c)return e[1]=16,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===c)return c=datascript.query.filter_by_pred.call(null,r,l),e[2]=c,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268);if(23===c)return c=e[2],e[2]=c,e[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268);if(19===c)return t=e[7],c=!t.cljs$lang$protocol_mask$partition$,cljs.core.truth_(c)?e[1]=21:e[1]=22,new cljs.core.Keyword(null,"recur","recur",-437573268);if(11===c)return t=e[7],c=e[2],e[12]=c,cljs.core.truth_(t)?e[1]=12:e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268);if(9===c)throw e=[cljs.core.str("No matching clause: "),cljs.core.str(l)].join(""),Error(e);return 5===c?(c=datascript.query.bind_by_fn.call(null,r,l),e[2]=c,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===c?(c=e[14],c=e[2],e[14]=c,cljs.core.truth_(c)?e[1]=24:e[1]=25,new cljs.core.Keyword(null,"recur","recur",-437573268)):26===c?(c=e[14],t=datascript.query._STAR_lookup_source_STAR_=e[2],e[15]=t,cljs.core.truth_(c)?e[1]=27:e[1]=28,new cljs.core.Keyword(null,"recur","recur",-437573268)):16===c?(t=e[7],c=t.datascript$core$IDB$,e[2]=c,e[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268)):30===c?(c=e[2],e[2]=c,e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===c?(c=e[2],e[2]=c,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):18===c?(e[2]=!0,e[1]=20,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(t=datascript.query.normalize_pattern_clause.call(null,l),c=cljs.core.nth.call(null,t,0,null),t=cljs.core.nthnext.call(null,t,1),n=new cljs.core.Keyword(null,"sources","sources",-321166424).cljs$core$IFn$_invoke$arity$1(r),c=cljs.core.get.call(null,n,c),t=datascript.query.resolve_pattern_lookup_refs.call(null,c,t),n=datascript.query.lookup_pattern.call(null,c,t),e[7]=c,e[8]=t,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,11,n)):null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query.resolve_clause=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(1===c)return c=datascript.query.rule_QMARK_.call(null,r,l),cljs.core.truth_(c)?e[1]=2:e[1]=3,new cljs.core.Keyword(null,"recur","recur",-437573268);if(2===c)return c=cljs.core.first.call(null,l),c=datascript.query.source_QMARK_.call(null,c),cljs.core.truth_(c)?e[1]=5:e[1]=6,new cljs.core.Keyword(null,"recur","recur",-437573268);if(3===c)return c=datascript.query._resolve_clause.call(null,r,l),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,9,c);if(4===c)return c=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,c);if(5===c){var c=cljs.core.PersistentVector.EMPTY_NODE,t=cljs.core.first.call(null,l),n=cljs.core.next.call(null,l),c=new cljs.core.PersistentVector(null,2,5,c,[t,n],null);return e[2]=c,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)}return 6===c?(c=cljs.core.PersistentVector.EMPTY_NODE,t=[new cljs.core.Symbol(null,"$","$",-1580747756,null),l],c=new cljs.core.PersistentVector(null,2,5,c,t,null),e[2]=c,e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):7===c?(c=e[2],t=cljs.core.nth.call(null,c,0,null),c=cljs.core.nth.call(null,c,1,null),n=cljs.core.PersistentVector.EMPTY_NODE,t=[new cljs.core.Keyword(null,"sources","sources",-321166424),t],t=new cljs.core.PersistentVector(null,2,5,n,t,null),t=cljs.core.get_in.call(null,r,t),n=[new cljs.core.Symbol(null,"$","$",-1580747756,null)],t=cljs.core.PersistentHashMap.fromArrays(n,[t]),t=cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"sources","sources",-321166424),t),c=datascript.query.solve_rule.call(null,t,c),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,8,c)):8===c?(c=e[2],t=cljs.core.PersistentVector.EMPTY_NODE,n=[new cljs.core.Keyword(null,"rels","rels",1770187185)],t=new cljs.core.PersistentVector(null,1,5,t,n,null),c=cljs.core.update_in.call(null,r,t,datascript.query.collapse_rels,c),e[2]=c,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(c=e[2],e[2]=c,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query._q=function(r,l){return datascript.query.async_reduce.call(null,datascript.query.resolve_clause,r,l)},datascript.query._collect=function(){switch(arguments.length){case 2:return datascript.query._collect.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.query._collect.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.query._collect.cljs$core$IFn$_invoke$arity$2=function(r,l){var e=new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r);return datascript.query._collect.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.shim.make_array.call(null,cljs.core.count.call(null,l))],null),e,l)},datascript.query._collect.cljs$core$IFn$_invoke$arity$3=function(r,l,e){for(;;){var c=cljs.core.first.call(null,l);if(!cljs.core.truth_(c))return r;var t=c,n=cljs.core.select_keys.call(null,new cljs.core.Keyword(null,"attrs","attrs",-2090668713).cljs$core$IFn$_invoke$arity$1(t),e);if(cljs.core.empty_QMARK_.call(null,n))var s=r,o=cljs.core.next.call(null,l),a=e;else var i=cljs.core.to_array.call(null,cljs.core.map.call(null,function(r,l,e,c,t,n){return function(r){return cljs.core.get.call(null,c,r)}}(0,0,0,n),e)),u=cljs.core.count.call(null,e),s=function(){return function(r,l,e,c,t,n,s,o){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i){return function(){for(var e=l;;){var c=cljs.core.seq.call(null,e);if(!c)return null;var t=c,o=cljs.core.first.call(null,t),c=function(r,l,e,c,t,n,s,o,a,i,u,$){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;var l=cljs.core._nth.call(null,c,r);cljs.core.chunk_append.call(null,n,function(){for(var r=cljs.core.aclone.call(null,s),e=0;e<u;){var c=i[e];cljs.core.truth_(c)&&(r[e]=l[c]),e+=1}return r}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}var o=cljs.core.first.call(null,e);return cljs.core.cons.call(null,function(){for(var r=cljs.core.aclone.call(null,s),l=0;l<u;){var e=i[l];cljs.core.truth_(e)&&(r[l]=o[e]),l+=1}return r}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,t,0,0,o,a),null,null)}}(0,0,0,0,o,0,0,n,s)
;if(c=cljs.core.seq.call(null,c.call(null,new cljs.core.Keyword(null,"tuples","tuples",-676032639).cljs$core$IFn$_invoke$arity$1(a))))return cljs.core.concat.call(null,c,r.call(null,cljs.core.rest.call(null,e)));e=cljs.core.rest.call(null,e)}}}(0,0,0,c,t,0,s),null,null)}}(0,0,0,i,u,0,t).call(null,r)}(),o=cljs.core.next.call(null,l),a=e;r=s,l=o,e=a}},datascript.query._collect.cljs$lang$maxFixedArity=3,datascript.query.collect=function(r,l){return cljs.core.set.call(null,cljs.core.map.call(null,cljs.core.vec,datascript.query._collect.call(null,r,l)))},datascript.query.IContextResolve=function(){return{}}(),datascript.query._context_resolve=function(r,l){if(r?r.datascript$query$IContextResolve$_context_resolve$arity$2:r)return r.datascript$query$IContextResolve$_context_resolve$arity$2(r,l);var e;if(!(e=datascript.query._context_resolve[goog.typeOf(null==r?null:r)])&&!(e=datascript.query._context_resolve._))throw cljs.core.missing_protocol.call(null,"IContextResolve.-context-resolve",r);return e.call(null,r,l)},datascript.parser.Variable.prototype.datascript$query$IContextResolve$=!0,datascript.parser.Variable.prototype.datascript$query$IContextResolve$_context_resolve$arity$2=function(r,l){return datascript.query.context_resolve_val.call(null,l,this.symbol)},datascript.parser.SrcVar.prototype.datascript$query$IContextResolve$=!0,datascript.parser.SrcVar.prototype.datascript$query$IContextResolve$_context_resolve$arity$2=function(r,l){return cljs.core.get_in.call(null,l,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"sources","sources",-321166424),this.symbol],null))},datascript.parser.PlainSymbol.prototype.datascript$query$IContextResolve$=!0,datascript.parser.PlainSymbol.prototype.datascript$query$IContextResolve$_context_resolve$arity$2=function(r,l){return cljs.core.get.call(null,datascript.query.built_in_aggregates,this.symbol)},datascript.parser.Constant.prototype.datascript$query$IContextResolve$=!0,datascript.parser.Constant.prototype.datascript$query$IContextResolve$_context_resolve$arity$2=function(r,l){return this.value},datascript.query._aggregate=function(r,l,e){return cljs.core.mapv.call(null,function(r,c,t){if(cljs.core.truth_(datascript.parser.aggregate_QMARK_.call(null,r))){c=datascript.query._context_resolve.call(null,new cljs.core.Keyword(null,"fn","fn",-1175266204).cljs$core$IFn$_invoke$arity$1(r),l),r=cljs.core.map.call(null,function(r){return function(r){return datascript.query._context_resolve.call(null,r,l)}}(),cljs.core.butlast.call(null,new cljs.core.Keyword(null,"args","args",1315556576).cljs$core$IFn$_invoke$arity$1(r)));var n=cljs.core.map.call(null,function(r,l){return function(r){return cljs.core.nth.call(null,r,t)}}(),e);return cljs.core.apply.call(null,c,cljs.core.concat.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[n],null)))}return c},r,cljs.core.first.call(null,e),cljs.core.range.call(null))},datascript.query.idxs_of=function(r,l){return cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.map.call(null,function(l,e){return cljs.core.truth_(r.call(null,l))?e:null},l,cljs.core.range.call(null)))},datascript.query.aggregate=function(r,l,e){var c=datascript.query.idxs_of.call(null,cljs.core.complement.call(null,datascript.parser.aggregate_QMARK_),r),t=function(r){return function(l){return cljs.core.map.call(null,function(r){return function(r){return cljs.core.nth.call(null,l,r)}}(),r)}}(c);return e=cljs.core.group_by.call(null,t,e),function(e,c,t){return function e(c){return new cljs.core.LazySeq(null,function(t,n,s){return function(){for(;;){var t=cljs.core.seq.call(null,c);if(t){if(cljs.core.chunked_seq_QMARK_.call(null,t)){var n=cljs.core.chunk_first.call(null,t),s=cljs.core.count.call(null,n),o=cljs.core.chunk_buffer.call(null,s);r:for(var a=0;;){if(!(a<s)){n=!0;break r}var i=cljs.core._nth.call(null,n,a);cljs.core.nth.call(null,i,0,null),i=cljs.core.nth.call(null,i,1,null),cljs.core.chunk_append.call(null,o,datascript.query._aggregate.call(null,r,l,i)),a+=1}return n?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),e.call(null,cljs.core.chunk_rest.call(null,t))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),null)}return o=cljs.core.first.call(null,t),cljs.core.nth.call(null,o,0,null),o=cljs.core.nth.call(null,o,1,null),cljs.core.cons.call(null,datascript.query._aggregate.call(null,r,l,o),e.call(null,cljs.core.rest.call(null,t)))}return null}}}(),null,null)}}().call(null,e)},datascript.query.IPostProcess=function(){return{}}(),datascript.query._post_process=function(r,l){if(r?r.datascript$query$IPostProcess$_post_process$arity$2:r)return r.datascript$query$IPostProcess$_post_process$arity$2(r,l);var e;if(!(e=datascript.query._post_process[goog.typeOf(null==r?null:r)])&&!(e=datascript.query._post_process._))throw cljs.core.missing_protocol.call(null,"IPostProcess.-post-process",r);return e.call(null,r,l)},datascript.parser.FindRel.prototype.datascript$query$IPostProcess$=!0,datascript.parser.FindRel.prototype.datascript$query$IPostProcess$_post_process$arity$2=function(r,l){return l},datascript.parser.FindColl.prototype.datascript$query$IPostProcess$=!0,datascript.parser.FindColl.prototype.datascript$query$IPostProcess$_post_process$arity$2=function(r,l){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.map.call(null,cljs.core.first),l)},datascript.parser.FindScalar.prototype.datascript$query$IPostProcess$=!0,datascript.parser.FindScalar.prototype.datascript$query$IPostProcess$_post_process$arity$2=function(r,l){return cljs.core.ffirst.call(null,l)},datascript.parser.FindTuple.prototype.datascript$query$IPostProcess$=!0,datascript.parser.FindTuple.prototype.datascript$query$IPostProcess$_post_process$arity$2=function(r,l){return cljs.core.first.call(null,l)},datascript.query.pull=function(r,l,e){return function(r){return function l(e){return new cljs.core.LazySeq(null,function(r){return function(){for(;;){var c=cljs.core.seq.call(null,e);if(c){var t=c;if(cljs.core.chunked_seq_QMARK_.call(null,t)){var n=cljs.core.chunk_first.call(null,t),s=cljs.core.count.call(null,n),o=cljs.core.chunk_buffer.call(null,s);return function(){for(var l=0;;){if(!(l<s))return!0;var e=cljs.core._nth.call(null,n,l);cljs.core.chunk_append.call(null,o,cljs.core.mapv.call(null,function(r,l,e,c,t,n,s,o){return function(r,l){if(cljs.core.truth_(r)){var e=cljs.core.nth.call(null,r,0,null),c=cljs.core.nth.call(null,r,1,null);return datascript.pull_api.pull_spec.call(null,e,c,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null),!1)}return l}}(),r,e)),l+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),l.call(null,cljs.core.chunk_rest.call(null,t))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),null)}var a=cljs.core.first.call(null,t);return cljs.core.cons.call(null,cljs.core.mapv.call(null,function(r,l,e,c){return function(r,l){if(cljs.core.truth_(r)){var e=cljs.core.nth.call(null,r,0,null),c=cljs.core.nth.call(null,r,1,null);return datascript.pull_api.pull_spec.call(null,e,c,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null),!1)}return l}}(),r,a),l.call(null,cljs.core.rest.call(null,t)))}return null}}}(r),null,null)}}(function(){return function r(e){return new cljs.core.LazySeq(null,function(){for(;;){var c=cljs.core.seq.call(null,e);if(c){if(cljs.core.chunked_seq_QMARK_.call(null,c)){var t=cljs.core.chunk_first.call(null,c),n=cljs.core.count.call(null,t),s=cljs.core.chunk_buffer.call(null,n);r:for(var o=0;;){if(!(o<n)){t=!0;break r}var a=cljs.core._nth.call(null,t,o);cljs.core.chunk_append.call(null,s,cljs.core.truth_(datascript.parser.pull_QMARK_.call(null,a))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.query._context_resolve.call(null,new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(a),l),datascript.pull_parser.parse_pull.call(null,datascript.query._context_resolve.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(a),l))],null):null),o+=1}return t?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),r.call(null,cljs.core.chunk_rest.call(null,c))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,s),null)}return s=cljs.core.first.call(null,c),cljs.core.cons.call(null,cljs.core.truth_(datascript.parser.pull_QMARK_.call(null,s))?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.query._context_resolve.call(null,new cljs.core.Keyword(null,"source","source",-433931539).cljs$core$IFn$_invoke$arity$1(s),l),datascript.pull_parser.parse_pull.call(null,datascript.query._context_resolve.call(null,new cljs.core.Keyword(null,"pattern","pattern",242135423).cljs$core$IFn$_invoke$arity$1(s),l))],null):null,r.call(null,cljs.core.rest.call(null,c)))}return null}},null,null)}.call(null,r)}()).call(null,e)},datascript.query.query_cache=cljs.core.volatile_BANG_.call(null,datascript.lru.lru.call(null,datascript.query.lru_cache_size)),datascript.query.memoized_parse_query=function(r){var l=cljs.core.get.call(null,cljs.core.deref.call(null,datascript.query.query_cache),r,null);return cljs.core.truth_(l)?l:(l=datascript.parser.parse_query.call(null,r),cljs.core._vreset_BANG_.call(null,datascript.query.query_cache,cljs.core.assoc.call(null,cljs.core._deref.call(null,datascript.query.query_cache),r,l)),l)},datascript.query.q=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return datascript.query.q.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},datascript.query.q.cljs$core$IFn$_invoke$arity$variadic=function(r,l){var e=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(e){return function(){var c=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(e){return function(e){var c=e[1];if(7===c){var t=e[7];return e[2]=t,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(1===c){var n=(e[8],e[9],e[10]),s=e[11],o=e[12],a=datascript.query.memoized_parse_query.call(null,r),i=new cljs.core.Keyword(null,"find","find",496279456).cljs$core$IFn$_invoke$arity$1(a),u=datascript.parser.find_elements.call(null,i),$=datascript.parser.find_vars.call(null,i),j=cljs.core.count.call(null,u),_=new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(a),p=cljs.core.map.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),_),d=cljs.core.concat.call(null,$,p),p=cljs.core.sequential_QMARK_.call(null,r);return e[13]=j,e[8]=_,e[9]=$,e[10]=u,e[14]=d,e[11]=i,e[12]=a,e[1]=p?2:3,new cljs.core.Keyword(null,"recur","recur",-437573268)}if(4===c){var y=(e[15],e[16]),f=e[17],o=e[12],a=e[2],i=new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(a),u=new datascript.query.Context(cljs.core.PersistentVector.EMPTY,cljs.core.PersistentHashMap.EMPTY,cljs.core.PersistentHashMap.EMPTY,null,null,null),$=new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(o),u=datascript.query.resolve_ins.call(null,u,$,l),$=datascript.query._q.call(null,u,i);return e[15]=i,e[16]=a,e[17]=u,cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,e,5,$)}return 15===c?(a=e[18],s=e[11],a=datascript.query._post_process.call(null,s,a),e[2]=a,e[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268)):13===c?(a=e[19],e[2]=a,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268)):6===c?(j=e[13],e[8],e[9],e[15],n=e[10],t=e[7],y=e[16],d=e[14],s=e[11],f=e[17],o=e[12],a=function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g,I,k){return function(r){return cljs.core.vec.call(null,cljs.core.subvec.call(null,r,0,s))}}(0,0,0,0,0,0,j)}(),a=cljs.core.mapv.call(null,a,t),e[2]=a,e[1]=8,new cljs.core.Keyword(null,"recur","recur",-437573268)):17===c?(a=e[2],cljs.core.async.impl.ioc_helpers.return_chan.call(null,e,a)):3===c?(e[2]=r,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):12===c?(a=e[19],n=e[10],f=e[17],a=datascript.query.pull.call(null,n,f,a),e[2]=a,e[1]=14,new cljs.core.Keyword(null,"recur","recur",-437573268)):2===c?(a=datascript.parser.query__GT_map.call(null,r),e[2]=a,e[1]=4,new cljs.core.Keyword(null,"recur","recur",-437573268)):11===c?(n=e[10],a=e[2],i=cljs.core.some.call(null,datascript.parser.pull_QMARK_,n),e[19]=a,cljs.core.truth_(i)?e[1]=12:e[1]=13,new cljs.core.Keyword(null,"recur","recur",-437573268)):9===c?(a=e[20],n=e[10],f=e[17],a=datascript.query.aggregate.call(null,n,f,a),e[2]=a,e[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):5===c?(y=e[16],d=e[14],t=datascript.query.collect.call(null,e[2],d),a=new cljs.core.Keyword(null,"with","with",-1536296876).cljs$core$IFn$_invoke$arity$1(y),e[7]=t,cljs.core.truth_(a)?e[1]=6:e[1]=7,new cljs.core.Keyword(null,"recur","recur",-437573268)):14===c?(a=e[2],e[18]=a,e[1]=15,new cljs.core.Keyword(null,"recur","recur",-437573268)):16===c?(a=e[18],e[2]=a,e[1]=17,new cljs.core.Keyword(null,"recur","recur",-437573268)):10===c?(a=e[20],e[2]=a,e[1]=11,new cljs.core.Keyword(null,"recur","recur",-437573268)):8===c?(n=e[10],a=e[2],i=cljs.core.some.call(null,datascript.parser.aggregate_QMARK_,n),e[20]=a,cljs.core.truth_(i)?e[1]=9:e[1]=10,new cljs.core.Keyword(null,"recur","recur",-437573268)):null}}())}(),t=function(){var r=c.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=e,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,t)}}(e)),e},datascript.query.q.cljs$lang$maxFixedArity=1,datascript.query.q.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),datascript.query.q.cljs$core$IFn$_invoke$arity$variadic(l,r)},datascript.q=datascript.query.q,datascript.entity=datascript.impl.entity.entity,datascript.entity_db=function(r){return r.db},datascript.datom=datascript.core.datom,datascript.pull=datascript.pull_api.pull,datascript.pull_many=datascript.pull_api.pull_many,datascript.touch=datascript.impl.entity.touch,datascript.empty_db=datascript.core.empty_db,datascript.init_db=datascript.core.init_db,datascript.datom_QMARK_=datascript.core.datom_QMARK_,datascript.db_QMARK_=datascript.core.db_QMARK_,datascript.tx0=datascript.core.tx0,datascript.is_filtered=function(r){return r instanceof datascript.core.FilteredDB},datascript.filter=function(r,l){if(cljs.core.truth_(datascript.is_filtered.call(null,r))){var e=r.unfiltered_db;return new datascript.core.FilteredDB(e,function(r,e){return function(c){var t=l.call(null,e,c);return cljs.core.truth_(t)?r.pred.call(null,c):t}}(r,e),null,null,null)}return new datascript.core.FilteredDB(r,function(e){return l.call(null,r,e)},null,null,null)},datascript.with$=function(){switch(arguments.length){case 2:return datascript.with$.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.with$.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.with$.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.with$.call(null,r,l,null)},datascript.with$.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(cljs.core.truth_(datascript.is_filtered.call(null,r)))throw cljs.core.ex_info.call(null,"Filtered DB cannot be modified",new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("transaction","filtered","transaction/filtered",1699706605)],null));return datascript.core.transact_tx_data.call(null,datascript.core.map__GT_TxReport.call(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"db-before","db-before",-553691536),r,new cljs.core.Keyword(null,"db-after","db-after",-571884666),r,new cljs.core.Keyword(null,"tx-data","tx-data",934159761),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"tempids","tempids",1767509089),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194),e],null)),l)},datascript.with$.cljs$lang$maxFixedArity=3,datascript.db_with=function(r,l){return new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(datascript.with$.call(null,r,l))},datascript.datoms=function(){switch(arguments.length){case 2:return datascript.datoms.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.datoms.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return datascript.datoms.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return datascript.datoms.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return datascript.datoms.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.datoms.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.core._datoms.call(null,r,l,cljs.core.PersistentVector.EMPTY)},datascript.datoms.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return datascript.core._datoms.call(null,r,l,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null))},datascript.datoms.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return datascript.core._datoms.call(null,r,l,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c],null))},datascript.datoms.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return datascript.core._datoms.call(null,r,l,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c,t],null))},datascript.datoms.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return datascript.core._datoms.call(null,r,l,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c,t,n],null))},datascript.datoms.cljs$lang$maxFixedArity=6,datascript.seek_datoms=function(){switch(arguments.length){case 2:return datascript.seek_datoms.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.seek_datoms.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);case 4:return datascript.seek_datoms.cljs$core$IFn$_invoke$arity$4(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return datascript.seek_datoms.cljs$core$IFn$_invoke$arity$5(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return datascript.seek_datoms.cljs$core$IFn$_invoke$arity$6(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.seek_datoms.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.core._seek_datoms.call(null,r,l,cljs.core.PersistentVector.EMPTY)},datascript.seek_datoms.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return datascript.core._seek_datoms.call(null,r,l,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null))},datascript.seek_datoms.cljs$core$IFn$_invoke$arity$4=function(r,l,e,c){return datascript.core._seek_datoms.call(null,r,l,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c],null))},datascript.seek_datoms.cljs$core$IFn$_invoke$arity$5=function(r,l,e,c,t){return datascript.core._seek_datoms.call(null,r,l,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c,t],null))},datascript.seek_datoms.cljs$core$IFn$_invoke$arity$6=function(r,l,e,c,t,n){return datascript.core._seek_datoms.call(null,r,l,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c,t,n],null))},datascript.seek_datoms.cljs$lang$maxFixedArity=6,datascript.index_range=datascript.core._index_range,datascript.entid=datascript.core.entid,datascript.create_conn=function(){switch(arguments.length){case 0:return datascript.create_conn.cljs$core$IFn$_invoke$arity$0();case 1:return datascript.create_conn.cljs$core$IFn$_invoke$arity$1(arguments[0]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.create_conn.cljs$core$IFn$_invoke$arity$0=function(){return datascript.create_conn.call(null,datascript.core.default_schema)},datascript.create_conn.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core.atom.call(null,datascript.empty_db.call(null,r),new cljs.core.Keyword(null,"meta","meta",1499536964),new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"listeners","listeners",394544445),cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY)],null))},datascript.create_conn.cljs$lang$maxFixedArity=1,datascript._transact_BANG_=function(r,l,e){var c=cljs.core.atom.call(null,null);return cljs.core.swap_BANG_.call(null,r,function(r){return function(c){return c=datascript.with$.call(null,c,l,e),cljs.core.reset_BANG_.call(null,r,c),new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(c)}}(c)),cljs.core.deref.call(null,c)},datascript.transact_BANG_=function(){switch(arguments.length){case 2:return datascript.transact_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.transact_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.transact_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.transact_BANG_.call(null,r,l,null)},datascript.transact_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){l=datascript._transact_BANG_.call(null,r,l,e),r=cljs.core.seq.call(null,cljs.core.deref.call(null,new cljs.core.Keyword(null,"listeners","listeners",394544445).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,r)))),e=null;for(var c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t);cljs.core.nth.call(null,n,0,null),cljs.core.nth.call(null,n,1,null).call(null,l),t+=1}else{if(!(r=cljs.core.seq.call(null,r)))break;e=r,cljs.core.chunked_seq_QMARK_.call(null,e)?(r=cljs.core.chunk_first.call(null,e),t=cljs.core.chunk_rest.call(null,e),e=r,c=cljs.core.count.call(null,r),r=t):(r=cljs.core.first.call(null,e),cljs.core.nth.call(null,r,0,null),cljs.core.nth.call(null,r,1,null).call(null,l),r=cljs.core.next.call(null,e),e=null,c=0),t=0}return l},datascript.transact_BANG_.cljs$lang$maxFixedArity=3,datascript.listen_BANG_=function(){switch(arguments.length){case 2:return datascript.listen_BANG_.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.listen_BANG_.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.listen_BANG_.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.listen_BANG_.call(null,r,cljs.core.rand.call(null),l)},datascript.listen_BANG_.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return cljs.core.swap_BANG_.call(null,new cljs.core.Keyword(null,"listeners","listeners",394544445).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,r)),cljs.core.assoc,l,e),l},datascript.listen_BANG_.cljs$lang$maxFixedArity=3,datascript.unlisten_BANG_=function(r,l){return cljs.core.swap_BANG_.call(null,new cljs.core.Keyword(null,"listeners","listeners",394544445).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,r)),cljs.core.dissoc,l)},datascript.data_readers=new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Symbol("datascript","Datom","datascript/Datom",-901340080,null),datascript.core.datom_from_reader,new cljs.core.Symbol("datascript","DB","datascript/DB",-487332776,null),datascript.core.db_from_reader],null);for(var seq__25414_25420=cljs.core.seq.call(null,datascript.data_readers),chunk__25415_25421=null,count__25416_25422=0,i__25417_25423=0;;)if(i__25417_25423<count__25416_25422){var vec__25418_25424=cljs.core._nth.call(null,chunk__25415_25421,i__25417_25423),tag_25425=cljs.core.nth.call(null,vec__25418_25424,0,null),cb_25426=cljs.core.nth.call(null,vec__25418_25424,1,null);cljs.reader.register_tag_parser_BANG_.call(null,tag_25425,cb_25426);var G__25427=seq__25414_25420,G__25428=chunk__25415_25421,G__25429=count__25416_25422,G__25430=i__25417_25423+1,seq__25414_25420=G__25427,chunk__25415_25421=G__25428,count__25416_25422=G__25429,i__25417_25423=G__25430}else{var temp__4425__auto___25431=cljs.core.seq.call(null,seq__25414_25420);if(!temp__4425__auto___25431)break;var seq__25414_25432__$1=temp__4425__auto___25431;if(cljs.core.chunked_seq_QMARK_.call(null,seq__25414_25432__$1))var c__18089__auto___25433=cljs.core.chunk_first.call(null,seq__25414_25432__$1),G__25434=cljs.core.chunk_rest.call(null,seq__25414_25432__$1),G__25435=c__18089__auto___25433,G__25436=cljs.core.count.call(null,c__18089__auto___25433),G__25437=0,seq__25414_25420=G__25434,chunk__25415_25421=G__25435,count__25416_25422=G__25436,i__25417_25423=G__25437;else{var vec__25419_25438=cljs.core.first.call(null,seq__25414_25432__$1),tag_25439=cljs.core.nth.call(null,vec__25419_25438,0,null),cb_25440=cljs.core.nth.call(null,vec__25419_25438,1,null);cljs.reader.register_tag_parser_BANG_.call(null,tag_25439,cb_25440);var G__25441=cljs.core.next.call(null,seq__25414_25432__$1),G__25442=null,G__25443=0,G__25444=0,seq__25414_25420=G__25441,chunk__25415_25421=G__25442,count__25416_25422=G__25443,i__25417_25423=G__25444}}if(datascript.last_tempid=cljs.core.atom.call(null,-1e6),datascript.tempid=function(){switch(arguments.length){case 1:return datascript.tempid.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return datascript.tempid.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.tempid.cljs$core$IFn$_invoke$arity$1=function(r){return cljs.core._EQ_.call(null,r,new cljs.core.Keyword("db.part","tx","db.part/tx",-1480923213))?new cljs.core.Keyword("db","current-tx","db/current-tx",1600722132):cljs.core.swap_BANG_.call(null,datascript.last_tempid,cljs.core.dec)},datascript.tempid.cljs$core$IFn$_invoke$arity$2=function(r,l){return cljs.core._EQ_.call(null,r,new cljs.core.Keyword("db.part","tx","db.part/tx",-1480923213))?new cljs.core.Keyword("db","current-tx","db/current-tx",1600722132):l},datascript.tempid.cljs$lang$maxFixedArity=2,datascript.resolve_tempid=function(r,l,e){return cljs.core.get.call(null,l,e)},datascript.db=cljs.core.deref,datascript.transact=function(){switch(arguments.length){case 2:return datascript.transact.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.transact.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.transact.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.transact.call(null,r,l,null)},datascript.transact.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=datascript.transact_BANG_.call(null,r,l,e);return void 0===datascript.t25450&&(datascript.t25450=function(r,l,e,c,t){this.conn=r,this.tx_data=l,this.tx_meta=e,this.res=c,this.meta25451=t,this.cljs$lang$protocol_mask$partition0$=491520,this.cljs$lang$protocol_mask$partition1$=1},datascript.t25450.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r){return function(r,l){return new datascript.t25450(this.conn,this.tx_data,this.tx_meta,this.res,l)}}(),datascript.t25450.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return function(r){return this.meta25451}}(),datascript.t25450.prototype.cljs$core$IDeref$_deref$arity$1=function(r){return function(r){return this.res}}(),datascript.t25450.prototype.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3=function(r){return function(r,l,e){return this.res}}(),datascript.t25450.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(r){return function(r){return!0}}(),datascript.t25450.getBasis=function(r){return function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"conn","conn",1918841190,null),new cljs.core.Symbol(null,"tx-data","tx-data",-1720276008,null),new cljs.core.Symbol(null,"tx-meta","tx-meta",-1495152575,null),new cljs.core.Symbol(null,"res","res",245523648,null),new cljs.core.Symbol(null,"meta25451","meta25451",1167554147,null)],null)}}(),datascript.t25450.cljs$lang$type=!0,datascript.t25450.cljs$lang$ctorStr="datascript/t25450",datascript.t25450.cljs$lang$ctorPrWriter=function(r){return function(r,l,e){return cljs.core._write.call(null,l,"datascript/t25450")}}(),datascript.__GT_t25450=function(r){return function(r,l,e,c,t){return new datascript.t25450(r,l,e,c,t)}}()),new datascript.t25450(r,l,e,c,cljs.core.PersistentArrayMap.EMPTY)},datascript.transact.cljs$lang$maxFixedArity=3,datascript.future_call=function r(l){var e=cljs.core.atom.call(null,null),c=cljs.core.atom.call(null,!1);return setTimeout(function(r,e){return function(){return cljs.core.reset_BANG_.call(null,r,l.call(null)),cljs.core.reset_BANG_.call(null,e,!0)}}(e,c),0),void 0===datascript.t25457&&(datascript.t25457=function(r,l,e,c,t){this.future_call=r,this.f=l,this.res=e,this.realized=c,this.meta25458=t,this.cljs$lang$protocol_mask$partition0$=491520,this.cljs$lang$protocol_mask$partition1$=1},datascript.t25457.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return function(r,l){return new datascript.t25457(this.future_call,this.f,this.res,this.realized,l)}}(),datascript.t25457.prototype.cljs$core$IMeta$_meta$arity$1=function(r,l){return function(r){return this.meta25458}}(),datascript.t25457.prototype.cljs$core$IDeref$_deref$arity$1=function(r,l){return function(r){return cljs.core.deref.call(null,this.res)}}(),datascript.t25457.prototype.cljs$core$IDerefWithTimeout$_deref_with_timeout$arity$3=function(r,l){return function(r,l,e){return cljs.core.truth_(cljs.core.deref.call(null,this.realized))?cljs.core.deref.call(null,this.res):e}}(),datascript.t25457.prototype.cljs$core$IPending$_realized_QMARK_$arity$1=function(r,l){return function(r){return cljs.core.deref.call(null,this.realized)}}(),datascript.t25457.getBasis=function(r,l){return function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"future-call","future-call",96010083,null),new cljs.core.Symbol(null,"f","f",43394975,null),new cljs.core.Symbol(null,"res","res",245523648,null),new cljs.core.Symbol(null,"realized","realized",1487343404,null),new cljs.core.Symbol(null,"meta25458","meta25458",-2011661810,null)],null)}}(),datascript.t25457.cljs$lang$type=!0,datascript.t25457.cljs$lang$ctorStr="datascript/t25457",datascript.t25457.cljs$lang$ctorPrWriter=function(r,l){return function(r,l,e){return cljs.core._write.call(null,l,"datascript/t25457")}}(),datascript.__GT_t25457=function(r,l){return function(r,l,e,c,t){
return new datascript.t25457(r,l,e,c,t)}}()),new datascript.t25457(r,l,e,c,cljs.core.PersistentArrayMap.EMPTY)},datascript.transact_async=function(){switch(arguments.length){case 2:return datascript.transact_async.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.transact_async.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.transact_async.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.transact_async.call(null,r,l,null)},datascript.transact_async.cljs$core$IFn$_invoke$arity$3=function(r,l,e){return datascript.future_call.call(null,function(){return datascript.transact_BANG_.call(null,r,l,e)})},datascript.transact_async.cljs$lang$maxFixedArity=3,datascript.rand_bits=function(r){return cljs.core.rand_int.call(null,1<<r)},datascript.to_hex_string=function(r,l){var e=r.toString(16),c=cljs.core.count.call(null,e);return c>l?cljs.core.subs.call(null,e,0,l):c<l?[cljs.core.str(cljs.core.apply.call(null,cljs.core.str,cljs.core.repeat.call(null,l-c,"0"))),cljs.core.str(e)].join(""):e},datascript.squuid=function(){return cljs.core.uuid.call(null,[cljs.core.str(datascript.to_hex_string.call(null,(new Date).getTime()/1e3|0,8)),cljs.core.str("-"),cljs.core.str(datascript.to_hex_string.call(null,datascript.rand_bits.call(null,16),4)),cljs.core.str("-"),cljs.core.str(datascript.to_hex_string.call(null,4095&datascript.rand_bits.call(null,16)|16384,4)),cljs.core.str("-"),cljs.core.str(datascript.to_hex_string.call(null,16383&datascript.rand_bits.call(null,16)|32768,4)),cljs.core.str("-"),cljs.core.str(datascript.to_hex_string.call(null,datascript.rand_bits.call(null,16),4)),cljs.core.str(datascript.to_hex_string.call(null,datascript.rand_bits.call(null,16),4)),cljs.core.str(datascript.to_hex_string.call(null,datascript.rand_bits.call(null,16),4))].join(""))},datascript.squuid_time_millis=function(r){return 1e3*parseInt(cljs.core.subs.call(null,""+cljs.core.str(r),0,8),16)},datascript.set_indexes=function(r,l){return datascript.core.map__GT_DB.call(null,new cljs.core.PersistentArrayMap(null,7,[new cljs.core.Keyword(null,"schema","schema",-1582001791),null,new cljs.core.Keyword(null,"eavt","eavt",-666437073),r,new cljs.core.Keyword(null,"aevt","aevt",-585148059),null,new cljs.core.Keyword(null,"avet","avet",1383857032),l,new cljs.core.Keyword(null,"max-eid","max-eid",2134868075),0,new cljs.core.Keyword(null,"max-tx","max-tx",1119558339),0,new cljs.core.Keyword(null,"rschema","rschema",-1196134054),cljs.core.PersistentArrayMap.EMPTY],null))},datascript.perf={},datascript.perf.enabled_QMARK_=!1,datascript.perf.debug_QMARK_=!1,datascript.perf._STAR_context_STAR_=null,datascript.perf._STAR_warmup_t_STAR_=500,datascript.perf._STAR_bench_t_STAR_=1e3,datascript.perf._STAR_step_STAR_=10,datascript.perf._STAR_repeats_STAR_=5,cljs.core.enable_console_print_BANG_.call(null),datascript.perf.percentile=function(r,l){return cljs.core.nth.call(null,cljs.core.sort.call(null,r),function(){var e=cljs.core.count.call(null,r)-1,c=l*cljs.core.count.call(null,r)|0;return e<c?e:c}())},datascript.perf.to_fixed=function(r,l){return r.toFixed(l)},datascript.perf.round=function(r){return 1<r?datascript.perf.to_fixed.call(null,r,1):.1<r?datascript.perf.to_fixed.call(null,r,2):.001<r?datascript.perf.to_fixed.call(null,r,4):1e-6<r?datascript.perf.to_fixed.call(null,r,7):r},datascript.perf.pad=function(r,l){var e=""+cljs.core.str(r);return cljs.core.count.call(null,e)<=l?[cljs.core.str(cljs.core.apply.call(null,cljs.core.str,cljs.core.repeat.call(null,l-cljs.core.count.call(null,e)," "))),cljs.core.str(e)].join(""):e},datascript.perf.format_number=function(r){return datascript.perf.pad.call(null,datascript.perf.round.call(null,r),6)},datascript.perf.format_time=function(r){return[cljs.core.str("[ "),cljs.core.str(datascript.perf.format_number.call(null,r)),cljs.core.str(" ms ]")].join("")},datascript.perf.now=function(){return Date.now()},datascript.perf.inst=function(){return new Date},datascript.perf.Frame=function(r,l,e,c,t,n,s,o){this.parent=r,this.start=l,this.end=e,this.message=c,this.children=t,this.__meta=n,this.__extmap=s,this.__hash=o,this.cljs$lang$protocol_mask$partition0$=2229667594,this.cljs$lang$protocol_mask$partition1$=8192},datascript.perf.Frame.prototype.cljs$core$ILookup$_lookup$arity$2=function(r,l){return cljs.core._lookup.call(null,this,l,null)},datascript.perf.Frame.prototype.cljs$core$ILookup$_lookup$arity$3=function(r,l,e){switch(l instanceof cljs.core.Keyword?l.fqn:null){case"parent":return this.parent;case"start":return this.start;case"end":return this.end;case"message":return this.message;case"children":return this.children;default:return cljs.core.get.call(null,this.__extmap,l,e)}},datascript.perf.Frame.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return r=function(r){return function(r){return cljs.core.pr_sequential_writer.call(null,l,cljs.core.pr_writer,""," ","",e,r)}}(),cljs.core.pr_sequential_writer.call(null,l,r,"#datascript.perf.Frame{",", ","}",e,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"parent","parent",-878878779),this.parent],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"start","start",-355208981),this.start],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"end","end",-268185958),this.end],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"message","message",-406056002),this.message],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"children","children",-940561982),this.children],null)],null),this.__extmap))},datascript.perf.Frame.prototype.cljs$core$IMeta$_meta$arity$1=function(r){return this.__meta},datascript.perf.Frame.prototype.cljs$core$ICloneable$_clone$arity$1=function(r){return new datascript.perf.Frame(this.parent,this.start,this.end,this.message,this.children,this.__meta,this.__extmap,this.__hash)},datascript.perf.Frame.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 5+cljs.core.count.call(null,this.__extmap)},datascript.perf.Frame.prototype.cljs$core$IHash$_hash$arity$1=function(r){return r=this.__hash,null!=r?r:this.__hash=r=cljs.core.hash_imap.call(null,this)},datascript.perf.Frame.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return!!cljs.core.truth_(function(){if(cljs.core.truth_(l)){var r=e.constructor===l.constructor;return r?cljs.core.equiv_map.call(null,e,l):r}return l}())},datascript.perf.Frame.prototype.cljs$core$IMap$_dissoc$arity$2=function(r,l){return cljs.core.contains_QMARK_.call(null,new cljs.core.PersistentHashSet(null,new cljs.core.PersistentArrayMap(null,5,[new cljs.core.Keyword(null,"children","children",-940561982),null,new cljs.core.Keyword(null,"parent","parent",-878878779),null,new cljs.core.Keyword(null,"start","start",-355208981),null,new cljs.core.Keyword(null,"end","end",-268185958),null,new cljs.core.Keyword(null,"message","message",-406056002),null],null),null),l)?cljs.core.dissoc.call(null,cljs.core.with_meta.call(null,cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,this),this.__meta),l):new datascript.perf.Frame(this.parent,this.start,this.end,this.message,this.children,this.__meta,cljs.core.not_empty.call(null,cljs.core.dissoc.call(null,this.__extmap,l)),null)},datascript.perf.Frame.prototype.cljs$core$IAssociative$_assoc$arity$3=function(r,l,e){return r=cljs.core.keyword_identical_QMARK_,cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"parent","parent",-878878779),l))?new datascript.perf.Frame(e,this.start,this.end,this.message,this.children,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"start","start",-355208981),l))?new datascript.perf.Frame(this.parent,e,this.end,this.message,this.children,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"end","end",-268185958),l))?new datascript.perf.Frame(this.parent,this.start,e,this.message,this.children,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"message","message",-406056002),l))?new datascript.perf.Frame(this.parent,this.start,this.end,e,this.children,this.__meta,this.__extmap,null):cljs.core.truth_(r.call(null,new cljs.core.Keyword(null,"children","children",-940561982),l))?new datascript.perf.Frame(this.parent,this.start,this.end,this.message,e,this.__meta,this.__extmap,null):new datascript.perf.Frame(this.parent,this.start,this.end,this.message,this.children,this.__meta,cljs.core.assoc.call(null,this.__extmap,l,e),null)},datascript.perf.Frame.prototype.cljs$core$ISeqable$_seq$arity$1=function(r){return cljs.core.seq.call(null,cljs.core.concat.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"parent","parent",-878878779),this.parent],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"start","start",-355208981),this.start],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"end","end",-268185958),this.end],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"message","message",-406056002),this.message],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"children","children",-940561982),this.children],null)],null),this.__extmap))},datascript.perf.Frame.prototype.cljs$core$IWithMeta$_with_meta$arity$2=function(r,l){return new datascript.perf.Frame(this.parent,this.start,this.end,this.message,this.children,l,this.__extmap,this.__hash)},datascript.perf.Frame.prototype.cljs$core$ICollection$_conj$arity$2=function(r,l){return cljs.core.vector_QMARK_.call(null,l)?cljs.core._assoc.call(null,this,cljs.core._nth.call(null,l,0),cljs.core._nth.call(null,l,1)):cljs.core.reduce.call(null,cljs.core._conj,this,l)},datascript.perf.Frame.getBasis=function(){return new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"parent","parent",761652748,null),new cljs.core.Symbol(null,"start","start",1285322546,null),new cljs.core.Symbol(null,"end","end",1372345569,null),new cljs.core.Symbol(null,"message","message",1234475525,null),new cljs.core.Symbol(null,"children","children",699969545,null)],null)},datascript.perf.Frame.cljs$lang$type=!0,datascript.perf.Frame.cljs$lang$ctorPrSeq=function(r){return cljs.core._conj.call(null,cljs.core.List.EMPTY,"datascript.perf/Frame")},datascript.perf.Frame.cljs$lang$ctorPrWriter=function(r,l){return cljs.core._write.call(null,l,"datascript.perf/Frame")},datascript.perf.__GT_Frame=function(r,l,e,c,t){return new datascript.perf.Frame(r,l,e,c,t,null,null,null)},datascript.perf.map__GT_Frame=function(r){return new datascript.perf.Frame(new cljs.core.Keyword(null,"parent","parent",-878878779).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"start","start",-355208981).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"end","end",-268185958).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"message","message",-406056002).cljs$core$IFn$_invoke$arity$1(r),new cljs.core.Keyword(null,"children","children",-940561982).cljs$core$IFn$_invoke$arity$1(r),null,cljs.core.dissoc.call(null,r,new cljs.core.Keyword(null,"parent","parent",-878878779),new cljs.core.Keyword(null,"start","start",-355208981),new cljs.core.Keyword(null,"end","end",-268185958),new cljs.core.Keyword(null,"message","message",-406056002),new cljs.core.Keyword(null,"children","children",-940561982)),null)},datascript.perf.current_frame=cljs.core.volatile_BANG_.call(null,null),datascript.perf.println_frame=function r(l,e){var c=cljs.core.apply.call(null,cljs.core.str,cljs.core.apply.call(null,cljs.core.str,cljs.core.repeat.call(null,e,"  ")),cljs.core.interpose.call(null," ",new cljs.core.Keyword(null,"message","message",-406056002).cljs$core$IFn$_invoke$arity$1(l)));cljs.core.truth_(new cljs.core.Keyword(null,"start","start",-355208981).cljs$core$IFn$_invoke$arity$1(l))?cljs.core.println.call(null,datascript.perf.format_time.call(null,new cljs.core.Keyword(null,"end","end",-268185958).cljs$core$IFn$_invoke$arity$1(l)-new cljs.core.Keyword(null,"start","start",-355208981).cljs$core$IFn$_invoke$arity$1(l)),c):cljs.core.println.call(null,"[           ]",c);for(var c=cljs.core.seq.call(null,new cljs.core.Keyword(null,"children","children",-940561982).cljs$core$IFn$_invoke$arity$1(l)),t=null,n=0,s=0;;)if(s<n){var o=cljs.core._nth.call(null,t,s);r.call(null,o,e+1),s+=1}else{if(!(c=cljs.core.seq.call(null,c)))return null;t=c,cljs.core.chunked_seq_QMARK_.call(null,t)?(c=cljs.core.chunk_first.call(null,t),n=cljs.core.chunk_rest.call(null,t),t=c,o=cljs.core.count.call(null,c),c=n,n=o):(o=cljs.core.first.call(null,t),r.call(null,o,e+1),c=cljs.core.next.call(null,t),t=null,n=0),s=0}},datascript.perf.start_frame=function(r){return cljs.core.vreset_BANG_.call(null,datascript.perf.current_frame,datascript.perf.__GT_Frame.call(null,cljs.core.deref.call(null,datascript.perf.current_frame),cljs.core.truth_(r)?datascript.perf.now.call(null):null,null,null,cljs.core.PersistentVector.EMPTY))},datascript.perf.end_frame=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.perf.end_frame.cljs$core$IFn$_invoke$arity$variadic(r)},datascript.perf.end_frame.cljs$core$IFn$_invoke$arity$variadic=function(r){var l=cljs.core.deref.call(null,datascript.perf.current_frame);return r=cljs.core.assoc.call(null,l,new cljs.core.Keyword(null,"end","end",-268185958),datascript.perf.now.call(null),new cljs.core.Keyword(null,"message","message",-406056002),r),l=new cljs.core.Keyword(null,"parent","parent",-878878779).cljs$core$IFn$_invoke$arity$1(r),l=null==l?null:cljs.core.update.call(null,l,new cljs.core.Keyword(null,"children","children",-940561982),cljs.core.conj,r),null==l&&datascript.perf.println_frame.call(null,r,0),cljs.core.vreset_BANG_.call(null,datascript.perf.current_frame,l)},datascript.perf.end_frame.cljs$lang$maxFixedArity=0,datascript.perf.end_frame.cljs$lang$applyTo=function(r){return datascript.perf.end_frame.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.bench={},cljs.core.enable_console_print_BANG_.call(null),datascript.bench.next_eid=cljs.core.volatile_BANG_.call(null,0),datascript.bench.schema=new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079),new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)],null)],null),datascript.bench.random_man=function(){return new cljs.core.PersistentArrayMap(null,6,[new cljs.core.Keyword("db","id","db/id",-1388397098),cljs.core._vreset_BANG_.call(null,datascript.bench.next_eid,cljs.core._deref.call(null,datascript.bench.next_eid)+1),new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.rand_nth.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,"Ivan Petr Sergei Oleg Yuri Dmitry Fedor Denis".split(" "),null)),new cljs.core.Keyword(null,"last-name","last-name",-1695738974),cljs.core.rand_nth.call(null,new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,"Ivanov Petrov Sidorov Kovalev Kuznetsov Voronoi".split(" "),null)),new cljs.core.Keyword(null,"sex","sex",-2056008571),cljs.core.rand_nth.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"male","male",-560253338),new cljs.core.Keyword(null,"female","female",1810186049)],null)),new cljs.core.Keyword(null,"age","age",-604307804),cljs.core.rand_int.call(null,10),new cljs.core.Keyword(null,"salary","salary",1283904063),cljs.core.rand_int.call(null,1e5)],null)},datascript.bench.people=cljs.core.repeatedly.call(null,datascript.bench.random_man),datascript.bench.xf_ent__GT_datom=cljs.core.mapcat.call(null,function(r){return cljs.core.reduce_kv.call(null,function(l,e,c){return cljs.core.conj.call(null,l,datascript.core.datom.call(null,new cljs.core.Keyword("db","id","db/id",-1388397098).cljs$core$IFn$_invoke$arity$1(r),e,c))},cljs.core.PersistentVector.EMPTY,cljs.core.dissoc.call(null,r,new cljs.core.Keyword("db","id","db/id",-1388397098)))}),datascript.bench.wide_db=function(){switch(arguments.length){case 2:return datascript.bench.wide_db.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.bench.wide_db.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.bench.wide_db.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.db_with.call(null,datascript.empty_db.call(null,datascript.bench.schema),datascript.bench.wide_db.call(null,1,r,l))},datascript.bench.wide_db.cljs$core$IFn$_invoke$arity$3=function(r,l,e){if(0<l){var c=cljs.core.map.call(null,function(l){return r*e+l},cljs.core.range.call(null,e));return cljs.core.concat.call(null,cljs.core.map.call(null,function(l){return function(l){return new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword("db","add","db/add",235286841),r,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan",new cljs.core.Keyword(null,"follows","follows",-757192277),l],null)}}(),c),cljs.core.mapcat.call(null,function(r){return function(r){return datascript.bench.wide_db.call(null,r,l-1,e)}}(),c))}return new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db","id","db/id",-1388397098),r,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null)],null)},datascript.bench.wide_db.cljs$lang$maxFixedArity=3,datascript.bench.long_db=function(r,l){return datascript.db_with.call(null,datascript.empty_db.call(null,datascript.bench.schema),cljs.core.apply.call(null,cljs.core.concat,function(){return function l(e){return new cljs.core.LazySeq(null,function(){for(var c=e;;){var t=cljs.core.seq.call(null,c);if(!t)return null;var n=t,s=cljs.core.first.call(null,n),t=function(l,e,c,t){return function l(c){return new cljs.core.LazySeq(null,function(e,t,n,s){return function(){for(;;){var e=cljs.core.seq.call(null,c);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var n=cljs.core.chunk_first.call(null,e),s=cljs.core.count.call(null,n),o=cljs.core.chunk_buffer.call(null,s);r:for(var a=0;;){if(!(a<s)){n=!0;break r}var i=cljs.core._nth.call(null,n,a),u=t*(r+1)+i,i=t*(r+1)+i+1;cljs.core.chunk_append.call(null,o,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword("db","id","db/id",-1388397098),u,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan",new cljs.core.Keyword(null,"follows","follows",-757192277),i],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db","id","db/id",-1388397098),i,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null)],null)),a+=1}return n?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),l.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,o),null)}return n=cljs.core.first.call(null,e),o=t*(r+1)+n,n=t*(r+1)+n+1,cljs.core.cons.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword("db","id","db/id",-1388397098),o,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan",new cljs.core.Keyword(null,"follows","follows",-757192277),n],null),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword("db","id","db/id",-1388397098),n,new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null)],null),l.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,e),null,null)}}(0,s);if(t=cljs.core.seq.call(null,t.call(null,cljs.core.range.call(null,r))))return cljs.core.concat.call(null,t,l.call(null,cljs.core.rest.call(null,c)));c=cljs.core.rest.call(null,c)}},null,null)}.call(null,cljs.core.range.call(null,l))}()))},datascript.bench.bench_db_with=function(){for(var r=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e3],null)),l=null,e=0,c=0;;)if(c<e){for(var t=cljs.core._nth.call(null,l,c),n=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[1],null)),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a),u=cljs.core.partition_all.call(null,i,cljs.core.take.call(null,t,datascript.bench.people)),$=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),i],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),u),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u),null,null)}}(0,0,0,0,0,0,0,0,0,0,u).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),j=cljs.core.reduce.call(null,cljs.core.min,$),_=datascript.perf.percentile.call(null,$,.5),p=cljs.core.reduce.call(null,cljs.core.max,$);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),i],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),_,new cljs.core.Keyword(null,"min","min",444991522),j,new cljs.core.Keyword(null,"max","max",61366548),p,new cljs.core.Keyword(null,"raw","raw",1604651272),$],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,j),"] [ med:",datascript.perf.format_number.call(null,_),"] [ max:",datascript.perf.format_number.call(null,p),"] ms"),a+=1}else{var d=cljs.core.seq.call(null,n);if(!d)break;var y=d;if(cljs.core.chunked_seq_QMARK_.call(null,y))_=cljs.core.chunk_first.call(null,y),$=cljs.core.chunk_rest.call(null,y),j=_,_=cljs.core.count.call(null,_),n=$,s=j,o=_;else{var f=cljs.core.first.call(null,y),h=cljs.core.partition_all.call(null,f,cljs.core.take.call(null,t,datascript.bench.people)),$=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),f],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),h),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u),null,null)}}(0,0,0,0,0,0,0,0,0,0,h).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),j=cljs.core.reduce.call(null,cljs.core.min,$),_=datascript.perf.percentile.call(null,$,.5),p=cljs.core.reduce.call(null,cljs.core.max,$);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),f],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),_,new cljs.core.Keyword(null,"min","min",444991522),j,new cljs.core.Keyword(null,"max","max",61366548),p,new cljs.core.Keyword(null,"raw","raw",1604651272),$],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,j),"] [ med:",datascript.perf.format_number.call(null,_),"] [ max:",datascript.perf.format_number.call(null,p),"] ms"),n=cljs.core.next.call(null,y),s=null,o=0}a=0}c+=1}else{var v=cljs.core.seq.call(null,r);if(!v)return null;var w=v;if(cljs.core.chunked_seq_QMARK_.call(null,w))_=cljs.core.chunk_first.call(null,w),$=cljs.core.chunk_rest.call(null,w),j=_,_=cljs.core.count.call(null,_),r=$,l=j,e=_;else{for(var t=cljs.core.first.call(null,w),m=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[1],null)),g=null,I=0,k=0;;)if(k<I){var A=cljs.core._nth.call(null,g,k),b=cljs.core.partition_all.call(null,A,cljs.core.take.call(null,t,datascript.bench.people)),$=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),A],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),b),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}
}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u),null,null)}}(0,0,0,0,0,0,0,0,0,0,b).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),j=cljs.core.reduce.call(null,cljs.core.min,$),_=datascript.perf.percentile.call(null,$,.5),p=cljs.core.reduce.call(null,cljs.core.max,$);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),A],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),_,new cljs.core.Keyword(null,"min","min",444991522),j,new cljs.core.Keyword(null,"max","max",61366548),p,new cljs.core.Keyword(null,"raw","raw",1604651272),$],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,j),"] [ med:",datascript.perf.format_number.call(null,_),"] [ max:",datascript.perf.format_number.call(null,p),"] ms"),k+=1}else{var F=cljs.core.seq.call(null,m);if(!F)break;var P=F;if(cljs.core.chunked_seq_QMARK_.call(null,P))_=cljs.core.chunk_first.call(null,P),$=cljs.core.chunk_rest.call(null,P),j=_,_=cljs.core.count.call(null,_),m=$,g=j,I=_;else{var S=cljs.core.first.call(null,P),T=cljs.core.partition_all.call(null,S,cljs.core.take.call(null,t,datascript.bench.people)),$=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),S],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),T),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,datascript.db_with,datascript.empty_db.call(null),j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u),null,null)}}(0,0,0,0,0,0,0,0,0,0,T).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),j=cljs.core.reduce.call(null,cljs.core.min,$),_=datascript.perf.percentile.call(null,$,.5),p=cljs.core.reduce.call(null,cljs.core.max,$);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"test","test",577538877),"db_with",new cljs.core.Keyword(null,"size","size",1098693007),t,new cljs.core.Keyword(null,"batch","batch",-662921200),S],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),_,new cljs.core.Keyword(null,"min","min",444991522),j,new cljs.core.Keyword(null,"max","max",61366548),p,new cljs.core.Keyword(null,"raw","raw",1604651272),$],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,j),"] [ med:",datascript.perf.format_number.call(null,_),"] [ max:",datascript.perf.format_number.call(null,p),"] ms"),m=cljs.core.next.call(null,P),g=null,I=0}k=0}r=cljs.core.next.call(null,w),l=null,e=0}c=0}},goog.exportSymbol("datascript.bench.bench_db_with",datascript.bench.bench_db_with),datascript.bench.bench_init_db=function(){for(var r=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,5,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e3,5e3,2e4],null)),l=null,e=0,c=0;;)if(c<e){var t=cljs.core._nth.call(null,l,c),n=cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.comp.call(null,datascript.bench.xf_ent__GT_datom,cljs.core.take.call(null,t)),datascript.bench.people),s=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"init_db",new cljs.core.Keyword(null,"size","size",1098693007),t],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,n),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,a),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,a),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,s),null,null)}}(0,0,0,0,0,0,n).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),o=cljs.core.reduce.call(null,cljs.core.min,s),a=datascript.perf.percentile.call(null,s,.5),i=cljs.core.reduce.call(null,cljs.core.max,s);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"init_db",new cljs.core.Keyword(null,"size","size",1098693007),t],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),a,new cljs.core.Keyword(null,"min","min",444991522),o,new cljs.core.Keyword(null,"max","max",61366548),i,new cljs.core.Keyword(null,"raw","raw",1604651272),s],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,o),"] [ med:",datascript.perf.format_number.call(null,a),"] [ max:",datascript.perf.format_number.call(null,i),"] ms"),c+=1}else{var u=cljs.core.seq.call(null,r);if(!u)return null;var $=u;if(cljs.core.chunked_seq_QMARK_.call(null,$))a=cljs.core.chunk_first.call(null,$),s=cljs.core.chunk_rest.call(null,$),o=a,a=cljs.core.count.call(null,a),r=s,l=o,e=a;else{var t=cljs.core.first.call(null,$),j=cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.comp.call(null,datascript.bench.xf_ent__GT_datom,cljs.core.take.call(null,t)),datascript.bench.people),s=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"init_db",new cljs.core.Keyword(null,"size","size",1098693007),t],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,a),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.init_db.call(null,a),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,s),null,null)}}(0,0,0,0,0,0,j).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),o=cljs.core.reduce.call(null,cljs.core.min,s),a=datascript.perf.percentile.call(null,s,.5),i=cljs.core.reduce.call(null,cljs.core.max,s);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"init_db",new cljs.core.Keyword(null,"size","size",1098693007),t],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),a,new cljs.core.Keyword(null,"min","min",444991522),o,new cljs.core.Keyword(null,"max","max",61366548),i,new cljs.core.Keyword(null,"raw","raw",1604651272),s],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,o),"] [ med:",datascript.perf.format_number.call(null,a),"] [ max:",datascript.perf.format_number.call(null,i),"] ms"),r=cljs.core.next.call(null,$),l=null,e=0}c=0}},goog.exportSymbol("datascript.bench.bench_init_db",datascript.bench.bench_init_db),datascript.bench.bench_queries=function(){for(var r=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["q1",new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null)],null)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["q2",new cljs.core.PersistentVector(null,6,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?a","?a",1314302913,null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"age","age",-604307804),new cljs.core.Symbol(null,"?a","?a",1314302913,null)],null)],null)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["q3",new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?a","?a",1314302913,null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"age","age",-604307804),new cljs.core.Symbol(null,"?a","?a",1314302913,null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"sex","sex",-2056008571),new cljs.core.Keyword(null,"male","male",-560253338)],null)],null)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["q4",new cljs.core.PersistentVector(null,9,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?l","?l",550795544,null),new cljs.core.Symbol(null,"?a","?a",1314302913,null),new cljs.core.Keyword(null,"where","where",-2044795965),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"name","name",1843675177),"Ivan"],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"last-name","last-name",-1695738974),new cljs.core.Symbol(null,"?l","?l",550795544,null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"age","age",-604307804),new cljs.core.Symbol(null,"?a","?a",1314302913,null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Keyword(null,"sex","sex",-2056008571),new cljs.core.Keyword(null,"male","male",-560253338)],null)],null)],null)],null)),l=null,e=0,c=0;;)if(c<e){for(var t=cljs.core._nth.call(null,l,c),n=cljs.core.nth.call(null,t,0,null),s=cljs.core.nth.call(null,t,1,null),o=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e3,2e4],null)),a=null,i=0,u=0;;)if(u<i){var $=cljs.core._nth.call(null,a,u),j=datascript.db_with.call(null,datascript.empty_db.call(null),cljs.core.take.call(null,$,datascript.bench.people)),_=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,s,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,y,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,y,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,p),null,null)}}(0,0,0,0,0,0,0,0,0,0,j,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),p=cljs.core.reduce.call(null,cljs.core.min,_),d=datascript.perf.percentile.call(null,_,.5),y=cljs.core.reduce.call(null,cljs.core.max,_);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),d,new cljs.core.Keyword(null,"min","min",444991522),p,new cljs.core.Keyword(null,"max","max",61366548),y,new cljs.core.Keyword(null,"raw","raw",1604651272),_],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,p),"] [ med:",datascript.perf.format_number.call(null,d),"] [ max:",datascript.perf.format_number.call(null,y),"] ms"),u+=1}else{var f=cljs.core.seq.call(null,o);if(!f)break;var h=f;if(cljs.core.chunked_seq_QMARK_.call(null,h))d=cljs.core.chunk_first.call(null,h),_=cljs.core.chunk_rest.call(null,h),p=d,d=cljs.core.count.call(null,d),o=_,a=p,i=d;else{var v=cljs.core.first.call(null,h),w=datascript.db_with.call(null,datascript.empty_db.call(null),cljs.core.take.call(null,v,datascript.bench.people)),_=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),v],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,s,w),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,y),null,null)}}(0,0,0,0,0,0,0,0,0,0,w,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),p=cljs.core.reduce.call(null,cljs.core.min,_),d=datascript.perf.percentile.call(null,_,.5),y=cljs.core.reduce.call(null,cljs.core.max,_);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),v],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),d,new cljs.core.Keyword(null,"min","min",444991522),p,new cljs.core.Keyword(null,"max","max",61366548),y,new cljs.core.Keyword(null,"raw","raw",1604651272),_],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,p),"] [ med:",datascript.perf.format_number.call(null,d),"] [ max:",datascript.perf.format_number.call(null,y),"] ms"),o=cljs.core.next.call(null,h),a=null,i=0}u=0}c+=1}else{var m=cljs.core.seq.call(null,r);if(!m)return null;var g=m;if(cljs.core.chunked_seq_QMARK_.call(null,g))d=cljs.core.chunk_first.call(null,g),_=cljs.core.chunk_rest.call(null,g),p=d,d=cljs.core.count.call(null,d),r=_,l=p,e=d;else{for(var I=cljs.core.first.call(null,g),n=cljs.core.nth.call(null,I,0,null),s=cljs.core.nth.call(null,I,1,null),k=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e3,2e4],null)),A=null,b=0,F=0;;)if(F<b){var P=cljs.core._nth.call(null,A,F),S=datascript.db_with.call(null,datascript.empty_db.call(null),cljs.core.take.call(null,P,datascript.bench.people)),_=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),P],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,s,S),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,y,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,y,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,p),null,null)}}(0,0,0,0,0,0,0,0,0,0,S,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),p=cljs.core.reduce.call(null,cljs.core.min,_),d=datascript.perf.percentile.call(null,_,.5),y=cljs.core.reduce.call(null,cljs.core.max,_);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),P],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),d,new cljs.core.Keyword(null,"min","min",444991522),p,new cljs.core.Keyword(null,"max","max",61366548),y,new cljs.core.Keyword(null,"raw","raw",1604651272),_],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,p),"] [ med:",datascript.perf.format_number.call(null,d),"] [ max:",datascript.perf.format_number.call(null,y),"] ms"),F+=1}else{var T=cljs.core.seq.call(null,k);if(!T)break;var R=T;if(cljs.core.chunked_seq_QMARK_.call(null,R))d=cljs.core.chunk_first.call(null,R),_=cljs.core.chunk_rest.call(null,R),p=d,d=cljs.core.count.call(null,d),k=_,A=p,b=d;else{var E=cljs.core.first.call(null,R),M=datascript.db_with.call(null,datascript.empty_db.call(null),cljs.core.take.call(null,E,datascript.bench.people)),_=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),E],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,s,M),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,y),null,null)}}(0,0,0,0,0,0,0,0,0,0,M,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),p=cljs.core.reduce.call(null,cljs.core.min,_),d=datascript.perf.percentile.call(null,_,.5),y=cljs.core.reduce.call(null,cljs.core.max,_)
;cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),n,new cljs.core.Keyword(null,"size","size",1098693007),E],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),d,new cljs.core.Keyword(null,"min","min",444991522),p,new cljs.core.Keyword(null,"max","max",61366548),y,new cljs.core.Keyword(null,"raw","raw",1604651272),_],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,p),"] [ med:",datascript.perf.format_number.call(null,d),"] [ max:",datascript.perf.format_number.call(null,y),"] ms"),k=cljs.core.next.call(null,R),A=null,b=0}F=0}r=cljs.core.next.call(null,g),l=null,e=0}c=0}},goog.exportSymbol("datascript.bench.bench_queries",datascript.bench.bench_queries),datascript.bench.bench_rules=function(){for(var r=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,7,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["wide 3×3",datascript.bench.wide_db.call(null,3,3)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["wide 5×3",datascript.bench.wide_db.call(null,5,3)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["wide 7×3",datascript.bench.wide_db.call(null,7,3)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["wide 4×6",datascript.bench.wide_db.call(null,4,6)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["long 10×3",datascript.bench.long_db.call(null,10,3)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["long 30×3",datascript.bench.long_db.call(null,30,3)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["long 30×5",datascript.bench.long_db.call(null,30,5)],null)],null)),l=null,e=0,c=0;;)if(c<e){var t=cljs.core._nth.call(null,l,c),n=cljs.core.nth.call(null,t,0,null),s=cljs.core.nth.call(null,t,1,null),o=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"rules",new cljs.core.Keyword(null,"form","form",-1624062471),n],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),s,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),u,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),u,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,a),null,null)}}(0,0,0,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),a=cljs.core.reduce.call(null,cljs.core.min,o),i=datascript.perf.percentile.call(null,o,.5),u=cljs.core.reduce.call(null,cljs.core.max,o);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"rules",new cljs.core.Keyword(null,"form","form",-1624062471),n],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),i,new cljs.core.Keyword(null,"min","min",444991522),a,new cljs.core.Keyword(null,"max","max",61366548),u,new cljs.core.Keyword(null,"raw","raw",1604651272),o],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,a),"] [ med:",datascript.perf.format_number.call(null,i),"] [ max:",datascript.perf.format_number.call(null,u),"] ms"),c+=1}else{var $=cljs.core.seq.call(null,r);if(!$)return null;var j=$;if(cljs.core.chunked_seq_QMARK_.call(null,j))i=cljs.core.chunk_first.call(null,j),o=cljs.core.chunk_rest.call(null,j),a=i,i=cljs.core.count.call(null,i),r=o,l=a,e=i;else{var _=cljs.core.first.call(null,j),n=cljs.core.nth.call(null,_,0,null),s=cljs.core.nth.call(null,_,1,null),o=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"rules",new cljs.core.Keyword(null,"form","form",-1624062471),n],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),s,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),u,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)datascript.q.call(null,new cljs.core.PersistentVector(null,8,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"find","find",496279456),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null),new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Symbol(null,"$","$",-1580747756,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"where","where",-2044795965),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?e","?e",-1194391683,null),new cljs.core.Symbol(null,"?e2","?e2",-1790911809,null))],null),u,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)],null)],null),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null)),new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"?x","?x",-555096650,null),new cljs.core.Keyword(null,"follows","follows",-757192277),new cljs.core.Symbol(null,"?t","?t",1786819229,null)],null),cljs.core.list(new cljs.core.Symbol(null,"follows","follows",883339250,null),new cljs.core.Symbol(null,"?t","?t",1786819229,null),new cljs.core.Symbol(null,"?y","?y",-1454470631,null))],null)],null)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,a),null,null)}}(0,0,0,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),a=cljs.core.reduce.call(null,cljs.core.min,o),i=datascript.perf.percentile.call(null,o,.5),u=cljs.core.reduce.call(null,cljs.core.max,o);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"test","test",577538877),"rules",new cljs.core.Keyword(null,"form","form",-1624062471),n],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),i,new cljs.core.Keyword(null,"min","min",444991522),a,new cljs.core.Keyword(null,"max","max",61366548),u,new cljs.core.Keyword(null,"raw","raw",1604651272),o],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,a),"] [ med:",datascript.perf.format_number.call(null,i),"] [ max:",datascript.perf.format_number.call(null,u),"] ms"),r=cljs.core.next.call(null,j),l=null,e=0}c=0}},goog.exportSymbol("datascript.bench.bench_rules",datascript.bench.bench_rules),datascript.bench.bench_btset=function(){for(var r=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["sorted-set",cljs.core.sorted_set.call(null)],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["vector",cljs.core.PersistentVector.EMPTY],null),new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,["btset",datascript.btset.btset.call(null)],null)],null)),l=null,e=0,c=0;;)if(c<e){for(var t=cljs.core._nth.call(null,l,c),n=cljs.core.nth.call(null,t,0,null),s=cljs.core.nth.call(null,t,1,null),o=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e4],null)),a=null,i=0,u=0;;)if(u<i){var $=cljs.core._nth.call(null,a,u),j=cljs.core.shuffle.call(null,cljs.core.range.call(null,$)),_=cljs.core.shuffle.call(null,j),p=cljs.core.into.call(null,s,j),d=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,s,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,y),null,null)}}(0,0,0,0,0,0,0,0,0,0,j,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),y=cljs.core.reduce.call(null,cljs.core.min,d),f=datascript.perf.percentile.call(null,d,.5),h=cljs.core.reduce.call(null,cljs.core.max,d);if(cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),f,new cljs.core.Keyword(null,"min","min",444991522),y,new cljs.core.Keyword(null,"max","max",61366548),h,new cljs.core.Keyword(null,"raw","raw",1604651272),d],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,y),"] [ med:",datascript.perf.format_number.call(null,f),"] [ max:",datascript.perf.format_number.call(null,h),"] ms"),cljs.core.truth_(cljs.core.re_find.call(null,/set/,n))){var v=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,_,p).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),w=cljs.core.reduce.call(null,cljs.core.min,v),m=datascript.perf.percentile.call(null,v,.5),g=cljs.core.reduce.call(null,cljs.core.max,v);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),m,new cljs.core.Keyword(null,"min","min",444991522),w,new cljs.core.Keyword(null,"max","max",61366548),g,new cljs.core.Keyword(null,"raw","raw",1604651272),v],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,w),"] [ med:",datascript.perf.format_number.call(null,m),"] [ max:",datascript.perf.format_number.call(null,g),"] ms");var I=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,
o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,_,p).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),k=cljs.core.reduce.call(null,cljs.core.min,I),A=datascript.perf.percentile.call(null,I,.5),b=cljs.core.reduce.call(null,cljs.core.max,I);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),A,new cljs.core.Keyword(null,"min","min",444991522),k,new cljs.core.Keyword(null,"max","max",61366548),b,new cljs.core.Keyword(null,"raw","raw",1604651272),I],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,k),"] [ med:",datascript.perf.format_number.call(null,A),"] [ max:",datascript.perf.format_number.call(null,b),"] ms")}var F=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,p).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),P=cljs.core.reduce.call(null,cljs.core.min,F),S=datascript.perf.percentile.call(null,F,.5),T=cljs.core.reduce.call(null,cljs.core.max,F);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),S,new cljs.core.Keyword(null,"min","min",444991522),P,new cljs.core.Keyword(null,"max","max",61366548),T,new cljs.core.Keyword(null,"raw","raw",1604651272),F],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,P),"] [ med:",datascript.perf.format_number.call(null,S),"] [ max:",datascript.perf.format_number.call(null,T),"] ms");var R=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),$],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,p).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),E=cljs.core.reduce.call(null,cljs.core.min,R),M=datascript.perf.percentile.call(null,R,.5),x=cljs.core.reduce.call(null,cljs.core.max,R);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),$],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),M,new cljs.core.Keyword(null,"min","min",444991522),E,new cljs.core.Keyword(null,"max","max",61366548),x,new cljs.core.Keyword(null,"raw","raw",1604651272),R],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,E),"] [ med:",datascript.perf.format_number.call(null,M),"] [ max:",datascript.perf.format_number.call(null,x),"] ms"),u+=1}else{var K=cljs.core.seq.call(null,o);if(!K)break;var q=K;if(cljs.core.chunked_seq_QMARK_.call(null,q))var N=cljs.core.chunk_first.call(null,q),V=cljs.core.chunk_rest.call(null,q),B=N,O=cljs.core.count.call(null,N),o=V,a=B,i=O;else{var Q=cljs.core.first.call(null,q),D=cljs.core.shuffle.call(null,cljs.core.range.call(null,Q)),Y=cljs.core.shuffle.call(null,D),C=cljs.core.into.call(null,s,D),L=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),Q],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,s,D),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,w,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,w,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,h),null,null)}}(0,0,0,0,0,0,0,0,0,0,D,0,0,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),G=cljs.core.reduce.call(null,cljs.core.min,L),W=datascript.perf.percentile.call(null,L,.5),H=cljs.core.reduce.call(null,cljs.core.max,L);if(cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),Q],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),W,new cljs.core.Keyword(null,"min","min",444991522),G,new cljs.core.Keyword(null,"max","max",61366548),H,new cljs.core.Keyword(null,"raw","raw",1604651272),L],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,G),"] [ med:",datascript.perf.format_number.call(null,W),"] [ max:",datascript.perf.format_number.call(null,H),"] ms"),cljs.core.truth_(cljs.core.re_find.call(null,/set/,n))){var U=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),Q],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,C,Y),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,Y,C).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),z=cljs.core.reduce.call(null,cljs.core.min,U),X=datascript.perf.percentile.call(null,U,.5),J=cljs.core.reduce.call(null,cljs.core.max,U);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),Q],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),X,new cljs.core.Keyword(null,"min","min",444991522),z,new cljs.core.Keyword(null,"max","max",61366548),J,new cljs.core.Keyword(null,"raw","raw",1604651272),U],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,z),"] [ med:",datascript.perf.format_number.call(null,X),"] [ max:",datascript.perf.format_number.call(null,J),"] ms");var Z=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),Q],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,Y),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,C,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,C,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,Y,C).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),rr=cljs.core.reduce.call(null,cljs.core.min,Z),lr=datascript.perf.percentile.call(null,Z,.5),er=cljs.core.reduce.call(null,cljs.core.max,Z);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),Q],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),lr,new cljs.core.Keyword(null,"min","min",444991522),rr,new cljs.core.Keyword(null,"max","max",61366548),er,new cljs.core.Keyword(null,"raw","raw",1604651272),Z],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,rr),"] [ med:",datascript.perf.format_number.call(null,lr),"] [ max:",datascript.perf.format_number.call(null,er),"] ms")}var cr=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),Q],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,C),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,C).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),tr=cljs.core.reduce.call(null,cljs.core.min,cr),nr=datascript.perf.percentile.call(null,cr,.5),sr=cljs.core.reduce.call(null,cljs.core.max,cr);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),Q],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),nr,new cljs.core.Keyword(null,"min","min",444991522),tr,new cljs.core.Keyword(null,"max","max",61366548),sr,new cljs.core.Keyword(null,"raw","raw",1604651272),cr],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,tr),"] [ med:",datascript.perf.format_number.call(null,nr),"] [ max:",datascript.perf.format_number.call(null,sr),"] ms");var or=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),Q],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,C)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,C).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),ar=cljs.core.reduce.call(null,cljs.core.min,or),ir=datascript.perf.percentile.call(null,or,.5),ur=cljs.core.reduce.call(null,cljs.core.max,or);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),Q],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),ir,new cljs.core.Keyword(null,"min","min",444991522),ar,new cljs.core.Keyword(null,"max","max",61366548),ur,new cljs.core.Keyword(null,"raw","raw",1604651272),or],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,ar),"] [ med:",datascript.perf.format_number.call(null,ir),"] [ max:",datascript.perf.format_number.call(null,ur),"] ms"),o=cljs.core.next.call(null,q),a=null,i=0}u=0}c+=1}else{var $r=cljs.core.seq.call(null,r);if(!$r)return null;var jr=$r
;if(cljs.core.chunked_seq_QMARK_.call(null,jr))var _r=cljs.core.chunk_first.call(null,jr),pr=cljs.core.chunk_rest.call(null,jr),dr=_r,yr=cljs.core.count.call(null,_r),r=pr,l=dr,e=yr;else{for(var fr=cljs.core.first.call(null,jr),n=cljs.core.nth.call(null,fr,0,null),s=cljs.core.nth.call(null,fr,1,null),hr=cljs.core.seq.call(null,new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[100,500,2e4],null)),vr=null,wr=0,mr=0;;)if(mr<wr){var gr=cljs.core._nth.call(null,vr,mr),Ir=cljs.core.shuffle.call(null,cljs.core.range.call(null,gr)),kr=cljs.core.shuffle.call(null,Ir),Ar=cljs.core.into.call(null,s,Ir),br=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),gr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,s,Ir),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,h,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,y),null,null)}}(0,0,0,0,0,0,0,0,0,0,Ir,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),Fr=cljs.core.reduce.call(null,cljs.core.min,br),Pr=datascript.perf.percentile.call(null,br,.5),Sr=cljs.core.reduce.call(null,cljs.core.max,br);if(cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),gr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),Pr,new cljs.core.Keyword(null,"min","min",444991522),Fr,new cljs.core.Keyword(null,"max","max",61366548),Sr,new cljs.core.Keyword(null,"raw","raw",1604651272),br],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,Fr),"] [ med:",datascript.perf.format_number.call(null,Pr),"] [ max:",datascript.perf.format_number.call(null,Sr),"] ms"),cljs.core.truth_(cljs.core.re_find.call(null,/set/,n))){var Tr=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),gr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,Ar,kr),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,kr,Ar).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),Rr=cljs.core.reduce.call(null,cljs.core.min,Tr),Er=datascript.perf.percentile.call(null,Tr,.5),Mr=cljs.core.reduce.call(null,cljs.core.max,Tr);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),gr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),Er,new cljs.core.Keyword(null,"min","min",444991522),Rr,new cljs.core.Keyword(null,"max","max",61366548),Mr,new cljs.core.Keyword(null,"raw","raw",1604651272),Tr],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,Rr),"] [ med:",datascript.perf.format_number.call(null,Er),"] [ max:",datascript.perf.format_number.call(null,Mr),"] ms");var xr=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),gr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,kr),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,Ar,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,Ar,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,kr,Ar).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),Kr=cljs.core.reduce.call(null,cljs.core.min,xr),qr=datascript.perf.percentile.call(null,xr,.5),Nr=cljs.core.reduce.call(null,cljs.core.max,xr);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),gr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),qr,new cljs.core.Keyword(null,"min","min",444991522),Kr,new cljs.core.Keyword(null,"max","max",61366548),Nr,new cljs.core.Keyword(null,"raw","raw",1604651272),xr],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,Kr),"] [ med:",datascript.perf.format_number.call(null,qr),"] [ max:",datascript.perf.format_number.call(null,Nr),"] ms")}var Vr=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),gr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,Ar),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,Ar).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),Br=cljs.core.reduce.call(null,cljs.core.min,Vr),Or=datascript.perf.percentile.call(null,Vr,.5),Qr=cljs.core.reduce.call(null,cljs.core.max,Vr);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),gr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),Or,new cljs.core.Keyword(null,"min","min",444991522),Br,new cljs.core.Keyword(null,"max","max",61366548),Qr,new cljs.core.Keyword(null,"raw","raw",1604651272),Vr],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,Br),"] [ med:",datascript.perf.format_number.call(null,Or),"] [ max:",datascript.perf.format_number.call(null,Qr),"] ms");var Dr=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),gr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,Ar)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,Ar).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),Yr=cljs.core.reduce.call(null,cljs.core.min,Dr),Cr=datascript.perf.percentile.call(null,Dr,.5),Lr=cljs.core.reduce.call(null,cljs.core.max,Dr);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),gr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),Cr,new cljs.core.Keyword(null,"min","min",444991522),Yr,new cljs.core.Keyword(null,"max","max",61366548),Lr,new cljs.core.Keyword(null,"raw","raw",1604651272),Dr],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,Yr),"] [ med:",datascript.perf.format_number.call(null,Cr),"] [ max:",datascript.perf.format_number.call(null,Lr),"] ms"),mr+=1}else{var Gr=cljs.core.seq.call(null,hr);if(!Gr)break;var Wr=Gr;if(cljs.core.chunked_seq_QMARK_.call(null,Wr))var Hr=cljs.core.chunk_first.call(null,Wr),Ur=cljs.core.chunk_rest.call(null,Wr),zr=Hr,Xr=cljs.core.count.call(null,Hr),hr=Ur,vr=zr,wr=Xr;else{var Jr=cljs.core.first.call(null,Wr),Zr=cljs.core.shuffle.call(null,cljs.core.range.call(null,Jr)),rl=cljs.core.shuffle.call(null,Zr),ll=cljs.core.into.call(null,s,Zr),el=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,s,Zr),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,w,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.into.call(null,w,j),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,u,0,0,0,0,0,0,0,h),null,null)}}(0,0,0,0,0,0,0,0,0,0,Zr,0,0,0,0,0,0,0,s).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),cl=cljs.core.reduce.call(null,cljs.core.min,el),tl=datascript.perf.percentile.call(null,el,.5),nl=cljs.core.reduce.call(null,cljs.core.max,el);if(cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-conj",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),tl,new cljs.core.Keyword(null,"min","min",444991522),cl,new cljs.core.Keyword(null,"max","max",61366548),nl,new cljs.core.Keyword(null,"raw","raw",1604651272),el],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,cl),"] [ med:",datascript.perf.format_number.call(null,tl),"] [ max:",datascript.perf.format_number.call(null,nl),"] ms"),cljs.core.truth_(cljs.core.re_find.call(null,/set/,n))){var sl=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,ll,rl),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core.disj,p,_),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,rl,ll).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),ol=cljs.core.reduce.call(null,cljs.core.min,sl),al=datascript.perf.percentile.call(null,sl,.5),il=cljs.core.reduce.call(null,cljs.core.max,sl);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-disj",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),al,new cljs.core.Keyword(null,"min","min",444991522),ol,new cljs.core.Keyword(null,"max","max",61366548),il,new cljs.core.Keyword(null,"raw","raw",1604651272),sl],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,ol),"] [ med:",datascript.perf.format_number.call(null,al),"] [ max:",datascript.perf.format_number.call(null,il),"] ms");var ul=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,rl),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,ll,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,ll,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,_),s=null,o=0,a=0;;)if(a<o){var i=cljs.core._nth.call(null,s,a);cljs.core.contains_QMARK_.call(null,p,i),a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,
cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),cljs.core.contains_QMARK_.call(null,p,n),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,$,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,rl,ll).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),$l=cljs.core.reduce.call(null,cljs.core.min,ul),jl=datascript.perf.percentile.call(null,ul,.5),_l=cljs.core.reduce.call(null,cljs.core.max,ul);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-lookup",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),jl,new cljs.core.Keyword(null,"min","min",444991522),$l,new cljs.core.Keyword(null,"max","max",61366548),_l,new cljs.core.Keyword(null,"raw","raw",1604651272),ul],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,$l),"] [ med:",datascript.perf.format_number.call(null,jl),"] [ max:",datascript.perf.format_number.call(null,_l),"] ms")}var pl=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,ll),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;){for(var n=cljs.core.seq.call(null,p),s=null,o=0,a=0;;)if(a<o){cljs.core._nth.call(null,s,a);a+=1}else{if(!(n=cljs.core.seq.call(null,n)))break;s=n,cljs.core.chunked_seq_QMARK_.call(null,s)?(n=cljs.core.chunk_first.call(null,s),a=cljs.core.chunk_rest.call(null,s),s=n,o=cljs.core.count.call(null,n),n=a):(n=cljs.core.first.call(null,s),n=cljs.core.next.call(null,s),s=null,o=0),a=0}t+=1}if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,ll).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),dl=cljs.core.reduce.call(null,cljs.core.min,pl),yl=datascript.perf.percentile.call(null,pl,.5),fl=cljs.core.reduce.call(null,cljs.core.max,pl);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-iterate",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),yl,new cljs.core.Keyword(null,"min","min",444991522),dl,new cljs.core.Keyword(null,"max","max",61366548),fl,new cljs.core.Keyword(null,"raw","raw",1604651272),pl],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,dl),"] [ med:",datascript.perf.format_number.call(null,yl),"] [ max:",datascript.perf.format_number.call(null,fl),"] ms");var hl=(cljs.core.truth_(datascript.perf._STAR_context_STAR_)||cljs.core.println.call(null,[cljs.core.str("\n"),cljs.core.str(new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null))].join("")),function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_warmup_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,ll)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,function(){return function(r,l,e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w){return function r(l){return new cljs.core.LazySeq(null,function(e,c,t,n,s,o,a,i,u,$,j,_,p,d,y,f,h,v,w,m,g){return function(){for(;;){var e=cljs.core.seq.call(null,l);if(e){if(cljs.core.chunked_seq_QMARK_.call(null,e)){var c=cljs.core.chunk_first.call(null,e),t=cljs.core.count.call(null,c),n=cljs.core.chunk_buffer.call(null,t);return function(){for(var r=0;;){if(!(r<t))return!0;cljs.core._nth.call(null,c,r),cljs.core.chunk_append.call(null,n,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}()),r+=1}}()?cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),r.call(null,cljs.core.chunk_rest.call(null,e))):cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,n),null)}return cljs.core.first.call(null,e),cljs.core.cons.call(null,function(){for(var r=datascript.perf.now.call(null),l=datascript.perf._STAR_bench_t_STAR_+r,e=datascript.perf._STAR_step_STAR_;;){for(var c=datascript.perf._STAR_step_STAR_,t=0;t<c;)cljs.core.reduce.call(null,cljs.core._PLUS_,0,cljs.core.seq.call(null,p)),t+=1;if(!((c=datascript.perf.now.call(null))<l))return(c-r)/e;e=datascript.perf._STAR_step_STAR_+e}}(),r.call(null,cljs.core.rest.call(null,e)))}return null}}}(0,0,0,0,0,0,0,0,0,0,0,0,j),null,null)}}(0,0,0,0,0,0,0,0,0,0,0,0,ll).call(null,cljs.core.range.call(null,datascript.perf._STAR_repeats_STAR_))}())),vl=cljs.core.reduce.call(null,cljs.core.min,hl),wl=datascript.perf.percentile.call(null,hl,.5),ml=cljs.core.reduce.call(null,cljs.core.max,hl);cljs.core.truth_(datascript.perf._STAR_context_STAR_)?cljs.core.println.call(null,"{ :context",cljs.core.pr_str.call(null,datascript.perf._STAR_context_STAR_),"\n  :spec   ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"target","target",253001721),n,new cljs.core.Keyword(null,"test","test",577538877),"set-reduce",new cljs.core.Keyword(null,"size","size",1098693007),Jr],null)),"\n  :env    ",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,1,[new cljs.core.Keyword(null,"ts","ts",1617209904),datascript.perf.inst.call(null)],null)),"\n  :results",cljs.core.pr_str.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"median","median",569566131),wl,new cljs.core.Keyword(null,"min","min",444991522),vl,new cljs.core.Keyword(null,"max","max",61366548),ml,new cljs.core.Keyword(null,"raw","raw",1604651272),hl],null)),"}"):cljs.core.println.call(null,"[ min:",datascript.perf.format_number.call(null,vl),"] [ med:",datascript.perf.format_number.call(null,wl),"] [ max:",datascript.perf.format_number.call(null,ml),"] ms"),hr=cljs.core.next.call(null,Wr),vr=null,wr=0}mr=0}r=cljs.core.next.call(null,jr),l=null,e=0}c=0}},goog.exportSymbol("datascript.bench.bench_btset",datascript.bench.bench_btset),datascript.bench.bench_all=function(){return datascript.bench.bench_db_with.call(null),datascript.bench.bench_init_db.call(null),datascript.bench.bench_queries.call(null),datascript.bench.bench_rules.call(null),datascript.bench.bench_btset.call(null)},goog.exportSymbol("datascript.bench.bench_all",datascript.bench.bench_all),datascript.js={},datascript.js.keywordize=function(r){return"string"==typeof r&&cljs.core._EQ_.call(null,cljs.core.subs.call(null,r,0,1),":")?cljs.core.keyword.call(null,cljs.core.subs.call(null,r,1)):r},datascript.js.schema__GT_clj=function(r){return clojure.walk.postwalk.call(null,datascript.js.keywordize,cljs.core.js__GT_clj.call(null,r))},datascript.js.entity__GT_clj=function(r){if(cljs.core.map_QMARK_.call(null,r))return cljs.core.assoc.call(null,cljs.core.dissoc.call(null,r,":db/id"),new cljs.core.Keyword("db","id","db/id",-1388397098),r.call(null,":db/id"));if(cljs.core._EQ_.call(null,cljs.core.first.call(null,r),":db.fn/call")){var l=cljs.core.nth.call(null,r,0,null),e=cljs.core.nth.call(null,r,1,null),c=cljs.core.nthnext.call(null,r,2);return cljs.core.concat.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword("db.fn","call","db.fn/call",-151594418),function(r,l,e,c){return function(){var r=function(r){return datascript.js.entities__GT_clj.call(null,cljs.core.apply.call(null,e,r))},l=function(l){var e=null;if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;e=new cljs.core.IndexedSeq(c,0)}return r.call(this,e)};return l.cljs$lang$maxFixedArity=0,l.cljs$lang$applyTo=function(l){return l=cljs.core.seq(l),r(l)},l.cljs$core$IFn$_invoke$arity$variadic=r,l}()}(0,0,e)],null),c)}return cljs.core.sequential_QMARK_.call(null,r)?(l=cljs.core.nth.call(null,r,0,null),r=cljs.core.nthnext.call(null,r,1),cljs.core.concat.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.js.keywordize.call(null,l)],null),r)):null},datascript.js.entities__GT_clj=function(r){return cljs.core.map.call(null,datascript.js.entity__GT_clj,cljs.core.js__GT_clj.call(null,r))},datascript.js.tempids__GT_js=function(r){var l;l={},r=cljs.core.seq.call(null,r);for(var e=null,c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t),s=cljs.core.nth.call(null,n,0,null),n=cljs.core.nth.call(null,n,1,null);l[""+cljs.core.str(s)]=n,t+=1}else{if(!(r=cljs.core.seq.call(null,r)))break;cljs.core.chunked_seq_QMARK_.call(null,r)?(c=cljs.core.chunk_first.call(null,r),r=cljs.core.chunk_rest.call(null,r),e=c,c=cljs.core.count.call(null,c)):(c=cljs.core.first.call(null,r),e=cljs.core.nth.call(null,c,0,null),c=cljs.core.nth.call(null,c,1,null),l[""+cljs.core.str(e)]=c,r=cljs.core.next.call(null,r),e=null,c=0),t=0}return l},datascript.js.tx_report__GT_js=function(r){return{db_before:new cljs.core.Keyword(null,"db-before","db-before",-553691536).cljs$core$IFn$_invoke$arity$1(r),db_after:new cljs.core.Keyword(null,"db-after","db-after",-571884666).cljs$core$IFn$_invoke$arity$1(r),tx_data:cljs.core.into_array.call(null,new cljs.core.Keyword(null,"tx-data","tx-data",934159761).cljs$core$IFn$_invoke$arity$1(r)),tempids:datascript.js.tempids__GT_js.call(null,new cljs.core.Keyword(null,"tempids","tempids",1767509089).cljs$core$IFn$_invoke$arity$1(r)),tx_meta:new cljs.core.Keyword(null,"tx-meta","tx-meta",1159283194).cljs$core$IFn$_invoke$arity$1(r)}},datascript.js.js__GT_Datom=function(r){return cljs.core.array_QMARK_.call(null,r)?new datascript.core.Datom(r[0],r[1],r[2],function(){var l=r[3];return cljs.core.truth_(l)?l:datascript.tx0}(),function(){var l=r[4];return!cljs.core.truth_(l)||l}()):new datascript.core.Datom(r.e,r.a,r.v,function(){var l=r.tx;return cljs.core.truth_(l)?l:datascript.tx0}(),function(){var l=r.added;return!cljs.core.truth_(l)||l}())},datascript.js.pull_result__GT_js=function(r){return cljs.core.clj__GT_js.call(null,clojure.walk.postwalk.call(null,function(r){return r instanceof cljs.core.Keyword?""+cljs.core.str(r):r},r))},datascript.js.empty_db=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.js.empty_db.cljs$core$IFn$_invoke$arity$variadic(r)},goog.exportSymbol("datascript.js.empty_db",datascript.js.empty_db),datascript.js.empty_db.cljs$core$IFn$_invoke$arity$variadic=function(r){return r=cljs.core.nth.call(null,r,0,null),datascript.empty_db.call(null,datascript.js.schema__GT_clj.call(null,r))},datascript.js.empty_db.cljs$lang$maxFixedArity=0,datascript.js.empty_db.cljs$lang$applyTo=function(r){return datascript.js.empty_db.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.js.init_db=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return datascript.js.init_db.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},goog.exportSymbol("datascript.js.init_db",datascript.js.init_db),datascript.js.init_db.cljs$core$IFn$_invoke$arity$variadic=function(r,l){var e=cljs.core.nth.call(null,l,0,null);return datascript.init_db.call(null,cljs.core.map.call(null,datascript.js.js__GT_Datom,r),datascript.js.schema__GT_clj.call(null,e))},datascript.js.init_db.cljs$lang$maxFixedArity=1,datascript.js.init_db.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),datascript.js.init_db.cljs$core$IFn$_invoke$arity$variadic(l,r)},datascript.js.q=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.js.q.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},goog.exportSymbol("datascript.js.q",datascript.js.q),datascript.js.q.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){var c=cljs.core.async.chan.call(null,1);return cljs.core.async.impl.dispatch.run.call(null,function(c){return function(){var t=function(){return function(r,l){return function(){var l=null,e=function(){var r=[null,null,null,null,null,null,null];return r[0]=l,r[1]=1,r},c=function(l){for(;;){var e;r:try{for(;;){var c=r.call(null,l);if(!cljs.core.keyword_identical_QMARK_.call(null,c,new cljs.core.Keyword(null,"recur","recur",-437573268))){e=c;break r}}}catch(r){if(!(r instanceof Object))throw r;l[5]=r,cljs.core.async.impl.ioc_helpers.process_exception.call(null,l),e=new cljs.core.Keyword(null,"recur","recur",-437573268)}if(!cljs.core.keyword_identical_QMARK_.call(null,e,new cljs.core.Keyword(null,"recur","recur",-437573268)))return e}},l=function(r){switch(arguments.length){case 0:return e.call(this);case 1:return c.call(this,r)}throw Error("Invalid arity: "+arguments.length)};return l.cljs$core$IFn$_invoke$arity$0=e,l.cljs$core$IFn$_invoke$arity$1=c,l}()}(function(c){return function(c){var t=c[1];return 1===t?(t=cljs.reader.read_string.call(null,l),t=cljs.core.apply.call(null,datascript.q,t,e),cljs.core.async.impl.ioc_helpers.take_BANG_.call(null,c,2,t)):2===t?(t=cljs.core.clj__GT_js.call(null,c[2]),t=r.call(null,null,t),cljs.core.async.impl.ioc_helpers.return_chan.call(null,c,t)):null}}())}(),n=function(){var r=t.call(null);return r[cljs.core.async.impl.ioc_helpers.USER_START_IDX]=c,r}();return cljs.core.async.impl.ioc_helpers.run_state_machine_wrapped.call(null,n)}}(c)),c},datascript.js.q.cljs$lang$maxFixedArity=2,datascript.js.q.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.js.q.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.js.pull=function(r,l,e){return l=cljs.reader.read_string.call(null,l),r=datascript.pull.call(null,r,l,e),datascript.js.pull_result__GT_js.call(null,r)},goog.exportSymbol("datascript.js.pull",datascript.js.pull),datascript.js.pull_many=function(r,l,e){return l=cljs.reader.read_string.call(null,l),r=datascript.pull_many.call(null,r,l,e),datascript.js.pull_result__GT_js.call(null,r)},goog.exportSymbol("datascript.js.pull_many",datascript.js.pull_many),datascript.js.db_with=function(r,l){return datascript.db_with.call(null,r,datascript.js.entities__GT_clj.call(null,l))},goog.exportSymbol("datascript.js.db_with",datascript.js.db_with),datascript.js.entity=datascript.entity,goog.exportSymbol("datascript.js.entity",datascript.js.entity),datascript.js.touch=datascript.touch,goog.exportSymbol("datascript.js.touch",datascript.js.touch),datascript.js.entity_db=datascript.entity_db,goog.exportSymbol("datascript.js.entity_db",datascript.js.entity_db),datascript.js.filter=datascript.filter,goog.exportSymbol("datascript.js.filter",datascript.js.filter),datascript.js.is_filtered=datascript.is_filtered,goog.exportSymbol("datascript.js.is_filtered",datascript.js.is_filtered),datascript.js.create_conn=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.js.create_conn.cljs$core$IFn$_invoke$arity$variadic(r)},goog.exportSymbol("datascript.js.create_conn",datascript.js.create_conn),datascript.js.create_conn.cljs$core$IFn$_invoke$arity$variadic=function(r){return r=cljs.core.nth.call(null,r,0,null),datascript.create_conn.call(null,datascript.js.schema__GT_clj.call(null,r))},datascript.js.create_conn.cljs$lang$maxFixedArity=0,datascript.js.create_conn.cljs$lang$applyTo=function(r){return datascript.js.create_conn.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.js.db=function(r){return cljs.core.deref.call(null,r)},goog.exportSymbol("datascript.js.db",datascript.js.db),datascript.js.transact=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.js.transact.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},goog.exportSymbol("datascript.js.transact",datascript.js.transact),datascript.js.transact.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){e=cljs.core.nth.call(null,e,0,null),l=datascript.js.entities__GT_clj.call(null,l),l=datascript.js.tx_report__GT_js.call(null,datascript._transact_BANG_.call(null,r,l,e)),r=cljs.core.seq.call(null,cljs.core.deref.call(null,new cljs.core.Keyword(null,"listeners","listeners",394544445).cljs$core$IFn$_invoke$arity$1(cljs.core.meta.call(null,r)))),e=null;for(var c=0,t=0;;)if(t<c){var n=cljs.core._nth.call(null,e,t);cljs.core.nth.call(null,n,0,null),cljs.core.nth.call(null,n,1,null).call(null,l),t+=1}else{if(!(r=cljs.core.seq.call(null,r)))break;e=r,cljs.core.chunked_seq_QMARK_.call(null,e)?(r=cljs.core.chunk_first.call(null,e),t=cljs.core.chunk_rest.call(null,e),e=r,c=cljs.core.count.call(null,r),r=t):(r=cljs.core.first.call(null,e),cljs.core.nth.call(null,r,0,null),cljs.core.nth.call(null,r,1,null).call(null,l),r=cljs.core.next.call(null,e),e=null,c=0),t=0}return l},datascript.js.transact.cljs$lang$maxFixedArity=2,datascript.js.transact.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.js.transact.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.js.listen=datascript.listen_BANG_,goog.exportSymbol("datascript.js.listen",datascript.js.listen),datascript.js.unlisten=datascript.unlisten_BANG_,goog.exportSymbol("datascript.js.unlisten",datascript.js.unlisten),datascript.js.resolve_tempid=function(r,l){return r[""+cljs.core.str(l)]},goog.exportSymbol("datascript.js.resolve_tempid",datascript.js.resolve_tempid),datascript.js.datoms=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.js.datoms.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},goog.exportSymbol("datascript.js.datoms",datascript.js.datoms),datascript.js.datoms.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.into_array.call(null,cljs.core.apply.call(null,datascript.datoms,r,datascript.js.keywordize.call(null,l),e))},datascript.js.datoms.cljs$lang$maxFixedArity=2,datascript.js.datoms.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.js.datoms.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.js.seek_datoms=function(){var r=2<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,2),0):null;return datascript.js.seek_datoms.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],r)},goog.exportSymbol("datascript.js.seek_datoms",datascript.js.seek_datoms),datascript.js.seek_datoms.cljs$core$IFn$_invoke$arity$variadic=function(r,l,e){return cljs.core.into_array.call(null,cljs.core.apply.call(null,datascript.seek_datoms,r,datascript.js.keywordize.call(null,l),e))},datascript.js.seek_datoms.cljs$lang$maxFixedArity=2,datascript.js.seek_datoms.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r),e=cljs.core.next.call(null,r);return r=cljs.core.first.call(null,e),e=cljs.core.next.call(null,e),datascript.js.seek_datoms.cljs$core$IFn$_invoke$arity$variadic(l,r,e)},datascript.js.index_range=function(r,l,e,c){return cljs.core.into_array.call(null,datascript.index_range.call(null,r,l,e,c))},goog.exportSymbol("datascript.js.index_range",datascript.js.index_range),datascript.js.squuid=function(){return""+cljs.core.str(datascript.squuid.call(null))},goog.exportSymbol("datascript.js.squuid",datascript.js.squuid),datascript.js.squuid_time_millis=function(r){return datascript.squuid_time_millis.call(null,cljs.core.uuid.call(null,r))},goog.exportSymbol("datascript.js.squuid_time_millis",datascript.js.squuid_time_millis),datascript.js.search_eavt=function(){switch(arguments.length){case 2:return datascript.js.search_eavt.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.js.search_eavt.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.js.search_eavt.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.js.search_eavt.call(null,r,l,l)},datascript.js.search_eavt.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.async.chan.call(null);return r.call(null,l,e,function(r){return function(l){return l=cljs.core.js__GT_clj.call(null,l),l=cljs.core.map.call(null,function(r,l){return function(r){return cljs.core.apply.call(null,datascript.core.datom,r)}}(),l),cljs.core.async.put_BANG_.call(null,r,l)}}(c)),c},datascript.js.search_eavt.cljs$lang$maxFixedArity=3,datascript.js.search_avet=function(){switch(arguments.length){case 2:return datascript.js.search_avet.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return datascript.js.search_avet.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw Error([cljs.core.str("Invalid arity: "),cljs.core.str(arguments.length)].join(""))}},datascript.js.search_avet.cljs$core$IFn$_invoke$arity$2=function(r,l){return datascript.js.search_avet.call(null,r,l,l)},datascript.js.search_avet.cljs$core$IFn$_invoke$arity$3=function(r,l,e){var c=cljs.core.async.chan.call(null);return r.call(null,l,e,function(r){return function(l){return l=cljs.core.js__GT_clj.call(null,l),l=cljs.core.map.call(null,function(r,l){return function(r){return cljs.core.apply.call(null,datascript.core.datom,r)}}(),l),cljs.core.async.put_BANG_.call(null,r,l)}}(c)),c},datascript.js.search_avet.cljs$lang$maxFixedArity=3,datascript.js.set_indexes=function(r,l){return datascript.set_indexes.call(null,cljs.core.partial.call(null,datascript.js.search_eavt,r),cljs.core.partial.call(null,datascript.js.search_avet,l))},goog.exportSymbol("datascript.js.set_indexes",datascript.js.set_indexes),cljs.core._STAR_main_cli_fn_STAR_=function(){return cljs.core.List.EMPTY},cljs.nodejs={},cljs.nodejs.require=require,cljs.nodejs.process=process,cljs.nodejs.enable_util_print_BANG_=function(){return cljs.core._STAR_print_newline_STAR_=!1,cljs.core._STAR_print_fn_STAR_=function(){var r=function(r){return console.log.apply(console,cljs.core.into_array.call(null,r))},l=function(l){var e=null;if(0<arguments.length){for(var e=0,c=Array(arguments.length-0);e<c.length;)c[e]=arguments[e+0],++e;e=new cljs.core.IndexedSeq(c,0)}return r.call(this,e)};return l.cljs$lang$maxFixedArity=0,l.cljs$lang$applyTo=function(l){return l=cljs.core.seq(l),r(l)},l.cljs$core$IFn$_invoke$arity$variadic=r,l}()},datascript.query_v3={},datascript.query_v3.mapa=function(r,l){for(var e=[],c=cljs.core.seq.call(null,l),t=null,n=0,s=0;;)if(s<n){var o=cljs.core._nth.call(null,t,s);e.push(r.call(null,o)),s+=1}else{if(!(c=cljs.core.seq.call(null,c)))break;t=c,cljs.core.chunked_seq_QMARK_.call(null,t)?(c=cljs.core.chunk_first.call(null,t),s=cljs.core.chunk_rest.call(null,t),t=c,n=cljs.core.count.call(null,c),c=s):(c=cljs.core.first.call(null,t),e.push(r.call(null,c)),c=cljs.core.next.call(null,t),t=null,n=0),s=0}return e},datascript.query_v3.concatv=function(){var r=0<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,0),0):null;return datascript.query_v3.concatv.cljs$core$IFn$_invoke$arity$variadic(r)},datascript.query_v3.concatv.cljs$core$IFn$_invoke$arity$variadic=function(r){return cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.cat,r)},datascript.query_v3.concatv.cljs$lang$maxFixedArity=0,datascript.query_v3.concatv.cljs$lang$applyTo=function(r){return datascript.query_v3.concatv.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq.call(null,r))},datascript.query_v3.IRelation=function(){return{}}(),datascript.query_v3._getter=function(r,l){if(r?r.datascript$query_v3$IRelation$_getter$arity$2:r)return r.datascript$query_v3$IRelation$_getter$arity$2(r,l);var e;if(!(e=datascript.query_v3._getter[goog.typeOf(null==r?null:r)])&&!(e=datascript.query_v3._getter._))throw cljs.core.missing_protocol.call(null,"IRelation.-getter",r);return e.call(null,r,l)},datascript.query_v3._indexes=function(r,l){if(r?r.datascript$query_v3$IRelation$_indexes$arity$2:r)return r.datascript$query_v3$IRelation$_indexes$arity$2(r,l);var e;if(!(e=datascript.query_v3._indexes[goog.typeOf(null==r?null:r)])&&!(e=datascript.query_v3._indexes._))throw cljs.core.missing_protocol.call(null,"IRelation.-indexes",r);return e.call(null,r,l)},datascript.query_v3._copy_tuple=function(r,l,e,c,t){if(r?r.datascript$query_v3$IRelation$_copy_tuple$arity$5:r)return r.datascript$query_v3$IRelation$_copy_tuple$arity$5(r,l,e,c,t);var n;if(!(n=datascript.query_v3._copy_tuple[goog.typeOf(null==r?null:r)])&&!(n=datascript.query_v3._copy_tuple._))throw cljs.core.missing_protocol.call(null,"IRelation.-copy-tuple",r);return n.call(null,r,l,e,c,t)},datascript.query_v3._union=function(r,l){if(r?r.datascript$query_v3$IRelation$_union$arity$2:r)return r.datascript$query_v3$IRelation$_union$arity$2(r,l);var e;if(!(e=datascript.query_v3._union[goog.typeOf(null==r?null:r)])&&!(e=datascript.query_v3._union._))throw cljs.core.missing_protocol.call(null,"IRelation.-union",r);return e.call(null,r,l)},datascript.query_v3.first_tuple=function(r){return cljs.core.reduce.call(null,function(r,l){return cljs.core.reduced.call(null,l)},null,r)},datascript.query_v3.hash_arr=function(r){for(var l=0,e=1;;){if(!(l<r.length))return cljs.core.mix_collection_hash.call(null,e,l);var c=l+1,e=cljs.core.imul.call(null,31,e)+cljs.core.hash.call(null,r[l])|0,l=c}},datascript.query_v3.Tuple=function(r,l){this.arr=r,this._hash=l,this.cljs$lang$protocol_mask$partition0$=6291456,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.Tuple.prototype.equiv=function(r){return cljs.core._equiv.call(null,this,r)},datascript.query_v3.Tuple.prototype.cljs$core$IHash$_hash$arity$1=function(r){return this._hash},datascript.query_v3.Tuple.prototype.cljs$core$IEquiv$_equiv$arity$2=function(r,l){var e=this;return cljs.core.boolean$.call(null,function(){var r=e.arr.length===l.arr.length;if(!r)return r;for(r=0;;){if(r===e.arr.length)return!0;if(cljs.core.not_EQ_.call(null,e.arr[r],l.arr[r]))return!1;r+=1}}())},datascript.query_v3.Tuple.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"arr","arr",2115492975,null),new cljs.core.Symbol(null,"_hash","_hash",-2130838312,null)],null)},datascript.query_v3.Tuple.cljs$lang$type=!0,datascript.query_v3.Tuple.cljs$lang$ctorStr="datascript.query-v3/Tuple",datascript.query_v3.Tuple.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/Tuple")},datascript.query_v3.__GT_Tuple=function(r,l){return new datascript.query_v3.Tuple(r,l)},datascript.query_v3.tuple=function(r){return new datascript.query_v3.Tuple(r,datascript.query_v3.hash_arr.call(null,r))},datascript.query_v3.ArrayRelation=function(r,l,e){this.symbols=r,this.arity=l,this.coll=e,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.ArrayRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.ArrayRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.reduce.call(null,l,e,this.coll)},datascript.query_v3.ArrayRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count.call(null,this.coll)},datascript.query_v3.ArrayRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.ArrayRelation.prototype.datascript$query_v3$IRelation$_getter$arity$2=function(r,l){return function(r,l){return function(l){return l[r]}
}(cljs.core.get.call(null,cljs.core.zipmap.call(null,this.symbols,cljs.core.range.call(null)),l))},datascript.query_v3.ArrayRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return datascript.query_v3.mapa.call(null,cljs.core.zipmap.call(null,this.symbols,cljs.core.range.call(null)),l)},datascript.query_v3.ArrayRelation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){r=e.length;for(var n=0;;){if(!(n<r))return null;c[n+t]=l[e[n]],n+=1}},datascript.query_v3.ArrayRelation.prototype.datascript$query_v3$IRelation$_union$arity$2=function(r,l){return new datascript.query_v3.ArrayRelation(this.symbols,this.arity,cljs.core.into.call(null,this.coll,l.coll))},datascript.query_v3.ArrayRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#ArrayRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity,new cljs.core.Keyword(null,"coll","coll",1647737163),this.coll],null),l,e)},datascript.query_v3.ArrayRelation.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null),new cljs.core.Symbol(null,"coll","coll",-1006698606,null)],null)},datascript.query_v3.ArrayRelation.cljs$lang$type=!0,datascript.query_v3.ArrayRelation.cljs$lang$ctorStr="datascript.query-v3/ArrayRelation",datascript.query_v3.ArrayRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/ArrayRelation")},datascript.query_v3.__GT_ArrayRelation=function(r,l,e){return new datascript.query_v3.ArrayRelation(r,l,e)},datascript.query_v3.array_rel=function(r,l){return new datascript.query_v3.ArrayRelation(r,cljs.core.count.call(null,r),l)},datascript.query_v3.Coll1Relation=function(r,l,e){this.symbols=r,this.arity=l,this.coll=e,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.Coll1Relation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.reduce.call(null,l,e,this.coll)},datascript.query_v3.Coll1Relation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count.call(null,this.coll)},datascript.query_v3.Coll1Relation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.Coll1Relation.prototype.datascript$query_v3$IRelation$_getter$arity$2=function(r,l){return function(r){return function(r){return r}}()},datascript.query_v3.Coll1Relation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return 0},datascript.query_v3.Coll1Relation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){return c[t]=l},datascript.query_v3.Coll1Relation.prototype.datascript$query_v3$IRelation$_union$arity$2=function(r,l){return new datascript.query_v3.Coll1Relation(this.symbols,this.arity,cljs.core.into.call(null,this.coll,l.coll))},datascript.query_v3.Coll1Relation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.Coll1Relation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#Coll1Relation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity,new cljs.core.Keyword(null,"coll","coll",1647737163),this.coll],null),l,e)},datascript.query_v3.Coll1Relation.getBasis=function(){return new cljs.core.PersistentVector(null,3,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null),new cljs.core.Symbol(null,"coll","coll",-1006698606,null)],null)},datascript.query_v3.Coll1Relation.cljs$lang$type=!0,datascript.query_v3.Coll1Relation.cljs$lang$ctorStr="datascript.query-v3/Coll1Relation",datascript.query_v3.Coll1Relation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/Coll1Relation")},datascript.query_v3.__GT_Coll1Relation=function(r,l,e){return new datascript.query_v3.Coll1Relation(r,l,e)},datascript.query_v3.coll1_rel=function(r,l){return new datascript.query_v3.Coll1Relation(new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[r],null),1,l)},datascript.query_v3.CollRelation=function(r,l,e,c){this.symbols=r,this.offset_map=l,this.arity=e,this.coll=c,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.CollRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.reduce.call(null,l,e,this.coll)},datascript.query_v3.CollRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core.count.call(null,this.coll)},datascript.query_v3.CollRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.CollRelation.prototype.datascript$query_v3$IRelation$_getter$arity$2=function(r,l){return function(r,l){return function(l){return cljs.core.nth.call(null,l,r)}}(this.offset_map.call(null,l))},datascript.query_v3.CollRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return datascript.query_v3.mapa.call(null,this.offset_map,l)},datascript.query_v3.CollRelation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){r=e.length;for(var n=0;;){if(!(n<r))return null;c[n+t]=cljs.core.nth.call(null,l,e[n]),n+=1}},datascript.query_v3.CollRelation.prototype.datascript$query_v3$IRelation$_union$arity$2=function(r,l){return new datascript.query_v3.CollRelation(this.symbols,this.offset_map,this.arity,cljs.core.into.call(null,this.coll,l.coll))},datascript.query_v3.CollRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.CollRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#CollRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"offset-map","offset-map",-1320118550),this.offset_map,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity,new cljs.core.Keyword(null,"coll","coll",1647737163),this.coll],null),l,e)},datascript.query_v3.CollRelation.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"offset-map","offset-map",320412977,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null),new cljs.core.Symbol(null,"coll","coll",-1006698606,null)],null)},datascript.query_v3.CollRelation.cljs$lang$type=!0,datascript.query_v3.CollRelation.cljs$lang$ctorStr="datascript.query-v3/CollRelation",datascript.query_v3.CollRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/CollRelation")},datascript.query_v3.__GT_CollRelation=function(r,l,e,c){return new datascript.query_v3.CollRelation(r,l,e,c)},datascript.query_v3.coll_rel=function(r,l){var e=cljs.core.reduce_kv.call(null,function(r,l,e){return cljs.core.not_EQ_.call(null,l,new cljs.core.Symbol(null,"_","_",-1201019570,null))?cljs.core.assoc.call(null,r,l,e):r},cljs.core.PersistentArrayMap.EMPTY,cljs.core.zipmap.call(null,r,cljs.core.range.call(null)));return new datascript.query_v3.CollRelation(cljs.core.keys.call(null,e),e,cljs.core.count.call(null,e),l)},datascript.query_v3.ProdRelation=function(r,l,e,c){this.symbols=r,this.arity=l,this.rel1=e,this.rel2=c,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.ProdRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){var c=this;return cljs.core.reduce.call(null,function(r){return function(r,e){return cljs.core.reduce.call(null,function(r){return function(r,c){return l.call(null,r,datascript.shim.into_array.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[e,c],null)))}}(),r,c.rel2)}}(),e,c.rel1)},datascript.query_v3.ProdRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return cljs.core._count.call(null,this.rel1)*cljs.core._count.call(null,this.rel2)},datascript.query_v3.ProdRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.ProdRelation.prototype.datascript$query_v3$IRelation$_getter$arity$2=function(r,l){return cljs.core.truth_(cljs.core.some.call(null,cljs.core.PersistentHashSet.fromArray([l],!0),this.rel1.symbols))?datascript.query_v3._getter.call(null,this.rel1,l):datascript.query_v3._getter.call(null,this.rel2,l)},datascript.query_v3.ProdRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){var e=cljs.core.split_with.call(null,cljs.core.set.call(null,this.rel1.symbols),l),c=cljs.core.nth.call(null,e,0,null),e=cljs.core.nth.call(null,e,1,null);return datascript.shim.into_array.call(null,new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.query_v3._indexes.call(null,this.rel1,c),datascript.query_v3._indexes.call(null,this.rel2,e)],null))},datascript.query_v3.ProdRelation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){return r=e[1],datascript.query_v3._copy_tuple.call(null,this.rel1,l[0],e[0],c,t),datascript.query_v3._copy_tuple.call(null,this.rel2,l[1],r,c,t+this.rel1.arity)},datascript.query_v3.ProdRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.ProdRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#ProdRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"rel1","rel1",-377930130),this.rel1,new cljs.core.Keyword(null,"rel2","rel2",1601462118),this.rel2],null),l,e)},datascript.query_v3.ProdRelation.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null),new cljs.core.Symbol(null,"rel1","rel1",1262601397,null),new cljs.core.Symbol(null,"rel2","rel2",-1052973651,null)],null)},datascript.query_v3.ProdRelation.cljs$lang$type=!0,datascript.query_v3.ProdRelation.cljs$lang$ctorStr="datascript.query-v3/ProdRelation",datascript.query_v3.ProdRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/ProdRelation")},datascript.query_v3.__GT_ProdRelation=function(r,l,e,c){return new datascript.query_v3.ProdRelation(r,l,e,c)},datascript.query_v3.prod_rel=function(r,l){return new datascript.query_v3.ProdRelation(datascript.query_v3.concatv.call(null,r.symbols,l.symbols),r.arity+l.arity,r,l)},datascript.query_v3.EmptyRelation=function(r,l){this.symbols=r,this.arity=l,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.EmptyRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return e},datascript.query_v3.EmptyRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 0},datascript.query_v3.EmptyRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.EmptyRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return datascript.query_v3.mapa.call(null,cljs.core.zipmap.call(null,this.symbols,cljs.core.range.call(null)),l)},datascript.query_v3.EmptyRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.EmptyRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#EmptyRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity],null),l,e)},datascript.query_v3.EmptyRelation.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null)],null)},datascript.query_v3.EmptyRelation.cljs$lang$type=!0,datascript.query_v3.EmptyRelation.cljs$lang$ctorStr="datascript.query-v3/EmptyRelation",datascript.query_v3.EmptyRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/EmptyRelation")},datascript.query_v3.__GT_EmptyRelation=function(r,l){return new datascript.query_v3.EmptyRelation(r,l)},datascript.query_v3.empty_rel=function(r){return new datascript.query_v3.EmptyRelation(r,cljs.core.count.call(null,r))},datascript.query_v3.SingletonRelation=function(r,l){this.symbols=r,this.arity=l,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.SingletonRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return l.call(null,e,datascript.shim.into_array.call(null,cljs.core.PersistentVector.EMPTY))},datascript.query_v3.SingletonRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return 1},datascript.query_v3.SingletonRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.SingletonRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return datascript.shim.into_array.call(null,cljs.core.PersistentVector.EMPTY)},datascript.query_v3.SingletonRelation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){return null},datascript.query_v3.SingletonRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.SingletonRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#SingletonRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity],null),l,e)},datascript.query_v3.SingletonRelation.getBasis=function(){return new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null)],null)},datascript.query_v3.SingletonRelation.cljs$lang$type=!0,datascript.query_v3.SingletonRelation.cljs$lang$ctorStr="datascript.query-v3/SingletonRelation",datascript.query_v3.SingletonRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/SingletonRelation")},datascript.query_v3.__GT_SingletonRelation=function(r,l){return new datascript.query_v3.SingletonRelation(r,l)},datascript.query_v3.singleton_rel=function(){return new datascript.query_v3.SingletonRelation(cljs.core.PersistentVector.EMPTY,0)},datascript.query_v3.join_tuples=function(r,l,e,c,t,n,s,o){return s=Array(s),datascript.query_v3._copy_tuple.call(null,r,l,e,s,0),datascript.query_v3._copy_tuple.call(null,c,t,n,s,o),s},datascript.query_v3.product=function(r,l){var e=datascript.query_v3._indexes.call(null,r,r.symbols),c=datascript.query_v3._indexes.call(null,l,l.symbols),e=cljs.core.reduce.call(null,function(e,c,t,n){return function(s,o){return cljs.core.reduce.call(null,function(e,c,t,n){return function(s,a){return cljs.core.conj_BANG_.call(null,s,datascript.query_v3.join_tuples.call(null,r,o,e,l,a,c,t,n))}}(e,c,t,n),s,l)}}(e,c,r.arity+l.arity,r.arity),cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),r);return datascript.query_v3.array_rel.call(null,datascript.query_v3.concatv.call(null,r.symbols,l.symbols),cljs.core.persistent_BANG_.call(null,e))},datascript.query_v3.key_fn=function(r,l){var e=cljs.core.count.call(null,l);return 1===e?datascript.query_v3._getter.call(null,r,cljs.core.first.call(null,l)):function(l,e){return function(c){var t=Array(e);return datascript.query_v3._copy_tuple.call(null,r,c,l,t,0),datascript.query_v3.tuple.call(null,t)}}(datascript.query_v3._indexes.call(null,r,l),e)},datascript.query_v3.common_symbols=function(r,l){return cljs.core.filter.call(null,cljs.core.set.call(null,l.symbols),r.symbols)},datascript.query_v3.hash_rel=function(r,l){var e=datascript.query_v3.key_fn.call(null,r,l);return cljs.core.reduce.call(null,function(r){return function(l,e){var c=r.call(null,e),t=cljs.core.get.call(null,l,c,null);return null==t?cljs.core.assoc_BANG_.call(null,l,c,datascript.shim.into_array.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[e],null))):(t.push(e),l)}}(e),cljs.core.transient$.call(null,cljs.core.PersistentArrayMap.EMPTY),r)},datascript.query_v3.hash_join=function(r,l,e,c){var t=r.symbols,n=c.symbols,s=cljs.core.remove.call(null,cljs.core.set.call(null,t),n),o=datascript.query_v3.key_fn.call(null,c,e),a=datascript.query_v3._indexes.call(null,r,t),i=datascript.query_v3._indexes.call(null,c,s);e=datascript.query_v3.concatv.call(null,t,s);var u=cljs.core.count.call(null,e),t=cljs.core.reduce.call(null,function(e,t,n,s,o,a,i,u,$){return function(e,t){var n=cljs.core.get.call(null,l,s.call(null,t),null);if(null==n)return e;for(var i=0,j=e;;){if(!(i<n.length))return j;var _=i+1,j=cljs.core.conj_BANG_.call(null,j,datascript.query_v3.join_tuples.call(null,r,n[i],o,c,t,a,u,$)),i=_}}}(0,0,0,o,a,i,0,u,r.arity),cljs.core.transient$.call(null,cljs.core.PersistentVector.EMPTY),c);return datascript.query_v3.array_rel.call(null,e,cljs.core.persistent_BANG_.call(null,t))},datascript.query_v3.union=function(r,l){return datascript.query_v3._union.call(null,r,l)},datascript.query_v3.bindable_to_seq_QMARK_=function(r){var l=datascript.shim.seqable_QMARK_.call(null,r);return cljs.core.truth_(l)?l:datascript.shim.array_QMARK_.call(null,r)},datascript.query_v3.binding_symbols=function(r){return cljs.core.map.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696),datascript.parser.collect_vars_distinct.call(null,r))},datascript.query_v3.plain_tuple_binding_QMARK_=function(r){return r instanceof datascript.parser.BindTuple&&cljs.core.every_QMARK_.call(null,function(r){return r instanceof datascript.parser.BindScalar||r instanceof datascript.parser.BindIgnore},r.bindings)},datascript.query_v3.bind_tuples=function(r,l){return datascript.query_v3.coll_rel.call(null,cljs.core.mapv.call(null,function(r){return r instanceof datascript.parser.BindScalar?r.variable.symbol:new cljs.core.Symbol(null,"_","_",-1201019570,null)},r),l)},datascript.query_v3.IBinding=function(){return{}}(),datascript.query_v3.in__GT_rel=function(r,l){if(r?r.datascript$query_v3$IBinding$in__GT_rel$arity$2:r)return r.datascript$query_v3$IBinding$in__GT_rel$arity$2(r,l);var e;if(!(e=datascript.query_v3.in__GT_rel[goog.typeOf(null==r?null:r)])&&!(e=datascript.query_v3.in__GT_rel._))throw cljs.core.missing_protocol.call(null,"IBinding.in->rel",r);return e.call(null,r,l)},datascript.parser.BindIgnore.prototype.datascript$query_v3$IBinding$=!0,datascript.parser.BindIgnore.prototype.datascript$query_v3$IBinding$in__GT_rel$arity$2=function(r,l){return datascript.query_v3.singleton_rel.call(null)},datascript.parser.BindScalar.prototype.datascript$query_v3$IBinding$=!0,datascript.parser.BindScalar.prototype.datascript$query_v3$IBinding$in__GT_rel$arity$2=function(r,l){return datascript.query_v3.array_rel.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[this.variable.symbol],null),new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[datascript.shim.into_array.call(null,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null))],null))},datascript.parser.BindColl.prototype.datascript$query_v3$IBinding$=!0,datascript.parser.BindColl.prototype.datascript$query_v3$IBinding$in__GT_rel$arity$2=function(r,l){var e=this.binding;if(cljs.core.not.call(null,datascript.query_v3.bindable_to_seq_QMARK_.call(null,l)))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot bind value "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to collection "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));return cljs.core.empty_QMARK_.call(null,l)?datascript.query_v3.empty_rel.call(null,datascript.query_v3.binding_symbols.call(null,this)):e instanceof datascript.parser.BindScalar?datascript.query_v3.coll1_rel.call(null,e.variable.symbol,l):cljs.core.truth_(datascript.query_v3.plain_tuple_binding_QMARK_.call(null,e))?datascript.query_v3.bind_tuples.call(null,e.bindings,l):cljs.core.reduce.call(null,datascript.query_v3.union,cljs.core.map.call(null,function(r,l){return function(l){return datascript.query_v3.in__GT_rel.call(null,r,l)}}(e),l))},datascript.parser.BindTuple.prototype.datascript$query_v3$IBinding$=!0,datascript.parser.BindTuple.prototype.datascript$query_v3$IBinding$in__GT_rel$arity$2=function(r,l){if(cljs.core.not.call(null,datascript.query_v3.bindable_to_seq_QMARK_.call(null,l)))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot bind value "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to tuple "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));if(cljs.core.count.call(null,l)<cljs.core.count.call(null,this.bindings))throw cljs.core.ex_info.call(null,[cljs.core.str("Not enough elements in a collection "),cljs.core.str(cljs.core.pr_str.call(null,l)),cljs.core.str(" to bind tuple "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,this)))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"value","value",305978217),l,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,this)],null));return cljs.core.truth_(datascript.query_v3.plain_tuple_binding_QMARK_.call(null,this))?datascript.query_v3.bind_tuples.call(null,this.bindings,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[l],null)):cljs.core.reduce.call(null,datascript.query_v3.product,cljs.core.map.call(null,function(r){return function(r,l){return datascript.query_v3.in__GT_rel.call(null,r,l)}}(),this.bindings,l))},datascript.query_v3.rel__GT_consts=function(r){return cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.map.call(null,cljs.core.vector,r.symbols,datascript.query_v3.first_tuple.call(null,r)))},datascript.query_v3.resolve_in=function(r,l){var e=cljs.core.nth.call(null,l,0,null),c=cljs.core.nth.call(null,l,1,null);return e instanceof datascript.parser.BindScalar&&e.variable instanceof datascript.parser.SrcVar?cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"sources","sources",-321166424)],null),cljs.core.assoc,e.variable.symbol,c):(e=datascript.query_v3.in__GT_rel.call(null,e,c),1===cljs.core.count.call(null,e)?cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"consts","consts",685403420)],null),cljs.core.merge,datascript.query_v3.rel__GT_consts.call(null,e)):cljs.core.update_in.call(null,r,new cljs.core.PersistentVector(null,1,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"rels","rels",1770187185)],null),cljs.core.conj,e))},datascript.query_v3.resolve_ins=function(r,l,e){if(cljs.core.not_EQ_.call(null,cljs.core.count.call(null,l),cljs.core.count.call(null,e)))throw cljs.core.ex_info.call(null,[cljs.core.str("Wrong number of arguments for bindings "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.mapv.call(null,datascript.parser.source,l))),cljs.core.str(", "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.count.call(null,l))),cljs.core.str(" required, "),cljs.core.str(cljs.core.pr_str.call(null,cljs.core.count.call(null,e))),cljs.core.str(" provided")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","binding","query/binding",698240489),new cljs.core.Keyword(null,"binding","binding",539932593),cljs.core.mapv.call(null,datascript.parser.source,l)],null));return cljs.core.reduce.call(null,datascript.query_v3.resolve_in,r,cljs.core.map.call(null,cljs.core.vector,l,e))},datascript.query_v3.substitute_constants=function(r,l){return datascript.parser.postwalk.call(null,r,function(r){if(r instanceof datascript.parser.Variable){var e=new cljs.core.Keyword(null,"consts","consts",685403420).cljs$core$IFn$_invoke$arity$1(l).call(null,r.symbol);return cljs.core.truth_(e)?new datascript.parser.Constant(e,null,null,null):r}return r})},datascript.query_v3.IClause=function(){return{}}(),datascript.query_v3._resolve_clause=function(r,l,e,c){if(r?r.datascript$query_v3$IClause$_resolve_clause$arity$4:r)return r.datascript$query_v3$IClause$_resolve_clause$arity$4(r,l,e,c);var t;if(!(t=datascript.query_v3._resolve_clause[goog.typeOf(null==r?null:r)])&&!(t=datascript.query_v3._resolve_clause._))throw cljs.core.missing_protocol.call(null,"IClause.-resolve-clause",r);return t.call(null,r,l,e,c)},datascript.query_v3.get_source=function(r,l){var e;if(l instanceof datascript.parser.SrcVar)e=l.symbol;else{if(!(l instanceof datascript.parser.DefaultSrc))throw cljs.core.ex_info.call(null,""+cljs.core.str("Source expected, got "),l);e=new cljs.core.Keyword(null,"default-source-symbol","default-source-symbol",-756428921).cljs$core$IFn$_invoke$arity$1(r)}var c=cljs.core.get.call(null,new cljs.core.Keyword(null,"sources","sources",-321166424).cljs$core$IFn$_invoke$arity$1(r),e);if(cljs.core.truth_(c))return c;throw cljs.core.ex_info.call(null,[cljs.core.str("Source "),cljs.core.str(cljs.core.pr_str.call(null,e)),cljs.core.str(" is not defined")].join(""),new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","where","query/where",-1935159429),new cljs.core.Keyword(null,"symbol","symbol",-1038572696),e],null))},datascript.query_v3.DatomsRelation=function(r,l,e,c){this.symbols=r,this.props_map=l,this.arity=e,this.iter=c,this.cljs$lang$protocol_mask$partition0$=2148007938,this.cljs$lang$protocol_mask$partition1$=0},datascript.query_v3.DatomsRelation.prototype.cljs$core$IReduce$_reduce$arity$3=function(r,l,e){return cljs.core.reduce.call(null,l,e,this.iter)},datascript.query_v3.DatomsRelation.prototype.cljs$core$ICounted$_count$arity$1=function(r){return datascript.btset.est_count.call(null,this.iter)},datascript.query_v3.DatomsRelation.prototype.datascript$query_v3$IRelation$=!0,datascript.query_v3.DatomsRelation.prototype.datascript$query_v3$IRelation$_getter$arity$2=function(r,l){return function(r,l){return function(l){return l[r]}}(this.props_map.call(null,l))},datascript.query_v3.DatomsRelation.prototype.datascript$query_v3$IRelation$_indexes$arity$2=function(r,l){return datascript.query_v3.mapa.call(null,this.props_map,l)},datascript.query_v3.DatomsRelation.prototype.datascript$query_v3$IRelation$_copy_tuple$arity$5=function(r,l,e,c,t){r=e.length;for(var n=0;;){if(!(n<r))return null;c[n+t]=l[e[n]],n+=1}},datascript.query_v3.DatomsRelation.prototype.toString=function(){return cljs.core.pr_str_STAR_.call(null,this)},datascript.query_v3.DatomsRelation.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3=function(r,l,e){return cljs.core._write.call(null,l,"#IndexRelation"),cljs.core.pr_writer.call(null,new cljs.core.PersistentArrayMap(null,4,[new cljs.core.Keyword(null,"symbols","symbols",1211743),this.symbols,new cljs.core.Keyword(null,"props-map","props-map",518468909),this.props_map,new cljs.core.Keyword(null,"arity","arity",-1808556135),this.arity,new cljs.core.Keyword(null,"iter","iter",1308240283),this.iter],null),l,e)},datascript.query_v3.DatomsRelation.getBasis=function(){return new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Symbol(null,"symbols","symbols",1641743270,null),new cljs.core.Symbol(null,"props-map","props-map",-2135966860,null),new cljs.core.Symbol(null,"arity","arity",-168024608,null),new cljs.core.Symbol(null,"iter","iter",-1346195486,null)],null)},datascript.query_v3.DatomsRelation.cljs$lang$type=!0,datascript.query_v3.DatomsRelation.cljs$lang$ctorStr="datascript.query-v3/DatomsRelation",datascript.query_v3.DatomsRelation.cljs$lang$ctorPrWriter=function(r,l,e){return cljs.core._write.call(null,l,"datascript.query-v3/DatomsRelation")},datascript.query_v3.__GT_DatomsRelation=function(r,l,e,c){return new datascript.query_v3.DatomsRelation(r,l,e,c)},datascript.query_v3.pattern__GT_props_map=function(r){return cljs.core.reduce_kv.call(null,function(r,l,e){return l instanceof datascript.parser.Variable?cljs.core.assoc.call(null,r,l.symbol,e):r},cljs.core.PersistentArrayMap.EMPTY,cljs.core.zipmap.call(null,r,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,["e","a","v","tx"],null)))},datascript.query_v3._resolve_pattern_db=function(r,l,e,c){return e=l.pattern,e=cljs.core.mapv.call(null,function(r){return function(r){return r instanceof datascript.parser.Constant?r.value:null}}(),e),r=datascript.core._search.call(null,r,e),l=datascript.query_v3.pattern__GT_props_map.call(null,l.pattern),new datascript.query_v3.DatomsRelation(cljs.core.keys.call(null,l),l,cljs.core.count.call(null,l),r)},datascript.query_v3.matches_pattern_QMARK_=function(r,l){return cljs.core.reduce_kv.call(null,function(r,e,c){return!cljs.core.not_EQ_.call(null,cljs.core.nth.call(null,l,e),c)||cljs.core.reduced.call(null,!1)},!0,r)},datascript.query_v3.bind_pattern=function(r,l){return datascript.query_v3.coll_rel.call(null,cljs.core.mapv.call(null,function(r){return r instanceof datascript.parser.Variable?r.symbol:new cljs.core.Symbol(null,"_","_",-1201019570,null)},r),l)},datascript.query_v3._resolve_pattern_coll=function(r,l){if(!cljs.core.truth_(datascript.query_v3.bindable_to_seq_QMARK_.call(null,r)))throw cljs.core.ex_info.call(null,[cljs.core.str("Cannot match by pattern "),cljs.core.str(cljs.core.pr_str.call(null,datascript.parser.source.call(null,l))),cljs.core.str(" because source is not a collection: "),cljs.core.str(cljs.core.pr_str.call(null,r))].join(""),new cljs.core.PersistentArrayMap(null,3,[new cljs.core.Keyword(null,"error","error",-978969032),new cljs.core.Keyword("query","where","query/where",-1935159429),new cljs.core.Keyword(null,"value","value",305978217),r,new cljs.core.Keyword(null,"binding","binding",539932593),datascript.parser.source.call(null,l)],null));var e=l.pattern,c=cljs.core.into.call(null,cljs.core.PersistentArrayMap.EMPTY,cljs.core.remove.call(null,cljs.core.nil_QMARK_,cljs.core.map.call(null,function(r){return function(r,l){
return r instanceof datascript.parser.Constant?new cljs.core.PersistentVector(null,2,5,cljs.core.PersistentVector.EMPTY_NODE,[l,r.value],null):null}}(),e,cljs.core.range.call(null)))),c=cljs.core.filter.call(null,function(r,l){return function(r){return datascript.query_v3.matches_pattern_QMARK_.call(null,l,r)}}(0,c),r);return datascript.query_v3.bind_pattern.call(null,e,c)},datascript.parser.Pattern.prototype.datascript$query_v3$IClause$=!0,datascript.parser.Pattern.prototype.datascript$query_v3$IClause$_resolve_clause$arity$4=function(r,l,e,c){return((r=datascript.query_v3.get_source.call(null,l,this.source))?cljs.core.truth_(cljs.core.truth_(null)?null:r.datascript$core$ISearch$)||(r.cljs$lang$protocol_mask$partition$?0:cljs.core.native_satisfies_QMARK_.call(null,datascript.core.ISearch,r)):cljs.core.native_satisfies_QMARK_.call(null,datascript.core.ISearch,r))?datascript.query_v3._resolve_pattern_db.call(null,r,this,e,c):datascript.query_v3._resolve_pattern_coll.call(null,r,this)},datascript.query_v3.resolve_clause_new=function(r,l){return datascript.query_v3._resolve_clause.call(null,l,r,null,null)},datascript.query_v3.resolve_clause_related=function(r,l,e,c){c=cljs.core.reduce.call(null,datascript.query_v3.product,c),e=cljs.core.filter.call(null,e,c.symbols);var t=datascript.query_v3.hash_rel.call(null,c,e);return r=datascript.query_v3._resolve_clause.call(null,l,r,e,t),datascript.query_v3.hash_join.call(null,c,t,e,r)},datascript.query_v3.resolve_clause=function(r,l){var e=cljs.core.into.call(null,cljs.core.PersistentHashSet.EMPTY,cljs.core.map.call(null,new cljs.core.Keyword(null,"symbol","symbol",-1038572696)),datascript.parser.collect.call(null,function(r){return r instanceof datascript.parser.Variable},l,cljs.core.PersistentHashSet.EMPTY)),c=cljs.core.into.call(null,cljs.core.PersistentHashSet.EMPTY,cljs.core.filter.call(null,new cljs.core.Keyword(null,"consts","consts",685403420).cljs$core$IFn$_invoke$arity$1(r)),e),t=new cljs.core.Keyword(null,"rels","rels",1770187185).cljs$core$IFn$_invoke$arity$1(r),n=function(r,l,e){return function(l){return cljs.core.some.call(null,r,l.symbols)}}(e),s=cljs.core.filter.call(null,n,t),o=cljs.core.truth_(cljs.core.some.call(null,new cljs.core.Keyword(null,"consts","consts",685403420).cljs$core$IFn$_invoke$arity$1(r),e))?datascript.query_v3.substitute_constants.call(null,l,r):l,a=cljs.core.truth_(cljs.core.some.call(null,new cljs.core.Keyword(null,"empties","empties",1178173901).cljs$core$IFn$_invoke$arity$1(r),e))?datascript.query_v3.empty_rel.call(null,cljs.core.vec.call(null,cljs.core.set.call(null,cljs.core.concat.call(null,e,cljs.core.mapcat.call(null,function(r,l,e,c,t,n){return function(r){return r.symbols}}(),s))))):cljs.core.empty_QMARK_.call(null,s)?datascript.query_v3.resolve_clause_new.call(null,r,o):datascript.query_v3.resolve_clause_related.call(null,r,o,e,s),i=cljs.core.remove.call(null,n,t),u=cljs.core.count.call(null,a);return 0===u?cljs.core.update.call(null,cljs.core.update.call(null,r,new cljs.core.Keyword(null,"consts","consts",685403420),function(r,l,e,c,t,n,s,o,a){return function(r){return cljs.core.apply.call(null,cljs.core.dissoc,r,l)}}(0,c)),new cljs.core.Keyword(null,"empties","empties",1178173901),clojure.set.union,e,c):1===u?cljs.core.assoc.call(null,cljs.core.update.call(null,r,new cljs.core.Keyword(null,"consts","consts",685403420),cljs.core.merge,datascript.query_v3.rel__GT_consts.call(null,a)),new cljs.core.Keyword(null,"rels","rels",1770187185),i):cljs.core.assoc.call(null,r,new cljs.core.Keyword(null,"rels","rels",1770187185),cljs.core.conj.call(null,i,a))},datascript.query_v3.query_cache=cljs.core.volatile_BANG_.call(null,cljs.core.PersistentArrayMap.EMPTY),datascript.query_v3.parse_query=function(r){var l=cljs.core.deref.call(null,datascript.query_v3.query_cache).call(null,r);return cljs.core.truth_(l)?l:(l=datascript.parser.parse_query.call(null,r),cljs.core._vreset_BANG_.call(null,datascript.query_v3.query_cache,cljs.core.assoc.call(null,cljs.core._deref.call(null,datascript.query_v3.query_cache),r,l)),l)},datascript.query_v3.q=function(){var r=1<arguments.length?new cljs.core.IndexedSeq(Array.prototype.slice.call(arguments,1),0):null;return datascript.query_v3.q.cljs$core$IFn$_invoke$arity$variadic(arguments[0],r)},datascript.query_v3.q.cljs$core$IFn$_invoke$arity$variadic=function(r,l){var e=datascript.query_v3.parse_query.call(null,r),c=new cljs.core.PersistentArrayMap(null,6,[new cljs.core.Keyword(null,"rels","rels",1770187185),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"consts","consts",685403420),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"empties","empties",1178173901),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(null,"sources","sources",-321166424),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"rules","rules",1198912366),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"default-source-symbol","default-source-symbol",-756428921),new cljs.core.Symbol(null,"$","$",-1580747756,null)],null),c=datascript.query_v3.resolve_ins.call(null,c,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(e),l);return cljs.core.reduce.call(null,datascript.query_v3.resolve_clause,c,new cljs.core.Keyword(null,"where","where",-2044795965).cljs$core$IFn$_invoke$arity$1(e))},datascript.query_v3.q.cljs$lang$maxFixedArity=1,datascript.query_v3.q.cljs$lang$applyTo=function(r){var l=cljs.core.first.call(null,r);return r=cljs.core.next.call(null,r),datascript.query_v3.q.cljs$core$IFn$_invoke$arity$variadic(l,r)},datascript.query_v3.rand_entity=function(){return new cljs.core.PersistentArrayMap(null,2,[new cljs.core.Keyword(null,"name","name",1843675177),cljs.core.rand_nth.call(null,new cljs.core.PersistentVector(null,4,5,cljs.core.PersistentVector.EMPTY_NODE,["ivan","oleg","petr","igor"],null)),new cljs.core.Keyword(null,"age","age",-604307804),cljs.core.rand_int.call(null,10)],null)},cljs.nodejscli={},COMPILED&&(goog.global=global),null==cljs.core._STAR_main_cli_fn_STAR_||!cljs.core.fn_QMARK_.call(null,cljs.core._STAR_main_cli_fn_STAR_))throw Error("cljs.core/*main-cli-fn* not set");return cljs.core.apply.call(null,cljs.core._STAR_main_cli_fn_STAR_,cljs.core.drop.call(null,2,cljs.nodejs.process.argv)),this.datascript.js}.call({})})},{__browserify_process:18}],3:[function(r,l,e){function c(){j=!0;for(var r,l,e=_.length;e;){for(l=_,_=[],r=-1;++r<e;)l[r]();e=_.length}j=!1}function t(r){1!==_.push(r)||j||n()}var n,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o=s.MutationObserver||s.WebKitMutationObserver;if(o){var a=0,i=new o(c),u=s.document.createTextNode("");i.observe(u,{characterData:!0}),n=function(){u.data=a=++a%2}}else if(s.setImmediate||void 0===s.MessageChannel)n="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var r=s.document.createElement("script");r.onreadystatechange=function(){c(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},s.document.documentElement.appendChild(r)}:function(){setTimeout(c,0)};else{var $=new s.MessageChannel;$.port1.onmessage=c,n=function(){$.port2.postMessage(0)}}var j,_=[];l.exports=t},{}],4:[function(r,l,e){"function"==typeof Object.create?l.exports=function(r,l){l&&(r.super_=l,r.prototype=Object.create(l.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(r,l){if(l){r.super_=l;var e=function(){};e.prototype=l.prototype,r.prototype=new e,r.prototype.constructor=r}}},{}],5:[function(r,l,e){"use strict";function c(){}l.exports=c},{}],6:[function(r,l,e){"use strict";function c(r){if("[object Array]"!==Object.prototype.toString.call(r))return n(new TypeError("must be an array"));var l=r.length,e=!1;if(!l)return s([]);for(var c=new Array(l),i=0,u=-1,$=new t(o);++u<l;)!function(r,t){function n(r){c[t]=r,++i===l&!e&&(e=!0,a.resolve($,c))}s(r).then(n,function(r){e||(e=!0,a.reject($,r))})}(r[u],u);return $}var t=r("./promise"),n=r("./reject"),s=r("./resolve"),o=r("./INTERNAL"),a=r("./handlers");l.exports=c},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":12,"./resolve":13}],7:[function(r,l,e){"use strict";function c(r){var l=r&&r.then;if(r&&"object"==typeof r&&"function"==typeof l)return function(){l.apply(r,arguments)}}var t=r("./tryCatch"),n=r("./resolveThenable"),s=r("./states");e.resolve=function(r,l){var o=t(c,l);if("error"===o.status)return e.reject(r,o.value);var a=o.value;if(a)n.safely(r,a);else{r.state=s.FULFILLED,r.outcome=l;for(var i=-1,u=r.queue.length;++i<u;)r.queue[i].callFulfilled(l)}return r},e.reject=function(r,l){r.state=s.REJECTED,r.outcome=l;for(var e=-1,c=r.queue.length;++e<c;)r.queue[e].callRejected(l);return r}},{"./resolveThenable":14,"./states":15,"./tryCatch":16}],8:[function(r,l,e){l.exports=e=r("./promise"),e.resolve=r("./resolve"),e.reject=r("./reject"),e.all=r("./all"),e.race=r("./race")},{"./all":6,"./promise":9,"./race":11,"./reject":12,"./resolve":13}],9:[function(r,l,e){"use strict";function c(r){if(!(this instanceof c))return new c(r);if("function"!=typeof r)throw new TypeError("resolver must be a function");this.state=o.PENDING,this.queue=[],this.outcome=void 0,r!==n&&s.safely(this,r)}var t=r("./unwrap"),n=r("./INTERNAL"),s=r("./resolveThenable"),o=r("./states"),a=r("./queueItem");l.exports=c,c.prototype.catch=function(r){return this.then(null,r)},c.prototype.then=function(r,l){if("function"!=typeof r&&this.state===o.FULFILLED||"function"!=typeof l&&this.state===o.REJECTED)return this;var e=new c(n);if(this.state!==o.PENDING){var s=this.state===o.FULFILLED?r:l;t(e,s,this.outcome)}else this.queue.push(new a(e,r,l));return e}},{"./INTERNAL":5,"./queueItem":10,"./resolveThenable":14,"./states":15,"./unwrap":17}],10:[function(r,l,e){"use strict";function c(r,l,e){this.promise=r,"function"==typeof l&&(this.onFulfilled=l,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}var t=r("./handlers"),n=r("./unwrap");l.exports=c,c.prototype.callFulfilled=function(r){t.resolve(this.promise,r)},c.prototype.otherCallFulfilled=function(r){n(this.promise,this.onFulfilled,r)},c.prototype.callRejected=function(r){t.reject(this.promise,r)},c.prototype.otherCallRejected=function(r){n(this.promise,this.onRejected,r)}},{"./handlers":7,"./unwrap":17}],11:[function(r,l,e){"use strict";function c(r){if("[object Array]"!==Object.prototype.toString.call(r))return n(new TypeError("must be an array"));var l=r.length,e=!1;if(!l)return s([]);for(var c=-1,i=new t(o);++c<l;)!function(r){s(r).then(function(r){e||(e=!0,a.resolve(i,r))},function(r){e||(e=!0,a.reject(i,r))})}(r[c]);return i}var t=r("./promise"),n=r("./reject"),s=r("./resolve"),o=r("./INTERNAL"),a=r("./handlers");l.exports=c},{"./INTERNAL":5,"./handlers":7,"./promise":9,"./reject":12,"./resolve":13}],12:[function(r,l,e){"use strict";function c(r){var l=new t(n);return s.reject(l,r)}var t=r("./promise"),n=r("./INTERNAL"),s=r("./handlers");l.exports=c},{"./INTERNAL":5,"./handlers":7,"./promise":9}],13:[function(r,l,e){"use strict";function c(r){if(r)return r instanceof t?r:s.resolve(new t(n),r);switch(typeof r){case"boolean":return o;case"undefined":return i;case"object":return a;case"number":return u;case"string":return $}}var t=r("./promise"),n=r("./INTERNAL"),s=r("./handlers");l.exports=c;var o=s.resolve(new t(n),!1),a=s.resolve(new t(n),null),i=s.resolve(new t(n),void 0),u=s.resolve(new t(n),0),$=s.resolve(new t(n),"")},{"./INTERNAL":5,"./handlers":7,"./promise":9}],14:[function(r,l,e){"use strict";function c(r,l){function e(l){o||(o=!0,t.reject(r,l))}function c(l){o||(o=!0,t.resolve(r,l))}function s(){l(c,e)}var o=!1,a=n(s);"error"===a.status&&e(a.value)}var t=r("./handlers"),n=r("./tryCatch");e.safely=c},{"./handlers":7,"./tryCatch":16}],15:[function(r,l,e){e.REJECTED=["REJECTED"],e.FULFILLED=["FULFILLED"],e.PENDING=["PENDING"]},{}],16:[function(r,l,e){"use strict";function c(r,l){var e={};try{e.value=r(l),e.status="success"}catch(r){e.status="error",e.value=r}return e}l.exports=c},{}],17:[function(r,l,e){"use strict";function c(r,l,e){t(function(){var c;try{c=l(e)}catch(l){return n.reject(r,l)}c===r?n.reject(r,new TypeError("Cannot resolve promise with itself")):n.resolve(r,c)})}var t=r("immediate"),n=r("./handlers");l.exports=c},{"./handlers":7,immediate:3}],18:[function(r,l,e){var c=l.exports={};c.nextTick=function(){var r="undefined"!=typeof window&&window.setImmediate,l="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(r)return function(r){return window.setImmediate(r)};if(l){var e=[];return window.addEventListener("message",function(r){var l=r.source;if((l===window||null===l)&&"process-tick"===r.data&&(r.stopPropagation(),e.length>0)){e.shift()()}},!0),function(r){e.push(r),window.postMessage("process-tick","*")}}return function(r){setTimeout(r,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(r){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(r){throw new Error("process.chdir is not supported")}},{}],19:[function(r,l,e){var c,t=r("__browserify_process"),n="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};c="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof n.Promise?n.Promise:r("lie"),e.once=function(r){var l=!1;return e.getArguments(function(e){if(l)throw console.trace(),new Error("once called  more than once");l=!0,r.apply(this,e)})},e.getArguments=function(r){return function(){for(var l=arguments.length,e=new Array(l),c=-1;++c<l;)e[c]=arguments[c];return r.call(this,e)}},e.toPromise=function(r){return e.getArguments(function(l){var n,s=this,o="function"==typeof l[l.length-1]&&l.pop();o&&(n=function(r,l){t.nextTick(function(){o(r,l)})});var a=new c(function(c,t){try{var n=e.once(function(r,l){r?t(r):c(l)});l.push(n),r.apply(s,l)}catch(r){t(r)}});return n&&a.then(function(r){n(null,r)},n),a.cancel=function(){return this},a})},e.inherits=r("inherits"),e.Promise=c},{__browserify_process:18,inherits:4,lie:8}]},{},[1]);
